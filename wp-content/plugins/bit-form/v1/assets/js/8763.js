"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[8763],{18763:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var l=s(665),i=s(59496),n=s(87230),a=s(73305),r=s(65194),c=s(77111),d=s(25516),o=s(56079),m=s(53132),u=s(81625),f=s(63838),h=s(4637);const p=function(e){var t,s=e.formFields,p=e.setIntegration,x=e.integrations,b=e.allIntegURL,j=(0,n.k6)(),_=(0,n.UO)().id,v=(0,i.useState)([]),g=v[0],N=v[1],y=(0,i.useState)([]),F=y[0],C=y[1],S=(0,i.useState)([]),k=S[0],w=S[1],Z=(0,i.useState)([]),P=Z[0],A=Z[1],I=(0,i.useState)((0,l.Z)({},x[_])),q=I[0],D=I[1],R=(0,i.useState)({show:!1}),M=R[0],O=R[1];(0,i.useEffect)((function(){(0,c.Z)({},"bitforms_get_post_type").then((function(e){var t,s;null!=e&&e.success&&(N(Object.values(null==e||null==(t=e.data)?void 0:t.post_types)),A(null==e||null==(s=e.data)?void 0:s.users))})),(0,c.Z)({post_type:null==q?void 0:q.post_type},"bitforms_get_custom_field").then((function(e){var t,s;null!=e&&e.success&&void 0!==e&&(C(null==e||null==(t=e.data)?void 0:t.acfFields),w(null==e||null==(s=e.data)?void 0:s.acfFile))}))}),[]);var T=function(e,t,s){var i=(0,l.Z)({},q);i[e]=s?Number(t):t,D(i)};return(0,h.jsxs)("div",{style:{width:900},children:[(0,h.jsx)(r.Z,{snack:M,setSnackbar:O}),(0,h.jsx)("div",{className:"mt-3",children:(0,h.jsx)("b",{children:(0,a.__)("Integration Name ","bitform")})}),(0,h.jsx)("input",{className:"btcd-paper-inp w-5 mt-1",onChange:function(e){return T(e.target.name,e.target.value)},name:"name",value:q.name,type:"text",placeholder:(0,a.__)("Integration Name...","bitform")}),(0,h.jsxs)("div",{className:"mt-3 flx",children:[(0,h.jsx)("b",{children:(0,a.__)("Post Type","bitform")}),(0,h.jsx)(f.Z,{width:250,icnSize:17,className:"ml-2",children:(0,h.jsxs)("div",{className:"txt-body",children:["Select one of the defined WordPress post types Or custom post types for the post.",(0,h.jsx)("br",{})]})})]}),(0,h.jsx)("div",{children:(0,h.jsxs)("select",{name:"post_type",onChange:function(e){return function(e,t){var s=(0,l.Z)({},q);s[e]=t,(0,c.Z)({post_type:t},"bitforms_get_custom_field").then((function(e){var t,l,i,n,a,r,c,d;null!=e&&e.success&&void 0!==e&&(C(null==e||null==(t=e.data)?void 0:t.acfFields),w(null==e||null==(l=e.data)?void 0:l.acfFile),null!=e&&null!=(i=e.data)&&i.acfFields&&(s.acf_map=null==e||null==(a=e.data)||null==(r=a.acfFields)?void 0:r.filter((function(e){return e.required})).map((function(e){return{formField:"",acfField:e.key,required:e.required}})),(null==s||null==(c=s.acf_map)?void 0:c.length)<1&&(s.acf_map=[{}])),null!=e&&null!=(n=e.data)&&n.acfFile&&(s.acf_file_map=e.data.acfFile.filter((function(e){return e.required})).map((function(e){return{formField:"",acfFileUpload:e.key,required:e.required}})),(null==s||null==(d=s.acf_file_map)?void 0:d.length)<1&&(s.acf_file_map=[{}])),D(s))}))}(e.target.name,e.target.value)},value:q.post_type,className:"btcd-paper-inp w-5 mt-1",children:[(0,h.jsx)("option",{disabled:!0,selected:!0,children:"Select Post Type"}),g.map((function(e,t){return(0,h.jsx)("option",{value:null==e?void 0:e.name,children:null==e?void 0:e.label},"acf-"+2*t)}))]})}),(0,h.jsxs)("div",{className:"mt-3",children:[(0,h.jsx)("b",{children:(0,a.__)("Post Status","bitform")}),(0,h.jsx)(f.Z,{width:250,icnSize:17,className:"ml-2",children:(0,h.jsxs)("div",{className:"txt-body",children:["Select the status for the post. If published status is selected and the post date is in the future, it will automatically be changed to scheduled",(0,h.jsx)("br",{})]})})]}),(0,h.jsxs)("select",{name:"post_status",onChange:function(e){return T(e.target.name,e.target.value)},value:q.post_status,className:"btcd-paper-inp w-5 mt-1",children:[(0,h.jsx)("option",{value:"publish",children:"Publish"}),(0,h.jsx)("option",{value:"draft",children:"Draft"}),(0,h.jsx)("option",{value:"auto-draft",children:"Auto-Draft"}),(0,h.jsx)("option",{value:"private",children:"Private"}),(0,h.jsx)("option",{value:"pending",children:"Pending"})]}),(0,h.jsxs)("div",{className:"mt-3 flx",children:[(0,h.jsx)("b",{children:(0,a.__)("Author","bitform")}),(0,h.jsx)(f.Z,{width:250,icnSize:17,className:"ml-2",children:(0,h.jsxs)("div",{className:"txt-body",children:["Select the user to be assigned to the post.",(0,h.jsx)("br",{})]})})]}),(0,h.jsx)("div",{children:(0,h.jsxs)("select",{name:"post_author",onChange:function(e){return T(e.target.name,e.target.value)},value:q.post_author,className:"btcd-paper-inp w-5 mt-2",children:[(0,h.jsx)("option",{disabled:!0,selected:!0,children:(0,a.__)("Select Author","bitform")}),P.map((function(e,t){return(0,h.jsx)("option",{value:e.ID,children:e.display_name},"acf-"+2*t)}))]})}),(0,h.jsx)("div",{className:"mt-3",children:(0,h.jsx)("b",{children:(0,a.__)("Comment Status","bitform")})}),(0,h.jsxs)("select",{name:"comment_status",onChange:function(e){return T(e.target.name,e.target.value)},value:q.comment_status,className:"btcd-paper-inp w-5 mt-1",children:[(0,h.jsx)("option",{value:"open",children:"Open"}),(0,h.jsx)("option",{value:"closed",children:"Closed"})]}),(0,h.jsx)("br",{}),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"mt-3 mb-1",children:(0,h.jsx)("b",{children:(0,a.__)("Field Mapping","bitform")})}),(0,h.jsx)("div",{className:"btcd-hr"}),(0,h.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,h.jsx)("div",{className:"txt-dp",children:(0,h.jsx)("b",{children:(0,a.__)("Form Fields","bitform")})}),(0,h.jsx)("div",{className:"txt-dp",children:(0,h.jsx)("b",{children:(0,a.__)("Post Fields","bitform")})})]})]}),null==q||null==(t=q.post_map)?void 0:t.map((function(e,t){return(0,h.jsx)(d.Z,{i:t,type:"post",field:e,formFields:s,dataConf:q,setDataConf:D,customFields:u.I},"analytics-m-"+(t+9))})),(0,h.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,h.jsx)("button",{onClick:function(){var e;return(0,o.FP)("post_map",null==q||null==(e=q.post_map)?void 0:e.length,q,D)},className:"icn-btn sh-sm",type:"button",children:"+"})}),(0,h.jsx)("div",{children:(0,h.jsxs)("p",{className:"p-1 f-m",children:[(0,h.jsx)("strong",{children:"Note"})," ",": All your taxonomies will be mapped automatically from your form fields."]})}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"mt-3 mb-1",children:[(0,h.jsx)("b",{children:(0,a.__)("ACF fields Mapping","bitform")}),(0,h.jsx)("button",{onClick:function(){return(0,o.V$)(q,w,w)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,a.__)("Refresh ACF fields","bitform")+"'"},type:"button",children:"↻"})]}),(0,h.jsx)("div",{className:"btcd-hr"}),(0,h.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,h.jsx)("div",{className:"txt-dp",children:(0,h.jsx)("b",{children:(0,a.__)("Form Fields","bitform")})}),(0,h.jsx)("div",{className:"txt-dp",children:(0,h.jsx)("b",{children:(0,a.__)("ACF Fields","bitform")})})]})]}),q.acf_map.map((function(e,t){return(0,h.jsx)(d.Z,{i:t,type:"acf",field:e,formFields:s,dataConf:q,setDataConf:D,customFields:F,fieldType:"field"},"analytics-m-"+(t+9))})),(0,h.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,h.jsx)("button",{onClick:function(){return(0,o.FP)("acf_map",q.acf_map.length,q,D)},className:"icn-btn sh-sm",type:"button",children:"+"})})]}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"mt-3 mb-1",children:[(0,h.jsx)("b",{children:(0,a.__)("ACF File Upload Fields Map","bitform")}),(0,h.jsx)("button",{onClick:function(){return(0,o.V$)(q,w,w)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,a.__)("Refresh ACF fields","bitform")+"'"},type:"button",children:"↻"})]}),(0,h.jsx)("div",{className:"btcd-hr"}),(0,h.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,h.jsx)("div",{className:"txt-dp",children:(0,h.jsx)("b",{children:(0,a.__)("Form Fields","bitform")})}),(0,h.jsx)("div",{className:"txt-dp",children:(0,h.jsx)("b",{children:(0,a.__)("ACF Fields","bitform")})})]})]}),q.acf_file_map.map((function(e,t){return(0,h.jsx)(d.Z,{i:t,type:"acfFile",field:e,formFields:s,dataConf:q,setDataConf:D,customFields:k,fieldType:"file"},"analytics-m-"+(t+9))})),(0,h.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,h.jsx)("button",{onClick:function(){return(0,o.FP)("acf_file_map",q.acf_file_map.length,q,D)},className:"icn-btn sh-sm",type:"button",children:"+"})})]}),(0,h.jsxs)("button",{className:"btn f-left btcd-btn-lg green sh-sm flx",type:"button",onClick:function(){(0,o.aJ)(q)&&(0,o.gm)(q)?(0,m.Mm)(x,p,b,q,j,_,"edit"):O({show:!0,msg:(0,a.__)("Please map mandatory fields","bitform")})},children:[(0,a.__)("Save","bitform")," "]})]})}}}]);