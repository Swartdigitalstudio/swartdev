"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[8358,4094],{8940:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(73305),i=s(4637);function a(e){var t=e.step,s=e.saveConfig,a=e.edit,l=e.disabled;return a?(0,i.jsx)("div",{className:"txt-center w-9 mt-3",children:(0,i.jsx)("button",{onClick:s,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:l,children:(0,n.__)("Update","bitform")})}):(0,i.jsxs)("div",{className:"btcd-stp-page txt-center",style:{width:3===t&&"90%",height:3===t&&"100%"},children:[(0,i.jsx)("h2",{className:"ml-3",children:(0,n.__)("Successfully Integrated","bitform")}),(0,i.jsxs)("button",{onClick:s,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm",type:"button",children:[(0,n.__)("Finish & Save ","bitform")," ✔"]})]})}},28358:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var n=s(665),i=s(59496),a=(s(46850),s(87230)),l=s(17607),r=s(73305),o=s(65194),d=s(14663),c=s(53132),m=s(42755),u=s(84094),f=s(8940),b=s(95147),h=s(4637);const p=function(e){var t=e.formFields,s=e.setIntegration,p=e.integrations,x=e.allIntegURL,_=(0,a.k6)(),v=(0,i.useState)(!1),g=v[0],j=v[1],N=(0,i.useState)(1),w=N[0],y=N[1],k=(0,i.useState)({show:!1}),C=k[0],F=k[1],S=(0,i.useState)({name:"Twilio",type:"Twilio",sid:"",token:"",from_num:"",field_map:[{formField:"",twilioField:"To"},{formField:"",twilioField:"Body"}],twilioFields:[{key:"To",label:"To",required:!0},{key:"Body",label:"Message Body",required:!0}]}),Z=S[0],T=S[1];return document.querySelector(".btcd-s-wrp").scrollTop=0,(0,h.jsxs)("div",{children:[(0,h.jsx)(o.Z,{snack:C,setSnackbar:F}),(0,h.jsx)("div",{className:"txt-center w-9 mt-2",children:(0,h.jsx)(d.Z,{step:3,active:w})}),(0,h.jsx)(u.default,{twilioConf:Z,setTwilioConf:T,step:w,setstep:y,isLoading:g,setIsLoading:j,setSnackbar:F}),(0,h.jsxs)("div",{className:"btcd-stp-page",style:(0,n.Z)({},2===w&&{width:900,height:"auto",overflow:"visible"}),children:[(0,h.jsx)(b.Z,{formFields:t,handleInput:function(e){return(0,m.Rx)(e,Z,T,j,F)},twilioConf:Z,setTwilioConf:T,isLoading:g,setIsLoading:j,setSnackbar:F}),(0,h.jsxs)("button",{onClick:function(){return e=3,void((0,m.Pd)(Z)?Z.field_map.length>0&&y(e):l.ZP.error("Please map mandatory fields"));var e},className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[(0,r.__)("Next","bit-integrations"),"  ",(0,h.jsx)("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),(0,h.jsx)(f.Z,{step:w,saveConfig:function(){return j(!0),void(0,c.Mm)(p,s,x,Z,_)}})]})}},84094:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var n=s(665),i=s(59496),a=s(33290),l=s(73305),r=s(73239),o=(s(48381),s(42755)),d=s(4637);function c(e){var t=e.twilioConf,s=e.setTwilioConf,c=e.step,m=e.setstep,u=e.isLoading,f=e.setIsLoading,b=e.setSnackbar,h=e.isInfo,p=(0,i.useState)(!1),x=p[0],_=p[1],v=(0,i.useState)({username:"",password:""}),g=v[0],j=v[1],N=function(e){var i=(0,n.Z)({},t),a=(0,n.Z)({},g);a[e.target.name]="",i[e.target.name]=e.target.value,j(a),s(i)};return(0,d.jsxs)("div",{className:"btcd-stp-page",style:(0,n.Z)({},{width:1===c&&900},{height:1===c&&"auto"}),children:[(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,l.__)("Integration Name:")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:N,name:"name",value:t.name,type:"text",placeholder:(0,l.__)("Integration Name..."),disabled:h}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,l.__)("Account SID:")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:N,name:"sid",value:t.sid,type:"text",placeholder:(0,l.__)("Account SID..."),disabled:h}),(0,d.jsx)("div",{style:{color:"red"},children:g.sid}),(0,d.jsxs)("small",{className:"d-blk mt-5",children:[(0,l.__)("To get Account SID and Auth Token , Please Visit")," ",(0,d.jsx)("a",{className:"btcd-link",href:"https://console.twilio.com/",target:"_blank",rel:"noreferrer",children:(0,l.__)("Twilio Console")})]}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,l.__)("Auth Token:")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:N,name:"token",value:t.token,type:"text",placeholder:(0,l.__)("Auth Token..."),disabled:h}),(0,d.jsx)("div",{style:{color:"red"},children:g.token}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,l.__)("From:")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:N,name:"from_num",value:t.from_num,type:"text",placeholder:(0,l.__)("Phone Number..."),disabled:h}),(0,d.jsx)("div",{style:{color:"red"},children:g.from_num}),!h&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("button",{onClick:function(){return(0,o.P_)(t,s,j,_,f,b)},className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:x||u,children:[x?(0,l.__)("Authorized ✔"):(0,l.__)("Authorize"),u&&(0,d.jsx)(r.Z,{size:"20",clr:"#022217",className:"ml-2"})]}),(0,d.jsx)("br",{}),(0,d.jsxs)("button",{onClick:function(){m(2),document.querySelector(".btcd-s-wrp").scrollTop=0},className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",disabled:!x,children:[(0,l.__)("Next"),(0,d.jsx)(a.Z,{className:"ml-1 rev-icn"})]})]})]})}},42755:(e,t,s)=>{s.d(t,{Rx:()=>l,Pd:()=>r,P_:()=>o});var n=s(665),i=s(73305),a=s(77111),l=function(e,t,s,i,a,l,r,o){var d=(0,n.Z)({},t),c=e.target.name;""!==e.target.value?d[c]=e.target.value:delete d[c],s((0,n.Z)({},d))},r=function(e){return!((null!=e&&e.field_map?e.field_map.filter((function(e){return!e.formField||!e.twilioField||"custom"===!e.formField&&!e.customValue})):[]).length>0)},o=function(e,t,s,l,r,o){if(e.sid&&e.token&&e.from_num){s({}),r(!0);var d={sid:e.sid,token:e.token,from_num:e.from_num};(0,a.Z)(d,"bitforms_twilio_authorization").then((function(e){return e})).then((function(s){if(s&&s.success){var a=(0,n.Z)({},e);a.tokenDetails=s.data,t(a),l(!0),o({show:!0,msg:(0,i.__)("Authorized Successfully","bitform")})}else s&&s.data&&s.data.data||!s.success&&"string"===typeof s.data?o({show:!0,msg:""+(0,i.__)("Authorization failed Cause:","bitform")+(s.data.data||s.data)+". "+(0,i.__)("please try again","bitform")}):o({show:!0,msg:(0,i.__)("Authorization failed. please try again","bitform")});r(!1)}))}else s({sid:e.sid?"":(0,i.__)("Account SID can't be empty","bitform"),token:e.token?"":(0,i.__)("Auth Token can't be empty","bitform"),from_num:e.from_num?"":(0,i.__)("Phone number can't be empty","bitform")})}},95147:(e,t,s)=>{s.d(t,{Z:()=>f});s(59496);var n=s(73305),i=s(44084),a=s(37029),l=s(665),r=function(e,t,s,n){var i=(0,l.Z)({},s);i.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(i.field_map[t].customValue=""),n((0,l.Z)({},i))},o=function(e,t,s,n){var i=(0,l.Z)({},s);i.field_map[t].customValue=e.target.value,n((0,l.Z)({},i))},d=s(2699),c=s(84448),m=s(4637);function u(e){var t=e.i,s=e.formFields,l=e.field,u=e.twilioConf,f=e.setTwilioConf,b=(0,i.sJ)(c.hi).isPro;return(0,m.jsx)("div",{className:"flx mt-2 mb-2 btcbi-field-map",children:(0,m.jsx)("div",{className:"pos-rel flx",children:(0,m.jsxs)("div",{className:"flx integ-fld-wrp",children:[(0,m.jsxs)("select",{className:"btcd-paper-inp mr-2",name:"formField",value:l.formField||"",onChange:function(e){return r(e,t,u,f)},children:[(0,m.jsx)("option",{value:"",children:(0,n.__)("Select Field","bit-integrations")}),(0,m.jsx)("optgroup",{label:"Form Fields",children:null==s?void 0:s.map((function(e){return(0,m.jsx)("option",{value:e.key,children:e.name},"ff-rm-"+e.key)}))}),(0,m.jsx)("option",{value:"custom",children:(0,n.__)("Custom...","bit-integrations")}),(0,m.jsx)("optgroup",{label:"General Smart Codes "+(b?"":"(PRO)"),children:b&&(null==d.C?void 0:d.C.map((function(e){return(0,m.jsx)("option",{value:e.name,children:e.label},"ff-rm-"+e.name)})))})]}),"custom"===l.formField&&(0,m.jsx)(a.Z,{onChange:function(e){return o(e,t,u,f)},label:(0,n.__)("Custom Value","bit-integrations"),className:"mr-2",type:"text",value:l.customValue,placeholder:(0,n.__)("Custom Value","bit-integrations")}),(0,m.jsxs)("select",{className:"btcd-paper-inp",disabled:!0,name:"twilioField",value:l.twilioField,onChange:function(e){return r(e,t,u,f)},children:[(0,m.jsx)("option",{value:"",children:(0,n.__)("Select Field","bit-integrations")}),null==u?void 0:u.twilioFields.map((function(e){var t=e.key,s=e.label;return(0,m.jsx)("option",{value:t,children:s},t)}))]})]})})})}function f(e){var t=e.formFields,s=(e.handleInput,e.twilioConf),i=e.setTwilioConf,a=(e.isLoading,e.setIsLoading,e.setSnackbar);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("br",{}),(0,m.jsx)("div",{className:"mt-5",children:(0,m.jsx)("b",{className:"wdt-100",children:(0,n.__)("Field Map","bit-integrations")})}),(0,m.jsx)("div",{className:"btcd-hr mt-1"}),(0,m.jsxs)("div",{className:"flx flx-around mt-2 mb-2 btcbi-field-map-label",children:[(0,m.jsx)("div",{className:"txt-dp",children:(0,m.jsx)("b",{children:(0,n.__)("Form Fields","bit-integrations")})}),(0,m.jsx)("div",{className:"txt-dp",children:(0,m.jsx)("b",{children:(0,n.__)("Twilio Fields","bit-integrations")})})]}),null==s?void 0:s.field_map.map((function(e,n){return(0,m.jsx)(u,{i:n,field:e,twilioConf:s,formFields:t,setTwilioConf:i,setSnackbar:a},"rp-m-"+(n+9))})),(0,m.jsx)("br",{})]})}},48381:(e,t,s)=>{s.d(t,{Z:()=>i});var n=s(4637);function i(e){var t=e.note;return(0,n.jsxs)("div",{className:"note",children:[(0,n.jsx)("h4",{className:"mt-0",children:"Note"}),(0,n.jsx)("div",{className:"note-text",dangerouslySetInnerHTML:{__html:t}})]})}},14663:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(59496),i=s(4637);const a=function(e){var t=e.step,s=e.active,a=e.className;return(0,i.jsx)("div",{className:"d-in-b "+a,children:(0,i.jsxs)("div",{className:"flx flx-center",children:[Array(s).fill(0).map((function(e,t){return(0,i.jsxs)(n.Fragment,{children:[(0,i.jsx)("div",{className:"btcd-stp flx flx-center stp-a  txt-center",children:t+1}),s-1!==t&&(0,i.jsx)("div",{className:"btcd-stp-line stp-line-a"})]},"stp-"+(t+21))})),t-s!==0&&(0,i.jsx)("div",{className:"btcd-stp-line"}),Array(t-s).fill(0).map((function(e,a){return(0,i.jsxs)(n.Fragment,{children:[(0,i.jsx)("div",{className:"btcd-stp flx flx-center txt-center",children:a+s+1}),t-s-1!==a&&(0,i.jsx)("div",{className:"btcd-stp-line "})]},"stp-"+(a+23))}))]})})}}}]);