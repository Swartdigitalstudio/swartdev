"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[6704],{36704:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var a=s(72564),n=s(59496),i=(s(69306),s(83442)),l=s(94965),r=s(66399),c=s(15643),d=s(77029),o=s(52665),m=s(7020),u=s(13536),b=s(12102),p=s(65105),h=s(25983),x=s(4637);function f(e){var t=e.hubspotConf,s=e.setHubspotConf,i=e.step,l=e.setstep,c=e.isInfo,d=(0,n.useState)(!1),o=d[0],m=d[1],f=(0,n.useState)({name:"",api_key:""}),y=f[0],k=f[1],v=(0,n.useState)(!1),g=v[0],j=v[1],_=(0,n.useState)(!1),N=_[0],I=_[1],S=function(e){var n=(0,a.Z)({},t),i=(0,a.Z)({},y);i[e.target.name]="",n[e.target.name]=e.target.value,k(i),s(n)};return(0,x.jsxs)("div",{className:"btcd-stp-page",style:(0,a.Z)({},{width:1===i&&900},{height:1===i&&"auto"}),children:[(0,x.jsx)("div",{className:"mt-3",children:(0,x.jsx)("b",{children:(0,r.__)("Integration Name:")})}),(0,x.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:S,name:"name",value:null==t?void 0:t.name,type:"text",placeholder:(0,r.__)("Integration Name..."),disabled:c}),(0,x.jsx)("div",{style:{color:"red",fontSize:"15px"},children:y.name}),(0,x.jsx)("div",{className:"mt-3",children:(0,x.jsx)("b",{children:(0,r.__)("API Key:")})}),(0,x.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:S,name:"api_key",value:null==t?void 0:t.api_key,type:"text",placeholder:(0,r.__)("API Key..."),disabled:c}),(0,x.jsx)("div",{style:{color:"red",fontSize:"15px"},children:y.api_key}),(0,x.jsxs)("small",{className:"d-blk mt-5",children:[(0,r.__)("To get API , Please Visit")," ",(0,x.jsx)("a",{className:"btcd-link",href:"https://app.hubspot.com/api-key",target:"_blank",rel:"noreferrer",children:(0,r.__)("Hubspot API Console")})]}),"auth"===N&&(0,x.jsxs)("div",{className:"flx mt-5",children:[(0,x.jsx)(p.Z,{size:25,clr:"#022217",className:"mr-2"}),"Checking API Key!!!"]}),g&&!o&&!N&&(0,x.jsxs)("div",{className:"flx mt-5",style:{color:"red"},children:[(0,x.jsx)("span",{className:"btcd-icn mr-2",style:{fontSize:30,marginTop:-5},children:"×"}),"Sorry, API key is invalid"]}),!c&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("button",{onClick:function(){var e=(0,a.Z)({},t);if(e.name&&e.api_key){I("auth");var s={api_key:e.api_key};(0,b.Z)(s,"bitforms_hubspot_authorize").then((function(e){e.data&&m(!0),j(!0),I(!1)}))}else k({name:e.name?"":(0,r.__)("Integration name cann't be empty"),api_key:e.api_key?"":(0,r.__)("API Key cann't be empty")})},className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:o||N,children:[o?(0,r.__)("Authorized ✔"):(0,r.__)("Authorize"),N&&(0,x.jsx)(p.Z,{size:20,clr:"#022217",className:"ml-2"})]}),(0,x.jsx)("br",{}),(0,x.jsxs)("button",{onClick:function(){return setTimeout((function(){document.getElementById("btcd-settings-wrp").scrollTop=0}),300),void l(2)},className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",disabled:!o,children:[(0,r.__)("Next"),(0,x.jsx)(u.Z,{className:"ml-1 rev-icn"})]})]}),(0,x.jsx)(h.Z,{note:"\n    <h4> Step of generating  Access Token:</h4>\n    <ul>\n      <li>Login to your HubSpot account, click the <b>Settings</b> icon settings in the main navigation bar..</li>\n      <li>In the left sidebar menu, navigate to <b>Integrations > Private App</b>.</li>\n      <li>Give name and description and select all necessary scope.</li>\n      <li>Then create Access token.</li>\n  </ul>\n  "})]})}var y=s(24949),k=s(93055);const v=function(e){var t=e.formFields,s=e.setIntegration,u=e.integrations,b=e.allIntegURL,p=(0,i.k6)(),h=(0,n.useState)(!1),v=h[0],g=h[1],j=(0,n.useState)(1),_=j[0],N=j[1],I=(0,n.useState)({show:!1}),S=I[0],C=I[1],Z=(0,n.useState)({name:"Hubspot",type:"Hubspot",api_key:"",field_map:[{formField:"",hubspotField:""}],actions:{},contactFields:[{key:"email",label:"Email",required:!0},{key:"firstname",label:"First Name",required:!1},{key:"lastname",label:"Last Name",required:!1},{key:"website",label:"Website",required:!1},{key:"company",label:"Company",required:!1},{key:"phone",label:"Phone",required:!1},{key:"address",label:"Address",required:!1},{key:"city",label:"City",required:!1},{key:"state",label:"State",required:!1},{key:"zip",label:"Zip",required:!1},{key:"jobtitle",label:"Job Title",required:!1}],dealFields:[{key:"dealname",label:"Deal Name",required:!0},{key:"amount",label:"Amount",required:!1},{key:"closedate",label:"Close Date",required:!1}],ticketFields:[{key:"subject",label:"Ticket Name",required:!0},{key:"content",label:"Ticket description",required:!1}]}),q=Z[0],A=Z[1];return(0,x.jsxs)("div",{children:[(0,x.jsx)(c.Z,{snack:S,setSnackbar:C}),(0,x.jsx)("div",{className:"txt-center w-9 mt-2",children:(0,x.jsx)(d.Z,{step:3,active:_})}),(0,x.jsx)(f,{hubspotConf:q,setHubspotConf:A,step:_,setstep:N,isLoading:v,setIsLoading:g,setSnackbar:C}),(0,x.jsxs)("div",{className:"btcd-stp-page",style:(0,a.Z)({},2===_&&{width:900,height:"auto",overflow:"visible"}),children:[(0,x.jsx)(y.Z,{formFields:t,handleInput:function(e){return(0,k.Rx)(e,q,A,g,C)},hubspotConf:q,setHubspotConf:A,isLoading:v,setIsLoading:g,setSnackbar:C}),(0,x.jsxs)("button",{onClick:function(){return e=3,void((0,k.Pd)(q)?q.field_map.length>0&&N(e):l.ZP.error("Please map mandatory fields"));var e},disabled:!(null!=q&&q.actionName),className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[(0,r.__)("Next","bit-integrations")," "," ",(0,x.jsx)("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),(0,x.jsx)(m.Z,{step:_,saveConfig:function(){(0,o.Mm)(u,s,b,q,p)}})]})}},25983:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(4637);function n(e){var t=e.note;return(0,a.jsxs)("div",{className:"note",children:[(0,a.jsx)("h4",{className:"mt-0",children:"Note"}),(0,a.jsx)("div",{className:"note-text",dangerouslySetInnerHTML:{__html:t}})]})}},77029:(e,t,s)=>{s.d(t,{Z:()=>i});var a=s(59496),n=s(4637);const i=function(e){var t=e.step,s=e.active,i=e.className;return(0,n.jsx)("div",{className:"d-in-b "+i,children:(0,n.jsxs)("div",{className:"flx flx-center",children:[Array(s).fill(0).map((function(e,t){return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)("div",{className:"btcd-stp flx flx-center stp-a  txt-center",children:t+1}),s-1!==t&&(0,n.jsx)("div",{className:"btcd-stp-line stp-line-a"})]},"stp-"+(t+21))})),t-s!==0&&(0,n.jsx)("div",{className:"btcd-stp-line"}),Array(t-s).fill(0).map((function(e,i){return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)("div",{className:"btcd-stp flx flx-center txt-center",children:i+s+1}),t-s-1!==i&&(0,n.jsx)("div",{className:"btcd-stp-line "})]},"stp-"+(i+23))}))]})})}}}]);