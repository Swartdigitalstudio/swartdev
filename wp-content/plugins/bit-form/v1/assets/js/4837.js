"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[4837],{8940:(e,t,a)=>{a.d(t,{Z:()=>r});var s=a(73305),n=a(4637);function r(e){var t=e.step,a=e.saveConfig,r=e.edit,i=e.disabled;return r?(0,n.jsx)("div",{className:"txt-center w-9 mt-3",children:(0,n.jsx)("button",{onClick:a,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:i,children:(0,s.__)("Update","bitform")})}):(0,n.jsxs)("div",{className:"btcd-stp-page txt-center",style:{width:3===t&&"90%",height:3===t&&"100%"},children:[(0,n.jsx)("h2",{className:"ml-3",children:(0,s.__)("Successfully Integrated","bitform")}),(0,n.jsxs)("button",{onClick:a,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm",type:"button",children:[(0,s.__)("Finish & Save ","bitform")," ✔"]})]})}},24837:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var s=a(665),n=a(59496),r=a(87230),i=a(73305),l=a(65194),d=a(53132),c=a(8940),o=a(8976),m=a(59886),u=a(4637);const f=function(e){var t=e.formFields,a=e.setIntegration,f=e.integrations,h=e.allIntegURL,b=(0,r.k6)(),x=(0,r.UO)(),g=x.id,p=x.formID,_=(0,n.useState)((0,s.Z)({},f[g])),v=_[0],j=_[1],C=(0,n.useState)(!1),w=C[0],N=C[1],k=(0,n.useState)({show:!1}),y=k[0],Z=k[1];return(0,u.jsxs)("div",{style:{width:900},children:[(0,u.jsx)(l.Z,{snack:y,setSnackbar:Z}),(0,u.jsxs)("div",{className:"flx mt-3",children:[(0,u.jsx)("b",{className:"wdt-200 d-in-b",children:(0,i.__)("Integration Name:","bitform")}),(0,u.jsx)("input",{className:"btcd-paper-inp w-7",onChange:function(e){return(0,o.R)(e,v,j)},name:"name",value:v.name,type:"text",placeholder:(0,i.__)("Integration Name...","bitform")})]}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsx)(m.Z,{formID:p,formFields:t,telegramConf:v,setTelegramConf:j,isLoading:w,setisLoading:N,setSnackbar:Z}),(0,u.jsx)(c.Z,{edit:!0,saveConfig:function(){return(0,d.Mm)(f,a,h,v,b,g,1)},disabled:""===v.chat_id}),(0,u.jsx)("br",{})]})}},8976:(e,t,a)=>{a.d(t,{c:()=>i,R:()=>l});var s=a(665),n=a(73305),r=a(77111),i=function(e,t,a,i){var l=(0,s.Z)({},e),d={bot_api_key:l.bot_api_key};a(!0),(0,r.Z)(d,"bitforms_refresh_get_updates").then((function(e){e&&e.success?(l.default||(l.default={}),e.data.telegramChatLists&&(l.default.telegramChatLists=e.data.telegramChatLists),i({show:!0,msg:(0,n.__)("Chat list refreshed","bitform")}),t((0,s.Z)({},l))):e&&e.data&&e.data.data||!e.success&&"string"===typeof e.data?i({show:!0,msg:""+(0,n.__)("Chat list refresh failed Cause:","bitform")+(e.data.data||e.data)+". "+(0,n.__)("please try again","bitform")}):i({show:!0,msg:(0,n.__)("Chat list refresh failed. please try again","bitform")}),a(!1)})).catch((function(){return a(!1)}))},l=function(e,t,a){var n=(0,s.Z)({},t);n.name=e.target.value,a((0,s.Z)({},n))}},59886:(e,t,a)=>{a.d(t,{Z:()=>x});var s=a(665),n=a(14103),r=a(19753),i=a(73305),l=a(67860),d=a(44246),c=a(85012),o=a(59496),m=a(83524),u=a(2598),f=a(4637);function h(e){var t,a=e.formFields,n=e.telegramConf,r=e.setTelegramConf,l=(0,o.useState)({show:!1}),d=l[0],c=l[1];return(0,f.jsxs)("div",{className:"pos-rel",children:[(0,f.jsx)("div",{className:"d-flx flx-wrp",children:(0,f.jsx)(u.Z,{onChange:function(){return c({show:"attachments"})},checked:"attachments"in n.actions,className:"wdt-200 mt-4 mr-2",value:"Attachment",title:(0,i.__)("Attachments","bitform"),subTitle:(0,i.__)("Add attachments from BitForm to send Telegram.","bitform")})}),(0,f.jsxs)(m.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:"Ok",show:"attachments"===d.show,close:function(){return c({show:!1})},action:function(){return c({show:!1})},title:(0,i.__)("Select Attachment","bitform"),children:[(0,f.jsx)("div",{className:"btcd-hr mt-2"}),(0,f.jsx)("div",{className:"mt-2",children:(0,i.__)("Please select file upload fields","bitform")}),(0,f.jsxs)("select",{onChange:function(e){return function(e){var t=(0,s.Z)({},n);""!==e.target.value?t.actions.attachments=e.target.value:delete t.actions.attachments,r((0,s.Z)({},t))}(e)},name:"attachments",value:null==(t=n.actions)?void 0:t.attachments,className:"btcd-paper-inp w-10 mt-2",children:[(0,f.jsx)("option",{value:"",children:(0,i.__)("Select file upload field","bitform")}),a.filter((function(e){return"file-up"===e.type})).map((function(e){return(0,f.jsx)("option",{value:e.key,children:e.name},e.key+1)}))]})]})]})}var b=a(8976);function x(e){e.formID;var t,a=e.formFields,o=e.telegramConf,m=e.setTelegramConf,u=e.isLoading,x=e.setisLoading,g=e.setSnackbar,p=function(e){var t=(0,s.Z)({},o);t[e.target.name]=e.target.value,m(t)},_=function(e){m((function(t){return(0,n.ZP)(t,(function(t){t.body=e}))}))},v=function(e){var t=(0,s.Z)({},o);null!=t&&t.body&&(t.body=""),t.parse_mode=e.target.value,m(t)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("br",{}),(0,f.jsxs)("div",{className:"flx",children:[(0,f.jsx)("b",{className:"wdt-150 d-in-b",children:(0,i.__)("Chat List: ","bitform")}),(0,f.jsxs)("select",{onChange:p,name:"chat_id",value:o.chat_id,className:"btcd-paper-inp w-5",children:[(0,f.jsx)("option",{value:"",children:(0,i.__)("Select Chat List","bitform")}),(null==o||null==(t=o.default)?void 0:t.telegramChatLists)&&Object.keys(o.default.telegramChatLists).map((function(e){return(0,f.jsx)("option",{value:o.default.telegramChatLists[e].id,children:o.default.telegramChatLists[e].name},e)}))]}),(0,f.jsx)("button",{onClick:function(){return(0,b.c)(o,m,x,g)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,i.__)("Refresh Telegram List","bitform")+"'"},type:"button",disabled:u,children:"↻"})]}),u&&(0,f.jsx)(l.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),(null==o?void 0:o.chat_id)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"flx mt-4",children:[(0,f.jsx)("b",{className:"wdt-150 d-in-b",children:(0,i.__)("Parse Mode: ","bitform")}),(0,f.jsx)(d.Z,{radio:!0,onChange:function(e){return v(e)},name:"HTML",title:(0,f.jsx)("small",{className:"txt-dp",children:(0,i.__)("HTML","bitform")}),checked:"HTML"===o.parse_mode,value:"HTML"}),(0,f.jsx)(d.Z,{radio:!0,onChange:function(e){return v(e)},name:"MarkdownV2",title:(0,f.jsx)("small",{className:"txt-dp",children:(0,i.__)("Markdown v2","bitform")}),checked:"MarkdownV2"===o.parse_mode,value:"MarkdownV2"})]}),(0,f.jsxs)("div",{className:"flx mt-4",children:[(0,f.jsx)("b",{className:"wdt-150 d-in-b",children:(0,i.__)("Messages: ","bitform")}),"HTML"===(null==o?void 0:o.parse_mode)?(0,f.jsx)(c.Z,{formFields:a,value:o.body,onChangeHandler:_,width:"100%",toolbarMnu:"bold italic underline strikethrough | link | code | addFormField | addSmartField"}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("textarea",{className:"w-7",onChange:p,name:"body",rows:"5",value:o.body}),(0,f.jsx)(r.Z,{options:a.filter((function(e){return"file-up"!==e.type})).map((function(e){return{label:e.name,value:"${"+e.key+"}"}})),className:"btcd-paper-drpdwn wdt-200 ml-2",singleSelect:!0,onChange:function(e){return _(e)}})]})]}),(0,f.jsx)("div",{className:"mt-4",children:(0,f.jsx)("b",{className:"wdt-100",children:(0,i.__)("Actions","bitform")})}),(0,f.jsx)("div",{className:"btcd-hr mt-1"}),(0,f.jsx)(h,{telegramConf:o,setTelegramConf:m,formFields:a})]})]})}},44246:(e,t,a)=>{a.d(t,{Z:()=>n});var s=a(4637);const n=function(e){var t=e.className,a=e.disabled,n=e.checked,r=e.onChange,i=e.radio,l=e.name,d=e.title,c=e.value,o=e.sqr;return(0,s.jsxs)("label",{className:"btcd-ck-wrp "+t,children:[d,(0,s.jsx)("input",{type:i?"radio":"checkbox",checked:n,onChange:r,name:l,value:c,disabled:a}),(0,s.jsx)("span",{className:"btcd-mrk "+(!o&&"br-50")+" "+(i?"rdo":"ck")})]})}}}]);