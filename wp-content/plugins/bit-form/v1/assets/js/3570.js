"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[3570],{83570:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var s=n(72564),a=n(59496),i=n(62464),r=n(57852),l=n(26641),o=(n(60376),n(85082)),d=n(4637);function c(e){var t=e.twilioConf,n=e.setTwilioConf,c=e.step,m=e.setstep,u=e.isLoading,_=e.setIsLoading,h=e.setSnackbar,f=e.isInfo,b=(0,a.useState)(!1),p=b[0],x=b[1],g=(0,a.useState)({username:"",password:""}),v=g[0],j=g[1],k=function(e){var a=(0,s.Z)({},t),i=(0,s.Z)({},v);i[e.target.name]="",a[e.target.name]=e.target.value,j(i),n(a)};return(0,d.jsxs)("div",{className:"btcd-stp-page",style:(0,s.Z)({},{width:1===c&&900},{height:1===c&&"auto"}),children:[(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,r.__)("Integration Name:")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:k,name:"name",value:t.name,type:"text",placeholder:(0,r.__)("Integration Name..."),disabled:f}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,r.__)("Account SID:")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:k,name:"sid",value:t.sid,type:"text",placeholder:(0,r.__)("Account SID..."),disabled:f}),(0,d.jsx)("div",{style:{color:"red"},children:v.sid}),(0,d.jsxs)("small",{className:"d-blk mt-5",children:[(0,r.__)("To get Account SID and Auth Token , Please Visit")," ",(0,d.jsx)("a",{className:"btcd-link",href:"https://console.twilio.com/",target:"_blank",rel:"noreferrer",children:(0,r.__)("Twilio Console")})]}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,r.__)("Auth Token:")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:k,name:"token",value:t.token,type:"text",placeholder:(0,r.__)("Auth Token..."),disabled:f}),(0,d.jsx)("div",{style:{color:"red"},children:v.token}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("b",{children:(0,r.__)("From:")})}),(0,d.jsx)("input",{className:"btcd-paper-inp w-6 mt-1",onChange:k,name:"from_num",value:t.from_num,type:"text",placeholder:(0,r.__)("Phone Number..."),disabled:f}),(0,d.jsx)("div",{style:{color:"red"},children:v.from_num}),!f&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("button",{onClick:function(){return(0,o.P_)(t,n,j,x,_,h)},className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:p||u,children:[p?(0,r.__)("Authorized âœ”"):(0,r.__)("Authorize"),u&&(0,d.jsx)(l.Z,{size:"20",clr:"#022217",className:"ml-2"})]}),(0,d.jsx)("br",{}),(0,d.jsxs)("button",{onClick:function(){m(2),document.querySelector(".btcd-s-wrp").scrollTop=0},className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",disabled:!p,children:[(0,r.__)("Next"),(0,d.jsx)(i.Z,{className:"ml-1 rev-icn"})]})]})]})}},85082:(e,t,n)=>{n.d(t,{P_:()=>o,Pd:()=>l,Rx:()=>r});var s=n(72564),a=(n(94965),n(57852)),i=n(2850),r=function(e,t,n,a,i,r,l,o){var d=(0,s.Z)({},t),c=e.target.name;""!==e.target.value?d[c]=e.target.value:delete d[c],n((0,s.Z)({},d))},l=function(e){return!((null!=e&&e.field_map?e.field_map.filter((function(e){return!e.formField||!e.twilioField||"custom"===!e.formField&&!e.customValue})):[]).length>0)},o=function(e,t,n,r,l,o){if(e.sid&&e.token&&e.from_num){n({}),l(!0);var d={sid:e.sid,token:e.token,from_num:e.from_num};(0,i.Z)(d,"bitforms_twilio_authorization").then((function(e){return e})).then((function(n){if(n&&n.success){var i=(0,s.Z)({},e);i.tokenDetails=n.data,t(i),r(!0),o({show:!0,msg:(0,a.__)("Authorized Successfully","bitform")})}else n&&n.data&&n.data.data||!n.success&&"string"===typeof n.data?o({show:!0,msg:""+(0,a.__)("Authorization failed Cause:","bitform")+(n.data.data||n.data)+". "+(0,a.__)("please try again","bitform")}):o({show:!0,msg:(0,a.__)("Authorization failed. please try again","bitform")});l(!1)}))}else n({sid:e.sid?"":(0,a.__)("Account SID can't be empty","bitform"),token:e.token?"":(0,a.__)("Auth Token can't be empty","bitform"),from_num:e.from_num?"":(0,a.__)("Phone number can't be empty","bitform")})}},60376:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(4637);function a(e){var t=e.note;return(0,s.jsxs)("div",{className:"note",children:[(0,s.jsx)("h4",{className:"mt-0",children:"Note"}),(0,s.jsx)("div",{className:"note-text",dangerouslySetInnerHTML:{__html:t}})]})}}}]);