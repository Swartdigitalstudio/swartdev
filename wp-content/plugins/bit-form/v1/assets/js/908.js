"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[908],{8940:(e,t,l)=>{l.d(t,{Z:()=>s});var i=l(73305),n=l(4637);function s(e){var t=e.step,l=e.saveConfig,s=e.edit,a=e.disabled;return s?(0,n.jsx)("div",{className:"txt-center w-9 mt-3",children:(0,n.jsx)("button",{onClick:l,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:a,children:(0,i.__)("Update","bitform")})}):(0,n.jsxs)("div",{className:"btcd-stp-page txt-center",style:{width:3===t&&"90%",height:3===t&&"100%"},children:[(0,n.jsx)("h2",{className:"ml-3",children:(0,i.__)("Successfully Integrated","bitform")}),(0,n.jsxs)("button",{onClick:l,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm",type:"button",children:[(0,i.__)("Finish & Save ","bitform")," ✔"]})]})}},20908:(e,t,l)=>{l.r(t),l.d(t,{default:()=>f});var i=l(665),n=l(59496),s=l(87230),a=l(73305),d=l(65194),r=l(53132),o=l(8940),c=l(50606),m=l(71587),u=l(4637);const f=function(e){var t=e.formFields,l=e.setIntegration,f=e.integrations,p=e.allIntegURL,h=(0,s.k6)(),b=(0,s.UO)().id,x=(0,n.useState)((0,i.Z)({},f[b])),_=x[0],j=x[1],v=(0,n.useState)(!1),g=v[0],F=v[1],N=(0,n.useState)({show:!1}),C=N[0],y=N[1];return(0,u.jsxs)("div",{style:{width:900},children:[(0,u.jsx)(d.Z,{snack:C,setSnackbar:y}),(0,u.jsxs)("div",{className:"flx mt-3",children:[(0,u.jsx)("b",{className:"wdt-100 d-in-b",children:(0,a.__)("Integration Name:","bitform")}),(0,u.jsx)("input",{className:"btcd-paper-inp w-7",onChange:function(e){return(0,c.Rx)(e,_,j)},name:"name",value:_.name,type:"text",placeholder:(0,a.__)("Integration Name...","bitform")})]}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsx)(m.Z,{wcConf:_,setWcConf:j,formFields:t,handleInput:function(e){return(0,c.Rx)(e,_,j,F,y)},isLoading:g,setisLoading:F}),(0,u.jsx)(o.Z,{edit:!0,saveConfig:function(){return(0,r.Mm)(f,l,p,_,h,b,1)},disabled:""===_.workspace||""===_.table||_.field_map.length<1}),(0,u.jsx)("br",{})]})}},50606:(e,t,l)=>{l.d(t,{Rx:()=>a,GX:()=>r});var i=l(73305),n=l(77111),s=l(33591),a=function(e,t,l,i,n){var a=(0,s.p$)(t),r=e.target,o=r.name,c=r.value;if(a[o]=c,"module"===o)a=d(a,l,i,n);l(a)},d=function(e,t,l,i){var n,a,d,c=(0,s.p$)(e);return c.field_map=[],null!=(n=c)&&null!=(a=n.default)&&null!=(d=a.fields)&&d[e.module]?c=o(c):r(c,t,l,i),c},r=function(e,t,l,a){var d=e.module;d&&(l(!0),(0,n.Z)({module:d},"bitforms_wc_refresh_fields").then((function(n){if(n&&n.success){var r=(0,s.p$)(e);n.data&&(r.default||(r.default={}),r.default.fields||(r.default.fields={}),r.default.fields[d]=n.data,r=o(r),t(r),a({show:!0,msg:(0,i.__)("Fields refreshed","bitform")}))}else a({show:!0,msg:(0,i.__)("Fields refresh failed. please try again","bitform")});l(!1)})).catch((function(){return l(!1)})))},o=function(e){var t=(0,s.p$)(e);return t.default.fields[t.module].required.forEach((function(e){t.field_map.find((function(t){return t.wcField===e}))||t.field_map.unshift({formField:"",wcField:e,required:!0})})),t.field_map.length||(t.field_map=[{formField:"",wcField:""}]),t}},71587:(e,t,l)=>{l.d(t,{Z:()=>b});var i=l(73305),n=l(67860),s=l(53132),a=l(50606),d=l(665),r=l(44084),o=l(84448),c=l(94557),m=l(33591),u=l(2699),f=l(37029),p=l(4637);function h(e){var t=e.i,l=e.formFields,n=e.field,s=e.wcConf,a=e.setWcConf,h=e.uploadFields,b=!0===n.required,x=(0,r.sJ)(o.hi).isPro,_=function(e,t){var l=(0,m.p$)(s);h?l.upload_field_map[t][e.target.name]=e.target.value:l.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(l.field_map[t].customValue=""),a(l)};return(0,p.jsxs)("div",{className:"flx mt-2 mr-1",children:[(0,p.jsxs)("div",{className:"flx integ-fld-wrp",children:[(0,p.jsxs)("select",{className:"btcd-paper-inp mr-2",name:"formField",value:n.formField||"",onChange:function(e){return _(e,t)},children:[(0,p.jsx)("option",{value:"",children:(0,i.__)("Select Field","bitform")}),(0,p.jsx)("optgroup",{label:"Form Fields",children:h?l.map((function(e){return"file-up"===e.type&&(0,p.jsx)("option",{value:e.key,children:e.name},"ff-zhcrm-"+e.key)})):l.map((function(e){return"file-up"!==e.type&&(0,p.jsx)("option",{value:e.key,children:e.name},"ff-zhcrm-"+e.key)}))}),!h&&(0,p.jsx)("option",{value:"custom",children:(0,i.__)("Custom...","bitform")}),!h&&(0,p.jsxs)("optgroup",{label:"General Smart Codes "+(x?"":"(PRO)"),children:[" ",x&&u.C.map((function(e){return(0,p.jsx)("option",{value:e.name,children:e.label},"ff-zhcrm-"+e.name)}))]})]}),"custom"===n.formField&&(0,p.jsx)(f.Z,{onChange:function(e){return function(e,t){var l=(0,m.p$)(s);h?l.upload_field_map[t].customValue=e.target.value:l.field_map[t].customValue=e.target.value,a(l)}(e,t)},label:(0,i.__)("Custom Value","bitform"),className:"mr-2",type:"text",value:n.customValue,placeholder:(0,i.__)("Custom Value","bitform")}),(0,p.jsxs)("select",{className:"btcd-paper-inp",name:"wcField",value:n.wcField||"",onChange:function(e){return _(e,t)},disabled:b,children:[(0,p.jsx)("option",{value:"",children:(0,i.__)("Select Field","bitform")}),Object.values(s.default.fields[s.module][h?"uploadFields":"fields"]).map((function(e){if(b){if(e.required&&e.fieldKey===n.wcField)return(0,p.jsx)("option",{value:e.fieldKey,children:e.fieldName},e.fieldKey+"-1")}else if(!e.required)return(0,p.jsx)("option",{value:e.fieldKey,children:e.fieldName},e.fieldKey+"-1")}))]})]}),!b&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("button",{onClick:function(){return function(e){var t=(0,d.Z)({},s);h?t.upload_field_map.splice(e,0,{}):t.field_map.splice(e,0,{}),a(t)}(t)},className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),(0,p.jsx)("button",{onClick:function(){return function(e){var t=(0,m.p$)(s);h?t.upload_field_map.length>1&&t.upload_field_map.splice(e,1):t.field_map.length>1&&t.field_map.splice(e,1),a(t)}(t)},className:"icn-btn sh-sm ml-2",type:"button","aria-label":"btn",children:(0,p.jsx)(c.Z,{})})]})]})}function b(e){var t,l,d,r,o,c,m=e.formFields,u=e.handleInput,f=e.wcConf,b=e.setWcConf,x=e.isLoading,_=e.setisLoading,j=e.setSnackbar;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("br",{}),(0,p.jsx)("b",{className:"wdt-100 d-in-b",children:(0,i.__)("Module:","bitform")}),(0,p.jsxs)("select",{onChange:u,name:"module",value:f.module,className:"btcd-paper-inp w-7",children:[(0,p.jsx)("option",{value:"",children:(0,i.__)("Select Module","bitform")}),(0,p.jsx)("option",{value:"customer",children:"Customer"}),(0,p.jsx)("option",{value:"product",children:"Product"})]}),(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),x&&(0,p.jsx)(n.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),(null==(t=f.default)||null==(l=t.fields)||null==(d=l[f.module])?void 0:d.fields)&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"mt-4",children:[(0,p.jsx)("b",{className:"wdt-100",children:(0,i.__)("Map Fields","bitform")}),(0,p.jsx)("button",{onClick:function(){return(0,a.GX)(f,b,_,j)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,i.__)("Refresh Fields","bitform")+"'"},type:"button",disabled:x,children:"↻"})]}),(0,p.jsx)("div",{className:"btcd-hr mt-1"}),(0,p.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,i.__)("Form Fields","bitform")})}),(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,i.__)("WooCommerce Fields","bitform")})})]}),f.field_map.map((function(e,t){return(0,p.jsx)(h,{i:t,field:e,wcConf:f,formFields:m,setWcConf:b},"wc-m-"+(t+9))})),(0,p.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,p.jsx)("button",{onClick:function(){return(0,s.FP)(f.field_map.length,f,b)},className:"icn-btn sh-sm",type:"button",children:"+"})})]}),(null==(r=f.default)||null==(o=r.fields)||null==(c=o[f.module])?void 0:c.uploadFields)&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"mt-4",children:[(0,p.jsx)("b",{className:"wdt-100",children:(0,i.__)("Map File Upload Fields","bitform")}),(0,p.jsx)("button",{onClick:function(){return(0,a.GX)(f,b,_,j)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,i.__)("Refresh Fields","bitform")+"'"},type:"button",disabled:x,children:"↻"})]}),(0,p.jsx)("div",{className:"btcd-hr mt-1"}),(0,p.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,i.__)("Form Fields","bitform")})}),(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,i.__)("WooCommerce Fields","bitform")})})]}),f.upload_field_map.map((function(e,t){return(0,p.jsx)(h,{i:t,field:e,wcConf:f,formFields:m,setWcConf:b,uploadFields:!0},"wc-m-"+(t+9))})),(0,p.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,p.jsx)("button",{onClick:function(){return(0,s.FP)(f.field_map.length,f,b,!0)},className:"icn-btn sh-sm",type:"button",children:"+"})})]})]})}}}]);