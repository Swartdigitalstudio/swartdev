var xs=Object.defineProperty,js=Object.defineProperties;var gs=Object.getOwnPropertyDescriptors;var Ie=Object.getOwnPropertySymbols;var ms=Object.prototype.hasOwnProperty,vs=Object.prototype.propertyIsEnumerable;var Ue=(s,a,c)=>a in s?xs(s,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[a]=c,k=(s,a)=>{for(var c in a||(a={}))ms.call(a,c)&&Ue(s,c,a[c]);if(Ie)for(var c of Ie(a))vs.call(a,c)&&Ue(s,c,a[c]);return s},te=(s,a)=>js(s,gs(a));import{u as se,r as L,d as be,_ as X,j as e,S as ve,$ as ce,dd as Z,de as ps,df as ys,cI as he,L as me,a as ue,o as Ce,h as de,b as We,a3 as _e,I as qe,e as Re,an as Ns,m as ws,c as Ne,q as A,aX as we,bF as Ss,bQ as ks,aF as Xe,i as $s,l as le,B as ze,E as Cs,O as _s,w as Ts,c8 as Ls,M as Ps}from"./main-398.js";import{a as Qe,G as ge,T as Se}from"./bf-233-100.js";import{B as Bs}from"./bf-354-65.js";import{C as oe}from"./bf-288-71.js";import{u as Es}from"./bf-989-109.js";import{C as As}from"./bf-235-102.js";import{S as Vs,a as Fs,D as Is,b as Ge}from"./bf-640-289.js";import{E as Us}from"./bf-760-79.js";import{N as Rs}from"./bf-788-137.js";import{P as De}from"./bf-138-72.js";import{T as ne}from"./bf-491-73.js";import{C as zs}from"./bf-827-74.js";import{S as Gs}from"./bf-314-99.js";const Y=s=>{const a=s.current;return s.current+=1,a},ke=(s,a)=>{const c=[];let t=1;return s.forEach(r=>{r.type==="group"?(c.push(te(k({},r),{id:Y(a),groupLbl:r.title,type:`group-${t}-start`})),r.childs.map(b=>{c.push(k({id:Y(a)},b))}),c.push({id:Y(a),type:`group-${t}-end`}),t+=1):c.push(k({id:Y(a)},r))}),c},$e=(s,a)=>{const c=[];for(let t=0;t<s.length;t+=1)if("type"in s[t]&&s[t].type.includes("start")){const r=s[t].type.split("-")[1],{groupLbl:b,disabled:x}=s[t],u=[];for(let v=t+1;v<s.length;v+=1)if("type"in s[v]&&s[v].type===`group-${r}-end`){t=v;break}else{const w=k({},s[v]);delete w.id,u.push(w)}u.length&&c.push({title:b,type:"group",childs:u,disabled:x})}else{const r=k({},s[t]);delete r.id,c.push(r)}return c.length?c:[{[a]:"Option 1"},{[a]:"Option 2"},{[a]:"Option 3"}]},Ye=(s,a,c,t)=>{let r="";return s.map(b=>{b.type==="group"?(r+=`group-start:${b.title}\r
`,b.childs.map(x=>{t&&x[t]&&(r+=`[${x[t]}]; `),r+=`${x[a]}${x[c]?`:${x[c]}`:""}\r
`}),r+=`group-end:${b.title}\r
`):(t&&b[t]&&(r+=`[${b[t]}]; `),r+=`${b[a]}${b[c]?`:${b[c]}`:""}\r
`)}),r},Ds=(s,a,c,t)=>{const r=s.split(/\r?\n/),b=[];let x=1,u=1;return r.forEach(v=>{if(v.includes("group-start")){if(u===1&&!s.includes("group-end:"))return;const[,w]=v.split("group-start:");b.push({id:x,type:`group-${u}-start`,groupLbl:w}),x+=1}else if(v.includes("group-end"))b.push({id:x,type:`group-${u}-end`}),x+=1,u+=1;else if(v){const[w,P]=v.split(":");b.push({id:x,[c]:w,[t]:P}),x+=1}}),a.current=x,b},Hs=(s,a,c)=>{const t=v=>v?typeof v=="string"?v.trim():v.toString().trim():"",{options:r,lbl:b,vlu:x}=s;return!r||!b||!x?[]:r.map(v=>({[a]:t(v[b]),[c]:t(v[x])}))};function Js({importOpts:s,setImportOpts:a}){var u,v,w;const c=se(ce),t=typeof c!="undefined"&&c.isPro,[r,b]=L.useState({show:!1});L.useEffect(()=>{if(!t)return;const P=new URL(c.ajaxURL);P.searchParams.append("action","bitforms_get_acf_group_fields"),P.searchParams.append("_ajax_nonce",c.nonce);const i=fetch(P).then(n=>n.json()).then(n=>{var o;if(n.data){const f=n.data,j=k({},s);if(localStorage.setItem("bf-options-acf_field_op",JSON.stringify(f)),j.groups=n.data,j.lbl=1,j.vlu=0,(j==null?void 0:j.fieldObject)===null)j.fieldObject={fieldType:"acf_options",filter:{fieldkey:""},type:"acf",oldOpt:[]};else{const{fieldObject:_}=k({},j),{fieldkey:p}=k({},_==null?void 0:_.filter),N=(o=j.groups)==null?void 0:o.find(S=>(S==null?void 0:S.key)===p);j.options=Object.entries(N==null?void 0:N.choices),j.keys=Object.keys(j.options),j.vlu=j==null?void 0:j.keys[j==null?void 0:j.vlu],j.lbl=j==null?void 0:j.keys[j==null?void 0:j.lbl]}return a(k({},j)),"Successfully fetched ACF fields options."}return"ACF fields options not found"});be.promise(i,{success:n=>n,failed:n=>n,loading:X("Loading ACF fields...")})},[]);const x=P=>{var p,N,S;const{name:i,value:n}=P.target,o=k({},s);o.fieldObject.filter[i]=n;const f=localStorage.getItem("bf-options-acf_field_op"),j=(N=(p=o.fieldObject)==null?void 0:p.filter)==null?void 0:N.fieldkey,_=(S=JSON.parse(f))==null?void 0:S.find(d=>(d==null?void 0:d.key)===j);o.options=Object.entries(_==null?void 0:_.choices),o.keys=Object.keys(o.options),o.vlu=o==null?void 0:o.keys[o==null?void 0:o.vlu],o.lbl=o==null?void 0:o.keys[o==null?void 0:o.lbl],a(k({},o))};return e.jsxs("div",{className:"mt-2",children:[e.jsx(ve,{snack:r,setSnackbar:b}),e.jsx("div",{children:e.jsx("div",{children:!!(s!=null&&s.groups)&&e.jsx("div",{className:"flx mt-3 w-10",children:e.jsxs("div",{className:"w-10 mr-2",children:[e.jsx("b",{children:"ACF Options Field"}),e.jsxs("select",{"data-testid":"imprt-optns-acf-slct",name:"fieldkey",onChange:x,value:((v=(u=s==null?void 0:s.fieldObject)==null?void 0:u.filter)==null?void 0:v.fieldkey)||"",className:"btcd-paper-inp mt-1",children:[e.jsx("option",{value:"",children:"select option"}),(w=s==null?void 0:s.groups)==null?void 0:w.map((P,i)=>e.jsx("option",{value:P.key,children:`${P.group_title}-${P.name}`},`imp-${i*2}`))]})]})})})})]})}const q=s=>s?typeof s=="string"?s.trim():s.toString().trim():"",Ze=s=>s==="comma"?",":s==="space"?/[ ]+/:/\r?\n/,Ms=typeof bits!="undefined"&&bits.isPro,Ws=(s,a,c)=>{if(!Ms)return[];const{data:t,dataTyp:r,separator:b,lbl:x,vlu:u}=s;let v=[];if(r==="txt"){const w=Ke(b,s);if(!b||w&&(!x||!u))return[];const P=Ze(b),i=x==="value"?1:0,n=u==="key"?0:1;v=t.split(P).filter(o=>q(o).length).map(o=>{const f=w?o.split(":"):o.split(),j=q(f[i]),_=q((f==null?void 0:f[n])||j);return{[a]:j,[c]:_}})}if(r==="json"){if(Z("object",t)||Z("array",t)&&t.length===1&&Z("object",t[0])){if(!x||!u)return[];const w=Z("array",t)?t[0]:t,P=x==="value"?1:0,i=u==="key"?0:1;v=Object.entries(w).map(n=>({[a]:q(n[P]),[c]:q(n[i])}))}else if(Z("array",t))if(t.length>1&&Z("object",t[0])){if(!x||!u)return[];v=t.map(w=>({[a]:q(w[x]),[c]:q(w[u])}))}else v=t.filter(w=>q(w).length>0).map(w=>({[a]:q(w),[c]:q(w)}))}if(r==="xlsx"||r==="xls"||r==="csv"||r==="tsv"){if(!x||!u)return[];v=t.map(w=>({[a]:q(w[x]),[c]:q(w[u])}))}return v},Ke=(s,a)=>{var x;let c=1;const t=Ze(s),r=((x=a==null?void 0:a.data)==null?void 0:x.split(t))||[],{length:b}=r;if(b){for(let u=0;u<(b<=10?b:10);u+=1)if(q(r[u])&&r[u].split(":").length<=1){c=0;break}}return c},qs=(s,a,c)=>{const{data:t,preset:r,lbl:b,vlu:x}=s;return!r||!b||!x?[]:t[r].map(v=>({[a]:q(v[b]),[c]:q(v[x])}))};function Xs({importOpts:s,setImportOpts:a}){var w,P;const c=se(ce),{isPro:t}=c,r=i=>{let n=k({},s);if(!t)return[];const o=i.target.files[0];if(!(o!=null&&o.name)){console.warn("file missing");return}n={show:!0,dataSrc:"fileupload"};const f=ps(o.name),j=new FileReader;f==="txt"||f==="json"||f==="csv"||f==="tsv"?j.readAsText(o):(f==="xlsx"||f==="xls")&&j.readAsArrayBuffer(o),j.onload=()=>{n.dataTyp=f;const _=j.result;if(f==="txt")n.data=_;else if(f==="json"){try{n.data=JSON.parse(_)}catch(N){a(k({},n)),console.warn(N);return}const p=x(n.data);p!=null&&p.headers&&(n.headers=p.headers),p!=null&&p.lbl&&(n.lbl=p.lbl),p!=null&&p.vlu&&(n.vlu=p.vlu)}else if(f==="csv"||f==="tsv")n.data=ys(_,f==="tsv"?"	":","),n.headers=v(n.data[0]),n.headers.length&&(n=b(n.headers[0],n));else if(f==="xlsx"||f==="xls"){if(!XLSX){console.warn("sheet.js not loaded!");return}const p=new Uint8Array(_),N=XLSX.read(p,{type:"array"});n.dataTyp=f;const{length:S}=N.SheetNames;S===1?(n.data=XLSX.utils.sheet_to_json(N.Sheets[N.SheetNames[0]]),n.headers=v(n.data[0]),n.headers.length&&(n=b(n.headers[0],n))):S>1&&(n.workbook=N)}a(k({},n))}},b=(i,n)=>te(k({},n),{lbl:i,vlu:i}),x=i=>{const n=v(i[0]);if(Z("array",i)&&i.length>1&&Z("object",i[0]))return{headers:n,lbl:n[0]||"",vlu:n[0]||""};if(Z("object",i)||Z("array",i)&&i.length===1&&Z("object",i[0]))return{headers:["key","value"],lbl:"key",vlu:"value"}},u=i=>{const{name:n,value:o}=i.target,f=k({},s);f[n]=o,n==="separator"?Ke(o,f)&&(f.headers=["key","value"],f.lbl="key",f.vlu="value"):n==="sheetName"&&(delete f.lbl,delete f.vlu,o?(f.data=XLSX.utils.sheet_to_json(f.workbook.Sheets[o]),f.headers=v(f.data[0])):(delete f.headers,delete f.data)),a(k({},f))},v=i=>Z("object",i)?Object.keys(i):[];return e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{children:[e.jsx("b",{children:"Upload File (txt, json, xls, xlsx, csv, tsv)"}),e.jsx("input",{"data-testid":"fil-upld-imprt-optns-fil",type:"file",onChange:r,accept:".json,.txt,.xls,.xlsx,.csv,.tsv",className:"btcd-paper-inp mt-1"})]}),s.dataTyp==="txt"&&e.jsxs("div",{className:"mt-3",children:[e.jsx("b",{children:"Separator"}),e.jsxs("select",{"data-testid":"imprt-optns-sprtr-slct",name:"separator",className:"btcd-paper-inp mt-1",onChange:u,value:s.separator||"",children:[e.jsx("option",{value:"",children:"Select Separator"}),e.jsx("option",{value:"comma",children:"Comma"}),e.jsx("option",{value:"space",children:"Space"}),e.jsx("option",{value:"newline",children:"New Line"})]})]}),((P=(w=s==null?void 0:s.workbook)==null?void 0:w.SheetNames)==null?void 0:P.length)>1&&e.jsxs("div",{className:"mt-3",children:[e.jsx("b",{children:"Sheet Name"}),e.jsxs("select",{"data-testid":"imprt-optns-shet-slct",name:"sheetName",id:"",className:"btcd-paper-inp mt-1",onChange:u,value:s.sheetName||"",children:[e.jsx("option",{value:"",children:"Select Sheet"}),s.workbook.SheetNames.map(i=>e.jsx("option",{value:i,children:i},i))]})]}),s.headers&&e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Label"}),e.jsxs("select",{"data-testid":"imprt-optns-lbl-slct",name:"lbl",id:"",className:"btcd-paper-inp mt-1",onChange:u,value:s.lbl||"",children:[e.jsx("option",{value:"",children:"Select Label"}),s.headers.map(i=>e.jsx("option",{value:i,children:i},i))]})]}),e.jsxs("div",{className:"w-5 ",children:[e.jsx("b",{children:"Value"}),e.jsxs("select",{"data-testid":"imprt-optns-val-slct",name:"vlu",id:"",className:"btcd-paper-inp mt-1",onChange:u,value:s.vlu||"",children:[e.jsx("option",{value:"",children:"Select Value"}),s.headers.map(i=>e.jsx("option",{value:i,children:i},i))]})]})]})]})}const Qs=(s,a,c)=>{const{data:t,lbl:r,vlu:b}=s;return!t||!r||!b?[]:t.map(u=>({[a]:u[r].trim(),[c]:u[b].trim()}))};function Ys({importOpts:s,setImportOpts:a}){var u,v,w,P,i,n,o,f,j,_,p,N,S;const c=se(ce),t=typeof c!="undefined"&&c.isPro,[r,b]=L.useState({show:!1});L.useEffect(()=>{if(!t)return;const d=new URL(c.ajaxURL);d.searchParams.append("action","bitforms_get_wp_posts"),d.searchParams.append("_ajax_nonce",c.nonce);const $=fetch(d).then(y=>y.json()).then(y=>{if(y.data){const{posts:h,postTypes:B}=y.data,m=k({},s);if(m.data=h,localStorage.setItem("bf-options-posts",JSON.stringify(h)),m.postTypes=Object.values(B),m.headers=Object.keys(m.data[0]),m.lbl=m.headers[6],m.vlu=m.headers[0],(m==null?void 0:m.fieldObject)===null)m.data=h==null?void 0:h.filter(I=>(I==null?void 0:I.post_type)==="post"),m.fieldObject={fieldType:"post_field",filter:{orderBy:"ID",order:"ASC",postType:"post",postStatus:"all"},lebel:m.lbl,value:m.vlu,hiddenValue:m==null?void 0:m.vlu,oldOpt:[],type:"post"};else{const{fieldObject:I}=k({},m),{orderBy:J,order:V,postType:z,postStatus:G}=k({},I==null?void 0:I.filter),W=he(m.data,J,V);G!=="all"?m.data=W==null?void 0:W.filter(M=>(M==null?void 0:M.post_status)===G&&(M==null?void 0:M.post_type)===z):m.data=W,m.lbl=I==null?void 0:I.lebel,m.vlu=I==null?void 0:I.hiddenValue}return a(k({},m)),"Successfully fetched wordpress posts."}return"posts not found"});be.promise($,{success:y=>y,failed:y=>y,loading:X("Loading Posts...")})},[]);const x=d=>{const{name:$,value:y}=d.target,h=k({},s);h[$]=y;const{fieldObject:B}=h;B.filter[$]=y;const{orderBy:m,order:I,postType:J,postStatus:V}=B.filter;let z=localStorage.getItem("bf-options-posts");z=he(JSON.parse(z),m,I),V!=="all"?h.data=z==null?void 0:z.filter(G=>(G==null?void 0:G.post_status)===V&&(G==null?void 0:G.post_type)===J):h.data=z==null?void 0:z.filter(G=>(G==null?void 0:G.post_type)===J),h.fieldObject.lebel=h==null?void 0:h.lbl,h.fieldObject.hiddenValue=h==null?void 0:h.vlu,a(k({},h))};return e.jsx("div",{className:"mt-2",children:e.jsxs("div",{children:[e.jsx(ve,{snack:r,setSnackbar:b}),e.jsxs("div",{children:[!!(s!=null&&s.data)&&e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Filter by Post Type"}),e.jsx("select",{"data-testid":"imprt-optns-pst-typ-slct",name:"postType",onChange:x,value:((v=(u=s.fieldObject)==null?void 0:u.filter)==null?void 0:v.postType)||"",className:"btcd-paper-inp mt-1",children:(w=s==null?void 0:s.postTypes)==null?void 0:w.map((d,$)=>e.jsx("option",{value:d.name,children:d.label},`imp-${$*2}`))})]}),e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Filter by Post Status"}),e.jsxs("select",{"data-testid":"imprt-optns-pst-stats-slct",name:"postStatus",onChange:x,value:((i=(P=s==null?void 0:s.fieldObject)==null?void 0:P.filter)==null?void 0:i.postStatus)||"",className:"btcd-paper-inp mt-1",children:[e.jsx("option",{disabled:!0,selected:!0,children:"select status"}),e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"publish",children:"Publish"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"auto-draft",children:"Auto-Draft"}),e.jsx("option",{value:"private",children:"Private"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"trash",children:"Trash"})]})]})]}),!!((n=s==null?void 0:s.data)!=null&&n.length)&&e.jsxs("div",{children:[e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Order By"}),e.jsx("select",{"data-testid":"imprt-optns-ordr-by-slct",name:"orderBy",onChange:x,value:((f=(o=s==null?void 0:s.fieldObject)==null?void 0:o.filter)==null?void 0:f.orderBy)||"",className:"btcd-paper-inp mt-1",children:(j=s==null?void 0:s.headers)==null?void 0:j.map(d=>e.jsx("option",{value:d,children:d},d))})]}),e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Order"}),e.jsxs("select",{"data-testid":"imprt-optns-ordr-slct",name:"order",onChange:x,value:((p=(_=s.fieldObject)==null?void 0:_.filter)==null?void 0:p.order)||"",className:"btcd-paper-inp mt-1",children:[e.jsx("option",{value:"ASC",children:"Ascending"}),e.jsx("option",{value:"DESC",children:"Descending"})]})]})]}),s.headers&&e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Label"}),e.jsxs("select",{"data-testid":"imprt-optns-lbl-slct",name:"lbl",id:"",className:"btcd-paper-inp mt-1",onChange:x,value:((N=s==null?void 0:s.fieldObject)==null?void 0:N.lebel)||"",children:[e.jsx("option",{value:"",children:"Select Label"}),s.headers.map(d=>e.jsx("option",{value:d,children:d},d))]})]}),e.jsxs("div",{className:"w-5",children:[e.jsx("b",{children:"Value"}),e.jsxs("select",{"data-testid":"imprt-optns-val-slct",name:"vlu",id:"",className:"btcd-paper-inp mt-1",onChange:x,value:((S=s==null?void 0:s.fieldObject)==null?void 0:S.hiddenValue)||"",children:[e.jsx("option",{value:"",children:"Select Value"}),s.headers.map(d=>e.jsx("option",{value:d,children:d},d))]})]})]})]})]})]})})}function Zs({importOpts:s,setImportOpts:a}){const c=se(ce),{isPro:t}=c,[r,b]=L.useState(!1),x=1.1,u="https://static.bitapps.pro/bitform/options-presets.json";L.useEffect(()=>{if(!t)return;let n=localStorage.getItem("bf-options-presets");const o=k({},s);if(n&&(n=JSON.parse(n)),!n||n&&Number(n.version)<x)b(!0),fetch(u).then(f=>f.json()).then(f=>{if(f.data){const{data:j}=f;o.data=v(j),o.presetOpts=w(j),localStorage.setItem("bf-options-presets",JSON.stringify(f)),a(k({},o))}b(!1)});else{const{data:f}=n;o.data=v(f),o.presetOpts=w(f),a(k({},o))}},[]);const v=n=>n.reduce((o,f)=>k(k({},o),f.childs),{}),w=n=>n.map(o=>({title:o.title,type:"group",childs:Object.keys(o.childs).map(f=>({label:f,value:f}))})),P=n=>{var f,j;const o=k({},s);if(o.preset=n,n&&((j=(f=o==null?void 0:o.data)==null?void 0:f[n])!=null&&j.length)){o.headers=Object.keys(o.data[n][0]);const[_]=o.headers;o.lbl=_,o.vlu=_}else delete o.headers,delete o.lbl,delete o.vlu;a(k({},o))},i=n=>{const o=k({},s),{name:f,value:j}=n.target;o[f]=j,a(k({},o))};return e.jsxs("div",{className:"mt-2",children:[r&&e.jsxs("div",{className:"flx mb-2",children:[e.jsx(me,{size:20,clr:"#022217",className:"mr-1"}),e.jsx("p",{className:"m-0",children:"Presets are loading from server. This process is only for the first time."})]}),e.jsxs("div",{children:[e.jsx("b",{children:"Preset"}),e.jsx(Es,{className:"btcd-paper-drpdwn mt-1 w-10",options:s.presetOpts,defaultValue:s.preset,onChange:P,singleSelect:!0,closeOnSelect:!0})]}),s.headers&&e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Label"}),e.jsxs("select",{"data-testid":"imprt-optns-lbl-slct",name:"lbl",id:"",className:"btcd-paper-inp mt-1",onChange:i,value:s.lbl||"",children:[e.jsx("option",{value:"",children:"Select Label"}),s.headers.map(n=>e.jsx("option",{value:n,children:n},n))]})]}),e.jsxs("div",{className:"w-5",children:[e.jsx("b",{children:"Value"}),e.jsxs("select",{"data-testid":"imprt-optns-val-slct",name:"vlu",id:"",className:"btcd-paper-inp mt-1",onChange:i,value:s.vlu||"",children:[e.jsx("option",{value:"",children:"Select Value"}),s.headers.map(n=>e.jsx("option",{value:n,children:n},n))]})]})]})]})}const He=s=>typeof s=="string"?s==null?void 0:s.trim():s==null?void 0:s.toString(),Ks=(s,a,c)=>{const{data:t,lbl:r,vlu:b}=s;return!t||!r||!b?[]:t.map(u=>({[a]:He(u[r]),[c]:He(u[b])}))};function Os({importOpts:s,setImportOpts:a}){var v,w,P,i,n,o,f,j,_,p,N,S;const c=se(ce),{isPro:t}=c,[r,b]=L.useState({show:!1});L.useEffect(()=>{if(!t)return;localStorage.removeItem("bf-options-taxanomy");const d=new URL(c.ajaxURL);d.searchParams.append("action","bitforms_get_wp_taxonomy"),d.searchParams.append("_ajax_nonce",c.nonce);const $=fetch(d).then(y=>y.json()).then(y=>{if(y.data){const{allCategoreis:h,taxonomies:B}=y.data,m=k({},s);m.data=h,localStorage.setItem("bf-options-categories",JSON.stringify(h)),localStorage.setItem("bf-options-taxanomy",JSON.stringify(B)),m.taxonomies=Object.values(B),m.headers=Object.keys(m.data[0]);const[I,J]=m.headers;if(m.lbl=J,m.vlu=I,(m==null?void 0:m.fieldObject)===null)m.data=h==null?void 0:h.filter(V=>V.taxonomy==="category"),m.fieldObject={fieldType:"taxanomy_field",filter:{orderBy:"term_id",taxanomy:"category",order:"ASC"},lebel:m.lbl,value:m.vlu,hiddenValue:m==null?void 0:m.vlu,oldOpt:[],isTaxonomy:!1,isHierarchical:!0,type:"terms"};else{const{fieldObject:V}=k({},m),{orderBy:z,order:G,taxanomy:W}=k({},V==null?void 0:V.filter);m.data=h==null?void 0:h.filter(re=>re.taxonomy===W);const M=he(m.data,z,G);m.data=M,m.lbl=V==null?void 0:V.lebel,m.vlu=V==null?void 0:V.hiddenValue,m.fieldObject.isHierarchical=V==null?void 0:V.isHierarchical}return a(k({},m)),"Successfully fetched wordpress terms."}return"terms data not found"});be.promise($,{success:y=>y,failed:y=>y,loading:X("Loading Terms...")})},[]);const x=d=>{const $=k({},s);d.target.checked?$.fieldObject.isTaxonomy=!0:$.fieldObject.isTaxonomy=!1,a(k({},$))},u=d=>{var G;const{name:$,value:y}=d.target,h=k({},s);h[$]=y;const{fieldObject:B}=h;B.filter[$]=y;const{orderBy:m,taxanomy:I,order:J}=B.filter;let V=localStorage.getItem("bf-options-categories");const z=JSON.parse(localStorage.getItem("bf-options-taxanomy"));V=he(JSON.parse(V),m,J),h.data=V==null?void 0:V.filter(W=>W.taxonomy===I),h.fieldObject.isHierarchical=(G=z==null?void 0:z.find(W=>W.name===I))==null?void 0:G.hierarchical,h.fieldObject.lebel=h==null?void 0:h.lbl,h.fieldObject.hiddenValue=h==null?void 0:h.vlu,a(k({},h))};return e.jsx("div",{className:"mt-2",children:e.jsxs("div",{children:[e.jsx(ve,{snack:r,setSnackbar:b}),e.jsxs("div",{children:[!!(s!=null&&s.data)&&e.jsxs("div",{className:"w-10 mr-2",children:[e.jsx("b",{children:"Filter by Taxonomy"}),e.jsx("select",{"data-testid":"imprt-optns-txnmy-slct",name:"taxanomy",onChange:u,value:((w=(v=s==null?void 0:s.fieldObject)==null?void 0:v.filter)==null?void 0:w.taxanomy)||"",className:"btcd-paper-inp mt-1",children:(P=s==null?void 0:s.taxonomies)==null?void 0:P.map((d,$)=>e.jsx("option",{value:d==null?void 0:d.name,children:`${d==null?void 0:d.singular_name}-${d==null?void 0:d.name}`},`imp-${$*2}`))})]}),!!((i=s==null?void 0:s.data)!=null&&i.length)&&e.jsxs("div",{children:[e.jsxs("div",{className:"w-5 flx",children:[e.jsx(oe,{"data-testid":"imprt-optns-txnmy-chek",onChange:x,title:X("Use Post Taxonomy Fields"),checked:((n=s==null?void 0:s.fieldObject)==null?void 0:n.isTaxonomy)===!0,value:!1}),e.jsx(As,{width:250,icnSize:17,className:"ml-1",children:e.jsxs("div",{className:"txt-body",children:["if selected then its work also post taxanomy field.",e.jsx("br",{})]})})]}),e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Order By"}),e.jsx("select",{"data-testid":"imprt-optns-ordr-by-slct",name:"orderBy",onChange:u,value:((f=(o=s==null?void 0:s.fieldObject)==null?void 0:o.filter)==null?void 0:f.orderBy)||"",className:"btcd-paper-inp mt-1",children:(j=s==null?void 0:s.headers)==null?void 0:j.map(d=>e.jsx("option",{value:d,children:d},d))})]}),e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Order"}),e.jsxs("select",{"data-testid":"imprt-optns-ordr-slct",name:"order",onChange:u,value:((p=(_=s==null?void 0:s.fieldObject)==null?void 0:_.filter)==null?void 0:p.order)||"",className:"btcd-paper-inp mt-1",children:[e.jsx("option",{value:"ASC",children:"Ascending"}),e.jsx("option",{value:"DESC",children:"Descending"})]})]})]}),s.headers&&e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Label"}),e.jsxs("select",{"data-testid":"imprt-optns-lbl-slct",name:"lbl",id:"",className:"btcd-paper-inp mt-1",onChange:u,value:((N=s==null?void 0:s.fieldObject)==null?void 0:N.lebel)||"",children:[e.jsx("option",{disabled:!0,children:"Select Label"}),s.headers.map(d=>e.jsx("option",{value:d,children:d},d))]})]}),e.jsxs("div",{className:"w-5",children:[e.jsx("b",{children:"Value"}),e.jsxs("select",{"data-testid":"imprt-optns-val-slct",name:"vlu",id:"",className:"btcd-paper-inp mt-1",onChange:u,value:((S=s==null?void 0:s.fieldObject)==null?void 0:S.hiddenValue)||"",children:[e.jsx("option",{disabled:!0,children:"Select Value"}),s.headers.map(d=>e.jsx("option",{value:d,children:d},d))]})]})]})]})]})]})})}const Je=s=>typeof s=="string"?s==null?void 0:s.trim():s==null?void 0:s.toString(),ea=(s,a,c)=>{const{data:t,lbl:r,vlu:b}=s;return!t||!r||!b?[]:t.map(u=>({[a]:Je(u[r]),[c]:Je(u[b])}))};function sa({importOpts:s,setImportOpts:a}){var u,v,w,P,i,n,o,f,j,_,p,N;const c=se(ce),{isPro:t}=c,[r,b]=L.useState({show:!1});L.useEffect(()=>{if(!t)return;const S=new URL(c.ajaxURL);S.searchParams.append("action","bitforms_get_wp_users"),S.searchParams.append("_ajax_nonce",c.nonce);const d=fetch(S).then($=>$.json()).then($=>{if($.data){const{users:y}=$.data,h=k({},s);h.data=y,localStorage.setItem("bf-options-users",JSON.stringify(y)),h.headers=Object.keys(h.data[0]);const[B]=h.headers;if(h.lbl=B,h.vlu=B,(h==null?void 0:h.fieldObject)===null)h.fieldObject={fieldType:"user_field",filter:{orderBy:"ID",role:"all",order:"ASC"},lebel:h.lbl,value:h.vlu,hiddenValue:h==null?void 0:h.vlu,oldOpt:[],type:"user"};else{const{fieldObject:m}=k({},h),{orderBy:I,order:J,role:V}=k({},m==null?void 0:m.filter),z=he(h.data,I,J);V!=="all"?h.data=z==null?void 0:z.filter(G=>G.role[0]===V):h.data=z,h.lbl=m==null?void 0:m.lebel,h.vlu=m==null?void 0:m.hiddenValue}return a(k({},h)),"Successfully fetched users data."}return"users data not found"});be.promise(d,{success:$=>$,failed:$=>$,loading:X("Loading Users...")})},[]);const x=S=>{const{name:d,value:$}=S.target,y=k({},s);(d==="lbl"||d==="vlu")&&(y[d]=$);const{fieldObject:h}=y;h.filter[d]=$;const{orderBy:B,order:m,role:I}=h.filter;let J=localStorage.getItem("bf-options-users");J=he(JSON.parse(J),B,m),I!=="all"?y.data=J==null?void 0:J.filter(V=>V.role[0]===I):y.data=J,y.fieldObject.lebel=y==null?void 0:y.lbl,y.fieldObject.hiddenValue=y==null?void 0:y.vlu,a(k({},y))};return e.jsx("div",{className:"mt-2",children:e.jsxs("div",{children:[e.jsx(ve,{snack:r,setSnackbar:b}),e.jsxs("div",{children:[!!(s!=null&&s.data)&&e.jsxs("div",{className:"w-10 mr-2",children:[e.jsx("b",{children:"Filter by Role"}),e.jsxs("select",{"data-testid":"imprt-optns-rol-slct",name:"role",onChange:x,value:((v=(u=s==null?void 0:s.fieldObject)==null?void 0:u.filter)==null?void 0:v.role)||"",className:"btcd-paper-inp mt-1",children:[e.jsx("option",{selected:!0,disabled:!0,children:"select role"}),e.jsx("option",{value:"all",children:"all"}),e.jsx("option",{value:"administrator",children:"Administrator"}),e.jsx("option",{value:"author",children:"Author"}),e.jsx("option",{value:"contributor",children:"Contributor"}),e.jsx("option",{value:"editor",children:"Editor"}),e.jsx("option",{value:"subscriber",children:"Subscriber"})]})]}),!!((w=s==null?void 0:s.data)!=null&&w.length)&&e.jsxs("div",{children:[e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Order By"}),e.jsx("select",{"data-testid":"imprt-optns-ordr-by-slct",name:"orderBy",onChange:x,value:((i=(P=s==null?void 0:s.fieldObject)==null?void 0:P.filter)==null?void 0:i.orderBy)||"",className:"btcd-paper-inp mt-1",children:(n=s==null?void 0:s.headers)==null?void 0:n.map(S=>e.jsx("option",{value:S,children:S},S))})]}),e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Order"}),e.jsxs("select",{"data-testid":"imprt-optns-ordr-slct",name:"order",onChange:x,value:((f=(o=s==null?void 0:s.fieldObject)==null?void 0:o.filter)==null?void 0:f.order)||"",className:"btcd-paper-inp mt-1",children:[e.jsx("option",{value:"ASC",children:"Ascending"}),e.jsx("option",{value:"DESC",children:"Descending"})]})]})]}),(s==null?void 0:s.headers)&&e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Label"}),e.jsxs("select",{"data-testid":"imprt-optns-lbl-slct",name:"lbl",id:"",className:"btcd-paper-inp mt-1",onChange:x,value:((j=s==null?void 0:s.fieldObject)==null?void 0:j.lebel)||"",children:[e.jsx("option",{value:"",children:"Select Label"}),(_=s==null?void 0:s.headers)==null?void 0:_.map(S=>e.jsx("option",{value:S,children:S},S))]})]}),e.jsxs("div",{className:"w-5",children:[e.jsx("b",{children:"Value"}),e.jsxs("select",{"data-testid":"imprt-optns-val-slct",name:"vlu",id:"",className:"btcd-paper-inp mt-1",onChange:x,value:((p=s==null?void 0:s.fieldObject)==null?void 0:p.hiddenValue)||"",children:[e.jsx("option",{value:"",children:"Select Value"}),(N=s==null?void 0:s.headers)==null?void 0:N.map(S=>e.jsx("option",{value:S,children:S},S))]})]})]})]})]})]})})}function aa({setOptions:s,importOpts:a,setImportOpts:c,lblKey:t,valKey:r,setEditOptionType:b}){const x=se(ce),{isPro:u}=x,{css:v}=ue(),{fieldKey:w}=Ce(),P=se(_e),i=de(P[w]),n=p=>p.map(N=>te(k({},N),{[r]:N[r].replace(/,/g,"_")})),o=()=>{if(!u)return[];const{dataSrc:p}=a;return p==="fileupload"?Ws(a,t,r):p==="presets"?qs(a,t,r):p==="user"?ea(a,t,r):p==="terms"?Ks(a,t,r):p==="post"?Qs(a,t,r):p==="acf"?Hs(a,t,r):[]},f=p=>{const{name:N,value:S}=p.target;let d=k({},a);const{fieldObject:$,disabled:y}=k({},a);N==="dataSrc"&&(d={show:!0}),d.fieldObject=$,d.disabled=y,d[N]=S,c(k({},d))},j=()=>{var $,y;const p=n(o());(a==null?void 0:a.dataSrc)==="user"&&(i.customType=a==null?void 0:a.fieldObject),(a==null?void 0:a.dataSrc)==="terms"&&(i.customType=a==null?void 0:a.fieldObject),(a==null?void 0:a.dataSrc)==="post"&&(i.customType=a==null?void 0:a.fieldObject),(a==null?void 0:a.dataSrc)==="acf"&&(i.customType=a==null?void 0:a.fieldObject),a.type==="merge"?(i.customType&&(i.custom_type.oldOpt=i.opt),i.opt=i.opt.concat(p)):i.opt=p;const N=(($=i==null?void 0:i.customType)==null?void 0:$.type)||"fileupload";let S=null,d=!1;(y=i==null?void 0:i.customType)!=null&&y.type&&(d=!0,S=i==null?void 0:i.customType),s($e(i.opt,t)),c({dataSrc:N,fieldObject:S,disabled:d}),b("Visual")},_=o();return e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{children:[e.jsx("b",{children:"Data Source"}),e.jsxs("select",{"data-testid":"imprt-optns-data-src",name:"dataSrc",className:"btcd-paper-inp mt-1",onChange:f,value:a.dataSrc,disabled:a==null?void 0:a.disabled,children:[e.jsx("option",{value:"fileupload",children:"File Upload"}),e.jsx("option",{value:"presets",children:"Presets"}),e.jsx("option",{value:"post",children:"Posts"}),e.jsx("option",{value:"terms",children:"Terms"}),e.jsx("option",{value:"user",children:"Users"}),e.jsx("option",{value:"acf",children:"ACF Field Option"})]})]}),a.dataSrc==="fileupload"&&e.jsx(Xs,{importOpts:a,setImportOpts:c}),a.dataSrc==="presets"&&e.jsx(Zs,{importOpts:a,setImportOpts:c}),a.dataSrc==="post"&&e.jsx(Ys,{importOpts:a,setImportOpts:c}),a.dataSrc==="user"&&e.jsx(sa,{importOpts:a,setImportOpts:c}),a.dataSrc==="terms"&&e.jsx(Os,{importOpts:a,setImportOpts:c}),a.dataSrc==="acf"&&e.jsx(Js,{importOpts:a,setImportOpts:c}),!!_.length&&e.jsxs("div",{className:"mt-3",children:[e.jsx("b",{children:"Preview:"}),e.jsxs("table",{border:"1",className:"btcd-table txt-center mt-3",children:[e.jsx("thead",{className:"thead",children:e.jsxs("tr",{className:"tr",children:[e.jsx("th",{className:"th",children:"Label"}),e.jsx("th",{className:"th",children:"Value"})]})}),e.jsx("tbody",{className:"tbody",children:_.slice(0,5).map((p,N)=>e.jsxs("tr",{className:"tr",children:[e.jsx("td",{className:"td",children:p[t]}),e.jsx("td",{className:"td",children:p[r]})]},`imp-${N*2}`))}),_.length-5>0&&e.jsx("tfoot",{className:"tfoot",children:e.jsx("tr",{className:"tr",children:e.jsx("td",{className:"td",colSpan:"2",children:`+${_.length-5} more ( Total ${_.length} )`})})})]})]}),(a.dataSrc==="presets"||a.dataSrc==="fileupload")&&e.jsxs("div",{className:"mt-1",children:[e.jsx(oe,{name:"type",onChange:f,radio:!0,title:X("Replace Previous Options"),value:"replace",checked:a.type!=="merge"}),e.jsx("br",{}),e.jsx(oe,{name:"type",onChange:f,radio:!0,title:X("Merge with Previous Options"),value:"merge",checked:a.type==="merge"})]}),e.jsxs("button",{"data-testid":"imprt-edt-optns-btn",onClick:j,className:`${v(We.btn)} blue`,type:"button",disabled:!_.length||!1,children:[e.jsx(Bs,{size:"15"})," ",X("Import & Edit")]})]})}function na({setOptions:s,lblKey:a,valKey:c,setEditOptionType:t,isPro:r}){var o,f;const{fieldKey:b}=Ce(),x=se(_e),u=de(x[b]),[v,w]=L.useState({}),P=((o=u==null?void 0:u.customType)==null?void 0:o.type)||"fileupload";let i=null,n=!1;return(f=u==null?void 0:u.customType)!=null&&f.type&&(i=u==null?void 0:u.customType,n=!0),L.useEffect(()=>w({dataSrc:P,fieldObject:i,disabled:n}),[b]),e.jsxs("div",{className:"pos-rel",children:[r&&!qe&&e.jsx("div",{className:"pro-blur flx",style:{width:"100%",height:"100%",top:0,left:0},children:e.jsxs("div",{className:"pro",children:[X("Available On"),e.jsx("a",{href:"https://www.bitapps.pro/bit-form",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",X("Premium")]})})]})}),e.jsx(aa,{setOptions:s,importOpts:v,setImportOpts:w,lblKey:a,valKey:c,setEditOptionType:t})]})}function la({options:s,optionTxt:a,setOptionTxt:c,lblKey:t,valKey:r,imgKey:b,isPro:x}){const{css:u}=ue();L.useEffect(()=>{c(Ye(s,t,r,b))},[s]);const v=w=>{c(w.target.value)};return e.jsxs("div",{className:"pos-rel",children:[x&&!qe&&e.jsx("div",{className:"pro-blur flx",style:{width:"100%",height:"100%",left:0,top:0},children:e.jsxs("div",{className:"pro",children:[X("Available On"),e.jsx("a",{href:"https://www.bitapps.pro/bit-form",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",X("Premium")]})})]})}),e.jsx("textarea",{"data-testid":"txt-optns-tab-area",className:u(ta.textarea),onChange:v,value:a})]})}const ta={textarea:{w:"100%",p:5,mt:10,h:200}};function ca({size:s=21}){return e.jsx("svg",{width:s,height:s,viewBox:"0 0 21 21",children:e.jsxs("g",{fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",transform:"translate(2 10)",children:[e.jsx("path",{d:"m0 .5c2.53705308 3.66666667 5.37038642 5.5 8.5 5.5 3.1296136 0 5.9629469-1.83333333 8.5-5.5"}),e.jsx("path",{d:"m2.5 3.423-2 2.077"}),e.jsx("path",{d:"m14.5 3.423 2 2.077"}),e.jsx("path",{d:"m10.5 6 1 2.5"}),e.jsx("path",{d:"m6.5 6-1 2.5"})]})})}function ra({iconType:s,setModal:a,optIndx:c,setOption:t,option:r,selected:b="",uploadLbl:x="",unsplash:u=!1}){const{fieldKey:v}=Ce(),[w,P]=Re(_e),i=de(w[v]),[n,o]=L.useState({parent:b||"Icons"}),[f,j]=L.useState([]),[_,p]=L.useState(!1),[N,S]=L.useState(!1),[d,$]=L.useState({}),[y,h]=L.useState([]),[B,m]=L.useState(""),[I,J]=L.useState(!1),[V,z]=L.useState(!1),G=x||"Upload Icon",[W,M]=L.useState(10001),[re,ie]=L.useState(!1),[C,E]=L.useState(),{css:g}=ue(),Q="https://raw.githack.com",K=L.useRef();Re(Ns);const xe="n3pcVfA-CTg4OlOQsM3m6lEWLISyoSbtDqP2CfoukyU",[Te,oa]=L.useState(1),[Oe,je]=L.useState([]),[ha,es]=L.useState(""),[ss,ua]=L.useState(1),Le=[{label:"Icons",show:["label"]},{label:G},{label:"Downloaded Icons"}];u&&Le.push({label:"Unsplash"});const as=[{label:"Font Awesome",value:"t=2_id_fontawesome",id:"font-awesome",status:!1},{label:"Bootstrap",value:"t=2_id_bootstrapicons",id:"bootstrap-icons",status:!1},{label:"Material Design",value:"t=2_id_materialdesign-icons",id:"material-design-icons",status:!1},{label:"Ion",value:"t=2_id_ionicons",id:"ionicons",status:!1},{label:"Octicons",value:"t=2_id_octicons",id:"octicons",status:!1},{label:"CSS.GG",value:"t=2_id_css.gg",id:"css.gg",status:!1},{label:"Feather",value:"t=2_id_feather",id:"feather",status:!1},{label:"Carbon",value:"t=2_id_carbonicons",id:"carbon-icons",status:!1},{label:"Typicons",value:"t=2_id_typicons",id:"typicons",status:!1},{label:"Vscode",value:"t=2_id_vscodecodicons",id:"vscode-codicons",status:!1},{label:"Simple",value:"t=2_id_simpleicons",id:"simple-icons",status:!1}],[O,ns]=L.useState(as||[]),[pe,Pe]=L.useState([]),ye=()=>{if(B)return"nofilter=true";const l=O.find(D=>D.status===!0);let T="";return l&&(T=O.map(D=>D.value).join("&")),T},ls=l=>{J(!0);const T=B!==""?`&t=1_tag_${l}`:"";fetch(`https://icons.bitapps.pro/search?c=0&${ye()}${T}`).then(D=>D.json()).then(D=>{var R;if(D){let H=D.results;O.find(ee=>ee.status)&&(H=H==null?void 0:H.filter(ee=>{var ae;return(ae=O.find(fe=>fe.id===ee.id))==null?void 0:ae.status})),h(H),M(D.total)}(R=K==null?void 0:K.current)==null||R.scrollToTop(0),J(!1)})},ts=ws.useAsyncDebounce(ls,500),cs=({target:{value:l}})=>{m(l),ts(l)},rs=(l,T)=>{T==="parent"?o({parent:l}):T==="child"&&o(D=>te(k({},D),{child:l}))},is=()=>{if(typeof wp!="undefined"&&wp.media){const l=wp.media({title:"Media",button:{text:"Select picture"},library:{type:"image"},multiple:!1});l.on("select",()=>{const T=l.state().get("selection").first().toJSON(),D=le(r,R=>{R[c].img=T.url});t(D),a(!1)}),l.open()}};L.useEffect(()=>{$({}),j([]),h([]),n.parent==="Icons"&&(p(!0),fetch("https://icons.bitapps.pro/search?c=0&").then(l=>l.json()).then(l=>{l&&(M(l.total),h(l.results)),p(!1)})),n.parent==="Downloaded Icons"&&(p(!0),Ne({},"bitforms_get_download_icn").then(l=>{l!==void 0&&l.success&&j(l==null?void 0:l.data),p(!1)}))},[n]);const ds=()=>{S(!0),Ne({id:d.id,src:d.url},"bitforms_icn_save_setting").then(l=>{if(l!==void 0&&l.success){i[s]=l.data;const T=le(r,D=>{D[c].img=l.data});t(T),a(!1)}S(!1),a(!1)})},os=l=>{var D;j(R=>R.filter(H=>H!==l));const T=new RegExp(l,"gi");(D=i[s])!=null&&D.match(T)&&(delete i[s],P(R=>le(R,H=>{H[v]=i}))),Ne({file:l},"bitforms_icon_remove").then(R=>{R!==void 0&&R.success&&j(R.data)}),be.success("Icon Removed Successfully"),ie(!1)},Be=l=>{l.target.parentNode.style.display="none"},Ee=l=>{const T=l.target.scrollHeight-l.target.scrollTop-l.target.clientHeight-100,D=B!==""?`&t=1_tag_${B}`:"";T<=0&&y.length<W&&(z(!0),fetch(`https://icons.bitapps.pro/search?c=${y.length}&${ye()}${D}`).then(R=>R.json()).then(R=>{R&&h(y.concat(R.results)),z(!1)}))},hs=(l,T,D)=>{const R=[...O];D===!1?(R[l].value=`t=1_id_${T.replace("t=2_id_","")}`,R[l].status=!0):(R[l].value=`t=2_id_${T.replace("t=1_id_","")}`,R[l].status=!1),ns(R);const H=B!==""?`&t=1_tag_${B}`:"";O.length&&fetch(`https://icons.bitapps.pro/search?c=0&${ye()}${H}`).then(ee=>ee.json()).then(ee=>{if(ee){let ae=ee.results;O.find(fe=>fe.status)&&(ae=ae==null?void 0:ae.filter(fe=>{var Fe;return(Fe=O.find(bs=>bs.id===fe.id))==null?void 0:Fe.status})),h(ae),M(ee.total)}})},Ae=()=>{const l=le(r,T=>{T[c].img=d.url});t(l),a(!1)},Ve=(l,T)=>{$({id:l,url:T})};L.useEffect(()=>{es(""),j([]),je([]),p(!0),fetch(`https://api.unsplash.com/photos/?client_id=${xe}&per_page=30&page=${Te}`).then(l=>l.json()).then(l=>{l&&(M(l.length),je(l)),p(!1)}),fetch(`https://api.unsplash.com/collections/?client_id=${xe}&page=${ss}`).then(l=>l.json()).then(l=>{l&&Pe(l),p(!1)})},[]);const us=(l,T,D)=>{const R=[...pe];R.map(H=>{H.status=!1}),D?R[l].status=!1:R[l].status=!0,Pe(R),pe.length&&!D?fetch(`https://api.unsplash.com/collections/${T}/photos?client_id=${xe}&per_page=30`).then(H=>H.json()).then(H=>{H&&(je(H),M(H.length))}):fetch(`https://api.unsplash.com/photos/?client_id=${xe}&per_page=30&page=${Te}`).then(H=>H.json()).then(H=>{H&&(je(H),M(H.length))})},fs=l=>{$({id:l.id,url:item.urls.regular})};return e.jsxs("div",{children:[e.jsx(Qe,{options:Le,onChange:l=>rs(l,"parent"),defaultActive:n.parent,defaultItmWidth:220,wideTab:!0,className:g(A.mt1)}),e.jsxs(ge,{open:n.parent==="Icons",children:[e.jsx("div",{className:g(A.mt2,A.flxc,{flxp:1,jc:"center"}),children:O.map((l,T)=>e.jsx("button",{"data-testid":"icn-pck-btn",title:l.label,onClick:()=>hs(T,l.value,l.status),type:"button",className:`${g(F.chip,A.mr2)} ${l.status&&g(F.active)}`,children:l.label},l.label))}),e.jsxs("div",{className:g(A.flxc,F.searchBar,A.mt2,A.mb2),children:[e.jsxs("div",{className:g(F.fields_search),children:[e.jsx("input",{"data-testid":"icns-mdl-srch-inp",title:"Search Icons","aria-label":"Search Icons",placeholder:"Search in 10,000+ icons by keywords one at a time. e.g., user or login or etc...",id:"search-icon",type:"search",name:"searchIcn",value:B,onChange:cs,className:g(F.search_field)}),e.jsx("span",{title:"search",className:g(F.search_icn),children:e.jsx(Gs,{size:"20"})})]}),e.jsx("div",{children:I&&e.jsx(me,{size:20,clr:"#13132b"})})]}),e.jsxs(we,{ref:K,style:{minHeight:350},onScroll:Ee,children:[_&&e.jsxs("div",{title:"Loading...",children:[e.jsx("div",{className:g(A.mt2)}),Array(26).fill(1).map((l,T)=>e.jsx("div",{title:"Loading...",className:`${g(F.loadingPlaceholder)} loader`},`loading-${T*2}`))]}),e.jsx("div",{className:g(A.flxc,A.mt2,F.icon),children:y.map(l=>e.jsx("button",{"data-testid":`inc-prv-btn-${l.name}`,type:"button",title:`${l.name} (${l.id})`,className:`${g(F.icnBtn)} ${Q+l.url===d.url&&g(F.active,F.activeIcn)}`,onClick:()=>Ve(l.id,Q+l.url),children:e.jsx("img",{src:`${Q}${l.url}`,onError:Be,alt:l.name,className:g(F.img)})},`${l.name} (${l.id})`))}),V&&e.jsxs("div",{title:"Loading...",children:[e.jsx("div",{className:g(A.mt2)}),Array(26).fill(1).map((l,T)=>e.jsx("div",{title:"Loading...",className:`${g(F.loadingPlaceholder)} loader`},`loading-2--${T*2}`))]})]}),e.jsxs("button",{"data-testid":"icn-dwnld-n-sav",type:"button",disabled:!d.url,className:g(F.saveBtn,F.btnPosition),onClick:ds,children:[e.jsx("span",{className:g(A.mr1),children:e.jsx(Ss,{size:"19"})}),"Download & save",N&&e.jsx(me,{size:20,clr:"#fff",className:A.ml2})]})]}),e.jsx(ge,{open:n.parent==="Unsplash",children:e.jsxs("div",{children:[e.jsx("div",{className:g(A.mt2,A.flxc,{flxp:1,jc:"center"}),children:pe.map((l,T)=>e.jsx("button",{"data-testid":"icn-pck-btn",title:l.title,onClick:()=>us(T,l.id,l.status),type:"button",className:`${g(F.chip,A.mr2)} ${l.status&&g(F.active)}`,children:l.title},l.title))}),e.jsxs(we,{ref:K,style:{minHeight:350},onScroll:Ee,children:[_&&e.jsxs("div",{title:"Loading...",children:[e.jsx("div",{className:g(A.mt2)}),Array(26).fill(1).map((l,T)=>e.jsx("div",{title:"Loading...",className:`${g(F.loadingPlaceholder)} loader`},`loderfnt-${T*2}`))]}),e.jsx("div",{className:g(A.mt2,F.imgWrp),children:Oe.map(l=>e.jsx("button",{type:"button",title:`(${l.description})`,className:`${g(F.imageBtn)} ${l.urls.regular===d.url&&g(F.activeImg)}`,onClick:()=>fs(l),children:e.jsx("img",{src:`${l.urls.thumb}`,onError:Be,alt:l.id,className:g(F.imgH)})},`(${l.id})`))}),V&&e.jsxs("div",{title:"Loading...",children:[e.jsx("div",{className:g(A.mt2)}),Array(26).fill(1).map((l,T)=>e.jsx("div",{title:"Loading...",className:`${g(F.loadingPlaceholder)} loader`},`loderfnt--${T*2}`))]})]}),e.jsxs("button",{"data-testid":"icn-dwnld-n-sav",type:"button",disabled:!d.url,className:g(F.saveBtn,F.btnPosition),onClick:Ae,children:[e.jsx("span",{className:g(A.mr1,{dy:"flex"}),children:e.jsx(zs,{size:"20"})}),"Save",N&&e.jsx(me,{size:20,clr:"#fff",className:A.ml2})]})]})}),e.jsx(ge,{open:n.parent===G,children:e.jsxs("button",{type:"button",className:g(F.upBtn),onClick:is,children:[e.jsx(ks,{w:"35"})," ","Browse"]})}),e.jsxs(ge,{open:n.parent==="Downloaded Icons",children:[_&&e.jsx("div",{className:g({h:300}),children:e.jsx("div",{title:"Loading...",className:g({flxp:"wrap",jc:"center",flx:1}),children:Array(22).fill(1).map((l,T)=>e.jsx("div",{title:"Loading...",className:`${g(F.loadingPlaceholder)} loader`},`loading-3-${T*2}`))})}),!_&&e.jsx(we,{ref:K,style:{minHeight:"300px"},children:e.jsx("div",{className:g(A.flxc,A.mt4,F.icon),children:!!f.length&&f.map((l,T)=>e.jsxs("div",{className:`${g(A.flxc,A.mt2,F.downloadedBtnWrapper)}`,"data-file":l,style:{display:"inline-block"},children:[e.jsx("button",{"data-testid":`dwnlodd-inc-del-btn-${T}`,type:"button",className:`${g(F.delBtn)} trash`,title:"Delete",onClick:()=>{ie(!0),E(l)},children:e.jsx(Xe,{size:10})}),e.jsx("button",{"data-testid":`dwnlodd-inc-prv-btn-${T}`,onClick:()=>Ve(l.id,`${bits.iconURL}/${l}`),type:"button",title:l.name,className:`${g(F.icnBtn)} ${`${bits.iconURL}/${l}`===d.url&&g(F.active)}`,children:e.jsx("img",{src:`${bits.iconURL}/${l}`,alt:`icon-${l}`,width:"40",height:"30"})},`download-icn-${T+Math.random()*5}`)]},`download-icn-${T*2}`))})}),e.jsx("button",{"data-testid":"icn-sav-btn",type:"button",disabled:!d.url,className:g(We.btn,F.saveBtn),onClick:Ae,children:"Save"})]}),e.jsx($s,{title:"Warning",action:()=>os(C),show:re,body:"Are you sure you want to delete this icon? This icon will not be available in the forms where it has been used.",btnTxt:"Okay",close:()=>ie(!1)})]})}const F={scrollBar:{scrollBehavior:"auto !important","& *":{scrollBehavior:"auto !important"}},loadingPlaceholder:{w:40,h:40,brs:8,lh:2,my:3,mx:5,dy:"inline-block"},downloadedBtnWrapper:{pn:"relative",dy:"inline-block","&:hover > .trash":{flx:"align-center"}},delBtn:{pn:"absolute",bd:"#ffa1a1",b:"none",brs:20,h:20,dy:"none",w:20,curp:1,rt:-3,tp:-3,":hover":{bd:"#ff7d7d"}},icon:{dy:"inline-block"},chip:{bd:"var(--b-100-48-1)",b:"none",brs:50,p:"6px 16px",cr:"var(--b-37-18)",m:"0px 7px 6px 0px",curp:1,tn:"background .3s",":hover":{bd:"var(--b-90)"}},active:{bd:"var(--b-50) !important",cr:"var(--white-100) !important"},activeIcn:{fr:"invert(100%) sepia(0%) saturate(6403%) hue-rotate(223deg) brightness(126%) contrast(109%)"},icnBtn:{p:"4px",mnw:45,h:45,dy:"inline-grid",placeContent:"center",bd:"transparent",b:"none",brs:8,curp:1,":hover":{bd:"var(--white-0-95)"}},img:{h:25},imgH:{brs:8,h:200},searchBar:{pn:"relative",zx:99},btnColor:{cr:"var(--b-50)"},fields_search:{pn:"relative",ml:7,mr:5,tn:"width .2s",w:"100%"},upBtn:{b:"1px solid var(--b-38-89)",w:"80%",bd:"var(--b-36-96)",fs:20,mx:"auto",h:100,flx:"center",fd:"column",brs:20,mt:10,cr:"var(--b-54-31)",curp:1,":hover":{bd:"var(--b-50-95)"},":focus-visible":{focusShadow:1}},search_icn:{pn:"absolute",tp:"50%",mx:9,lt:0,tm:"translateY(-50%)",cr:"var(--white-0-75)",curp:1,"& svg":{dy:"block"}},search_field:{w:"100%",fw:500,fs:"14px !important",oe:"none",b:"1px solid var(--white-0-75) !important",brs:"20px !important",pl:"35px !important",pr:"5px !important",pb:"5px !important",pt:"5px !important",":focus":{bs:"0px 0px 0px 1.5px var(--b-50) !important",bcr:"var(--b-92-62) !important",pr:"0px !important","& ~ .shortcut":{dy:"none"},"& ~ span svg":{cr:"var(--b-50)"}},"::placeholder":{fs:12},"::-webkit-search-cancel-button":{appearance:"none",w:14,h:14,mr:10,bd:"var(--white-0-83)",curp:1,backgroundPosition:"54% 50% !important",bi:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 24 24' fill='none' stroke='Black' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='18' y1='6' x2='6' y2='18'%3E%3C/line%3E%3Cline x1='6' y1='6' x2='18' y2='18'%3E%3C/line%3E%3C/svg%3E")`,brs:20}},saveBtn:{b:"none",bd:"var(--b-50)",brs:8,fw:500,p:"5px 10px",cr:"var(--white-100)",flxc:1,flx:"center",mt:5,ml:"auto",mr:5,curp:1,tn:"background .3s",":hover:not(:disabled)":{bd:"var(--b-36)"},":disabled":{bd:"var(--b-13-88)",cr:"var(--b-16-35)",cur:"not-allowed"}},imageBtn:{p:0,mxh:200,dy:"block",bd:"none",b:"none",m:5,brs:8,curp:1,":hover":{oe:"4px solid var(--blue)"}},imgWrp:{dy:"flex",flxp:"wrap",jc:"center",w:"100%"},activeImg:{oe:"4px solid var(--blue)"}},ia=({value:s,optIndx:a,type:c,option:t,setOption:r,lblKey:b,valKey:x,setScrolIndex:u,optKey:v,checkByDefault:w,showUpload:P=!1,hideNDisabledOptions:i})=>{var z,G,W,M,re,ie;const{css:n}=ue(),[o,f]=L.useState(!1),j="type"in s&&s.type.includes("group")&&s.type.includes("start"),_="type"in s&&s.type.includes("group")&&s.type.includes("end"),p=()=>{if(j||_)return!1;for(let C=a-1;C>=0;C-=1){const E=t[C];if("type"in E&&E.type.includes("end"))return!1;if("type"in E&&E.type.includes("start"))return!0}return!1},N=()=>{const C=le(t,E=>{const g=Y(v);E.splice(a+1,0,{id:g,[b]:`Option ${g}`})});r(C),u(a+1)},S=(C,E,g)=>{const Q=le(t,K=>{K[E][g]=C.target.value});r(Q),u(a)},d=(C,E)=>{const g=le(t,Q=>{if(t[C][E]){delete Q[C][E];return}Q[C][E]=!0});r(g),u(a)},$=C=>{const E=le(t,g=>{g[a].groupLbl=C.target.value});r(E),u(a)},y=C=>{if(j)return h();const E=[...t];E.splice(C,1),r(E),u(a-1)},h=()=>{const C=[...t];let E=0;for(let g=a;g<C.length;g+=1){if("type"in C[g]&&C[g].type.includes("end")){E+=1;break}E+=1}C.splice(a,E),r(C),u(a-1)},B=()=>{if(j)return m();const C=[...t],E={[b]:`Copy of ${s[b]}`,[x]:s[x]?`Copy of ${s[x]}`:"",id:Y(v)};C.splice(a+1,0,E),r(C),u(a+1)},m=()=>{const C=[...t],E=[te(k({},C[a]),{id:Y(v),groupLbl:`Copy of ${C[a].groupLbl}`})];for(let g=a+1;g<C.length;g+=1){if("type"in C[g]&&C[g].type.includes("end")){E.push(te(k({},C[g]),{id:Y(v)}));break}const Q={id:Y(v),[b]:`Copy of ${C[g][b]}`,[x]:C[g][x]?`Copy of ${s[x]}`:""};E.push(Q)}C.splice(a+E.length,0,...E),r(C),u(a+E.length*2-1)};function I(C,E){const g=de([...t]);C.target.checked?g[E].req=!0:delete g[E].req,r(g),u(a)}function J(C,E){const g=de([...t]);C.target.checked?g[E].disabled=!0:delete g[E].disabled,r(g),u(a)}function V(C,E){const g=de([...t]);if(c==="radio"){const Q=g.find(K=>K.check);Q&&delete Q.check}C.target.checked?g[E].check=!0:delete g[E].check,r(g),u(a)}return e.jsxs("div",{"data-testid":`sortable-itm-wrp-${a}`,className:n(U.container,(((z=t[a])==null?void 0:z.disabled)||((G=t[a])==null?void 0:G.hide))&&U.disabled,j?U.groupStart:"",p()?U.groupChild:"",_?U.groupend:""),children:[!_&&e.jsxs("div",{className:n(U.inputContainer),children:[e.jsx("div",{className:"flx",children:e.jsx(Is,{className:n(U.drag)})}),j&&e.jsxs("div",{children:[e.jsx("span",{className:n(A.flxc,A.ml2,A.mr2,U.groupTitle),children:"Group Title"}),e.jsx("input",{type:"text",className:n(U.groupTitleInput),onChange:$,value:s.groupLbl})]}),_&&e.jsx("span",{className:n(A.flxc,A.ml2),style:{height:40},children:`Group ${s.type.split("-")[1]} End`}),!("type"in s)&&e.jsxs(e.Fragment,{children:[P&&e.jsxs("div",{className:n(A.flxc,A.ml2),children:[e.jsx("img",{className:n(U.img),src:(s==null?void 0:s.img)||"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'/>",alt:s==null?void 0:s.img}),e.jsx("button",{className:n(A.m10,U.imgAddBtn),type:"button",onClick:()=>f(!0),children:e.jsx(Cs,{size:"20"})})]}),e.jsx("input",{type:"text",value:s[b],onChange:C=>S(C,a,b),width:140,className:n(U.input)}),e.jsx("input",{type:"text",value:s[x],onChange:C=>S(C,a,x),placeholder:`${s[b]}`,width:140,className:n(U.input)})]}),e.jsx("div",{className:`${n(A.flxc)}`,children:e.jsxs(Se,{interactive:!1,children:[!j&&w&&e.jsx(ne,{msg:"Check by Default",children:e.jsx(oe,{className:n({se:35,mx:7.5}),checked:s.check!==void 0,onChange:C=>V(C,a)})}),c==="check"&&e.jsx(ne,{msg:"Required",children:e.jsx(oe,{checked:s.req!==void 0,className:n({se:35,mx:7.5}),onChange:C=>I(C,a)})}),(c==="check"||c==="radio")&&e.jsx(ne,{msg:"Disabled",children:e.jsx(oe,{checked:s.disabled!==void 0,className:n({se:35,mx:7.5}),onChange:C=>J(C,a)})})]})}),e.jsx("div",{className:`${n(U.action)} acc ${j&&"group-acc"} ${s.req&&"active"}`,children:e.jsxs("div",{className:`${n(A.dyn)} btnIcn`,children:[!i&&e.jsxs(Se,{interactive:!1,children:[e.jsx(ne,{whiteSpaceNowrap:!0,className:n({dy:"inline-block"}),msg:`Add Option ${j?"in Group":""}`,children:e.jsx("button",{"data-testid":`srtble-itm-add-optn-grp-${a}`,type:"button",onClick:()=>N(),className:n(U.btn,A.flxc),children:e.jsx("span",{className:n(U.addbtnside),children:e.jsx(Xe,{size:"12",stroke:"4"})})})}),e.jsx(ne,{msg:`Clone ${j?"Group":"Option"}`,children:e.jsx("button",{"data-testid":`srtble-itm-add-optn-cln-grp-${a}`,type:"button",onClick:()=>B(),className:n(U.btn),children:e.jsx(_s,{size:"18",stroke:"2.5"})})}),e.jsx(ne,{msg:`Delete ${j?"Group":"Option"}`,children:e.jsx("button",{"data-testid":`srtble-itm-add-optn-dlt-grp-${a}`,type:"button",onClick:()=>y(a),className:n(U.btn),children:e.jsx(Ts,{size:"18",stroke:"2"})})})]}),i&&e.jsxs(Se,{interactive:!1,children:[e.jsx(ne,{whiteSpaceNowrap:!0,className:n({dy:"inline-block"}),msg:`Option ${(W=t[a])!=null&&W.hide?"Hide":"Show"}`,children:e.jsx("button",{"data-testid":`srtble-itm-add-optn-grp-${a}`,type:"button",onClick:()=>d(a,"hide"),className:n(U.btn,A.flxc),children:(M=t[a])!=null&&M.hide?e.jsx(Ls,{size:"18"}):e.jsx(Us,{size:"18"})})}),e.jsx(ne,{msg:`Field ${(re=t[a])!=null&&re.disabled?"Enabled":"Disabled"}`,children:e.jsx("button",{"data-testid":`srtble-itm-add-optn-dlt-grp-${a}`,type:"button",onClick:()=>d(a,"disabled"),className:n(U.btn),children:(ie=t[a])!=null&&ie.disabled?e.jsx(ca,{size:"20"}):e.jsx(Rs,{size:"15"})})})]})]})})]}),e.jsx(Ps,{md:!0,autoHeight:!0,show:o,setModal:()=>f(!1),className:"o-v ",title:X("Icons"),children:e.jsx(ra,{setModal:f,setOption:r,option:t,optIndx:a,unsplash:!0})})]})};function Me({optKey:s,options:a,option:c,setOption:t,type:r,lblKey:b,valKey:x,checkByDefault:u,hasGroup:v,showUpload:w,hideNDisabledOptions:P}){const{css:i}=ue(),[n,o]=L.useState(0);L.useEffect(()=>{t(ke(a,s))},[a]);const f=()=>{const p=[...c],N=Y(s),S=p.push({id:N,[b]:`Option ${N}`});o(S-1),t(p)},j=()=>{const p=[...c],N=p.filter($=>{var y,h;return(h=(y=$==null?void 0:$.type)==null?void 0:y.includes)==null?void 0:h.call(y,"start")})||[],S=Y(s),d=p.push({id:Y(s),groupLbl:`Group ${N.length+1}`,type:`group-${N.length+1}-start`},{id:S,[b]:`Option ${S}`},{id:Y(s),type:`group-${N.length+1}-end`});t(p),o(d-1)},_=({oldIndex:p,newIndex:N})=>{const S=c[p],d=Ge(c,p,N);if("type"in S){const[,$,y]=S.type.split("-");if(y==="end"){let h=0;for(let B=N-1;B>=0;B-=1)if("type"in d[B]&&d[B].type.includes("start")){if(d[B].type===`group-${$}-start`){h=1;break}if(d[B].type!==`group-${$}-start`)return}if(!h)return}else if(y==="start"){let h=0;for(let B=N+1;B<d.length;B+=1)if("type"in d[B]&&d[B].type.includes("end")){if(d[B].type===`group-${$}-end`){h=1;break}if(d[B].type!==`group-${$}-end`)return}if(!h)return}}t($=>Ge($,p,N)),o(N)};return e.jsxs(e.Fragment,{children:[e.jsxs(Vs,{onSortEnd:_,useDragHandle:!0,children:[e.jsxs("div",{className:i(U.labelWapper),children:[e.jsx("span",{className:i(U.propLabel),children:"Label"}),e.jsx("span",{className:i(U.propLabel,{ml:10}),children:"Value"}),e.jsxs("div",{className:i({flxi:"align-center",ml:5}),children:[u&&e.jsx("span",{className:i(U.checkLabel),children:"Check"}),r==="check"&&e.jsx("span",{className:i(U.checkLabel),children:"Require"}),(r==="check"||r==="radio")&&e.jsx("span",{className:i(U.checkLabel),children:"Disable"})]})]}),e.jsx("div",{className:i(U.scroll),children:c.map((p,N)=>e.jsx(Fs,{index:N,children:e.jsx(ia,{optIndx:N,value:c[N],type:r,option:c,setOption:t,lblKey:b,valKey:x,setScrolIndex:o,optKey:s,checkByDefault:u,showUpload:w,hideNDisabledOptions:P})},`sortable-${c[N].id}`))})]}),e.jsxs("div",{className:`flx ${i({ml:11,mt:7})}`,children:[e.jsxs(ze,{size:"sm",dataTestId:"add-mor-opt-btn",id:"add-more",className:i(U.add_btn),onClick:()=>f(),gap:"3px",children:[X("Add More"),e.jsx(De,{size:"18",stroke:"2"})]}),v&&e.jsxs(ze,{size:"sm",dataTestId:"add-mor-grp-btn",id:"add-grp",className:i(U.add_btn),onClick:j,gap:"3px",children:[X("Add Group"),e.jsx(De,{size:"18",stroke:"2"})]})]})]})}const U={labelWapper:{p:"5px 30px 0px",fs:14,fw:500},propLabel:{dy:"inline-block",ta:"center",w:200},checkLabel:{dy:"inline-block",ta:"center",w:50,ow:"hidden",to:"ellipsis"},disabled:{bd:"hsla(0, 11%, 93%, 100%)"},list:{width:"100%",height:300},container:{flx:"",":hover .acc":{flx:"align-center"},":hover .acc > div":{flx:"align-center"},":hover .acc.group-acc":{flx:"",ai:"flex-end",pb:0}},groupStart:{pt:7,pb:5,bc:"var(--white-0-93)"},groupChild:{pl:25,bc:"var(--white-0-93)"},groupend:{h:20,bc:"var(--white-0-93)"},groupTitle:{fs:10},inputContainer:{flx:"",mnw:560},img:{w:25,h:17,brs:3,bd:"hsla(0, 0%, 0%, 5%)",b:"1px solid rgba(0, 0, 0, 0.05)"},imgAddBtn:{se:25,flx:"center",b:"none",p:3,mr:1,tn:".2s all",curp:1,brs:"50%",bd:"none",":hover":{bd:"var(--b-20-93)",cr:"var(--blue)"}},groupTitleInput:{bc:"transparent !important",b:"0px !important",oe:0,mt:5,":hover":{bc:"var(--white-0-0-12) !important"},":focus":{b:"1px solid #ddd",bc:"var(--white-0-0-12) !important",bs:"none !important"}},input:{p:5,m:5,b:"1px solid rgb(215 215 215)",brs:"8px !important",fs:12,w:200,oe:"none",":focus":{bcr:"var(--blue)",bs:"0 0 0 1px var(--blue)"}},label:{w:175,dy:"inline-block"},btn:{flx:"center",brs:7,curp:1,b:"none",p:0,bd:"none",ml:5,se:35,":hover":{bd:"var(--b-97)",cr:"var(--blue)"}},addbtnside:{dy:"inline-block",tm:"rotate(45deg)"},add_btn:{ml:19,p:5},drag:{cr:"var(--white-0-13)",dy:"inline-block",w:25,h:25,p:5,cur:"move",":hover":{cr:"var(--white-0-0-12)"}},List:{b:"1px solid #d9dddd"},ListItemOdd:{flx:"jc"},ListItemEven:{bc:"#f8f8f0"},action:{pn:"relative",flx:"center","&.active":{flx:"align-center"},"&:hover":{flx:"align-center","& .btnIcn":{flx:"center"}}},actionWrp:{flx:"center"},scroll:{mxh:300,owy:"scroll"}};function Ca({optionMdl:s,options:a,setOptions:c,type:t,lblKey:r,valKey:b,imgKey:x,checkByDefault:u=!0,hasGroup:v,showUpload:w=!1,onlyVisualOptionsTab:P=!1,hideNDisabledOptions:i=!1}){const n=L.useRef(1),{css:o}=ue(),[f,j]=L.useState("Visual"),[_,p]=L.useState(""),[N,S]=L.useState(()=>ke(a,n)||[]),[d,$]=L.useState(()=>Ye(ke(a,n),r,b,x));L.useEffect(()=>{if(_||!s){const h=_||f;h==="Visual"&&c($e(N,r)),h==="Text"&&c($e(Ds(d,n,r,b),r)),p("")}},[_,s]);const y=h=>{j(B=>(p(B),h))};return e.jsx("div",{className:o(da.wrapper),children:P?e.jsx(Me,{optKey:n,options:a,option:N,setOption:S,type:t,lblKey:r,valKey:b,checkByDefault:u,hasGroup:v,showUpload:w,hideNDisabledOptions:i}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{options:[{label:"Visual"},{label:"Text"},{label:"Import"}],onChange:h=>y(h),defaultActive:f,wideTab:!0}),f==="Visual"&&e.jsx(Me,{optKey:n,options:a,option:N,setOption:S,type:t,lblKey:r,valKey:b,checkByDefault:u,hasGroup:v,showUpload:w,hideNDisabledOptions:i}),f==="Text"&&e.jsx(la,{options:a,optionTxt:d,setOptionTxt:$,lblKey:r,valKey:b,imgKey:x,isPro:!0}),f==="Import"&&e.jsx(na,{setOptions:c,lblKey:r,valKey:b,setEditOptionType:j,isPro:!0})]})})}const da={wrapper:{scrollBehavior:"auto !important",mt:10,"& *":{scrollBehavior:"auto !important"}}};export{Ca as E};
