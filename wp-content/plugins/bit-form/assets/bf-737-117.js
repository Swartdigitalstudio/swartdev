var I=Object.defineProperty;var j=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var T=(i,l,o)=>l in i?I(i,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[l]=o,r=(i,l)=>{for(var o in l||(l={}))k.call(l,o)&&T(i,o,l[o]);if(j)for(var o of j(l))L.call(l,o)&&T(i,o,l[o]);return i};import{e as M,r as F,a as O,t as R,_ as a,j as e,N as f,O as S,E as z,w as H,i as P,v as B,b as V,bK as G,q as E,ae as q,l as K,c as U,h as y,d as Y,u as J,R as Q,x as u,aA as w,aB as C,aG as W}from"./main-398.js";import{L as X}from"./bf-576-168.js";import{S as Z}from"./bf-550-169.js";import{B as _}from"./bf-500-108.js";import{F as N}from"./bf-471-81.js";import"./bf-354-65.js";import"./bf-491-73.js";import"./bf-193-126.js";import"./bf-13-114.js";import"./bf-529-76.js";import"./bf-864-103.js";function ee({formID:i}){const[l,o]=M(q),[t,m]=F.useState({show:!1}),{css:x}=O(),{pathname:d}=R(),$=s=>{const c=K(l,n=>{n.splice(s+1,0,{title:n[s].title,sub:n[s].sub,body:n[s].body}),n.push({updateTem:1})});o(c)},v=(s,c)=>{if(c.original.id){const n=U({formID:i,id:c.original.id},"bitforms_delete_mailtemplate").then(b=>{if(b!==void 0&&b.success){const h=y(l);h.splice(s,1),o(h)}});Y.promise(n,{loading:"Deleting",success:"Successfully Deleted",error:"Error Occurred"})}else{const n=y(l);n.splice(s,1),o(n)}},p=()=>{t.show=!1,m(r({},t))},g=(s,c)=>{t.btnTxt=a("Delete"),t.body=a("Are you sure to delete this template"),t.btnClass="",t.action=()=>{v(s,c),p()},t.show=!0,m(r({},t))},A=s=>{t.btnTxt=a("Duplicate"),t.body=a("Are you sure to duplicate this template?"),t.btnClass="blue",t.action=()=>{$(s),p()},t.show=!0,m(r({},t))},D=[{Header:a("Template Name"),accessor:"title",Cell:s=>e.jsx(f,{to:`${d}/${s.row.index}`,children:e.jsx("b",{children:s.cell.value})})},{Header:a("Action"),accessor:"action",Cell:s=>e.jsxs(e.Fragment,{children:[e.jsx(_,{onClick:()=>A(s.row.index),className:"icn-btn mr-2 tooltip pos-rel",style:{"--tooltip-txt":`'${a("Duplicate")}'`},children:e.jsx(S,{size:"22"})}),e.jsx(f,{to:`${d}/${s.row.index}`,className:"icn-btn mr-2 flx flx-center tooltip pos-rel",style:{"--tooltip-txt":`'${a("Edit")}'`},children:e.jsx(z,{size:"22"})}),e.jsx(_,{onClick:()=>g(s.row.index,s.row),className:"icn-btn tooltip pos-rel",style:{"--tooltip-txt":`'${a("Delete")}'`},children:e.jsx(H,{size:"21"})})]})}];return e.jsxs("div",{className:"w-7",children:[e.jsx(P,{show:t.show,close:p,btnTxt:t.btnTxt,btnClass:t.btnClass,body:t.body,action:t.action}),e.jsx("h2",{children:a("Email Templates")}),e.jsxs("h5",{children:["How to setup Email Templates & Send Email Notification:  ",e.jsx("a",{href:"https://youtu.be/HpMUF5EO-Gg",target:"_blank",rel:"noreferrer",style:{color:"red"},children:"YouTube"})]}),e.jsxs("div",{className:"",children:[e.jsxs(B,{to:`${d}/new`,className:`${x(V.btn)} blue`,children:[e.jsx(X,{size:"20"})," ",a("Add New Template")]}),l.length>0?e.jsx(G,{height:"60vh",className:"btcd-neu-table mr-1",columns:D,data:l}):e.jsxs("div",{className:x(E.btcdEmpty,E.txCenter),children:[e.jsx(Z,{size:"50"}),a("Empty")]})]})]})}const te=w(()=>C(()=>import("./bf-589-166.js"),["./bf-589-166.js","./main-398.js","./main-398.css","./bf-354-65.js","./bf-491-73.js","./bf-5-382.css","./bf-487-381.css","./bf-404-116.js","./bf-887-104.js","./bf-264-388.css"],import.meta.url),{fallback:e.jsx(N,{})}),se=w(()=>C(()=>import("./bf-804-167.js"),["./bf-804-167.js","./main-398.js","./main-398.css","./bf-354-65.js","./bf-491-73.js","./bf-5-382.css","./bf-487-381.css","./bf-404-116.js","./bf-887-104.js","./bf-264-388.css"],import.meta.url),{fallback:e.jsx(N,{})});function be(){const i=J(W);return e.jsxs(Q,{children:[e.jsx(u,{index:!0,element:e.jsx(ee,{formID:i})}),e.jsx(u,{path:"/new",element:e.jsx(te,{})}),e.jsx(u,{path:"/:id",element:e.jsx(se,{})})]})}export{be as default};
