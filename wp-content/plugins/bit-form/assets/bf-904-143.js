import{o as X,e as w,h as Y,r as h,a as Z,u as ee,_ as d,j as e,M as te,I as se,l as r,aM as x,cB as ne,cA as le,cC as ae,a3 as ie,ak as oe,ao as ce,bT as de,cz as re}from"./main-398.js";import{F as o,A as ue}from"./bf-612-139.js";import{b as be}from"./bf-233-100.js";import{F as pe}from"./bf-315-292.js";import{F as me,c as xe,b,e as P,H as fe,d as he,I as ge}from"./bf-417-87.js";import{S as g}from"./bf-760-79.js";import"./bf-782-101.js";import"./bf-491-73.js";import"./bf-235-102.js";/* empty css          */import"./bf-827-74.js";import"./bf-314-99.js";import"./bf-940-163.js";import"./bf-887-104.js";import"./bf-404-116.js";import"./bf-20-138.js";import"./bf-354-65.js";import"./bf-864-103.js";function Ee(){const{fieldKey:t}=X(),[c,p]=w(ie),n=Y(c[t]),[v,j]=h.useState({}),[M,y]=h.useState(!1),[R,E]=h.useState(""),{txt:H,align:W,txtAlign:z,fulW:K,btnTyp:T}=n,[L,O]=h.useState(W),{css:i}=Z(),[D,f]=w(oe),V=ee(ce),$=[{name:d("Left"),value:"start"},{name:d("Center"),value:"center"},{name:d("Right"),value:"end"}],S=[{name:"Reset",value:"reset",disabled:!1},{name:"Button",value:"button",disabled:!1}];se&&S.push({name:"Save Draft",value:"save-draft",disabled:!1});function q(s){n.txt=s.target.value;const l=r(c,a=>{a[t]=n});p(l),x({event:`Button text updated : ${n.txt}`,type:"change_btn_txt",state:{fields:l,fldKey:t}})}function G(s){const{value:l}=s.target;if(n.btnTyp=l,n.btnTyp==="submit"&&F()){j({btnTyp:d("Already have a submit button")}),setTimeout(()=>{j({btnTyp:""})},3e3);return}v.btnTyp&&j({btnTyp:""});let a="var(--btn-bg)",u="var(--btn-c)",N="var(--btn-bdr-clr)",_="var(--btn-bdr)",C="var(--btn-bdr-width)";l==="reset"&&(a="hsla(240, 12%, 94%, 100)",u="hsla(208, 46%, 25%, 100)"),l==="save-default"&&(a="hsla(0, 0%, 100%, 100)",u="var(--btn-bgc)",N="var(--btn-bgc)",_="solid",C="1px"),f(I=>r(I,m=>{m.fields[t].classes[`.${t}-btn`].background=a,m.fields[t].classes[`.${t}-btn`].color=u,l!=="save-draft"&&(m.fields[t].classes[`.${t}-btn`]["border-color"]=N,m.fields[t].classes[`.${t}-btn`]["border-style"]=_,m.fields[t].classes[`.${t}-btn`]["border-width"]=C,m.fields[t].classes[`.${t}-btn:hover`].color="var(--btn-c)")}));const k=r(c,I=>{I[t]=n});p(k),x({event:`Button Type updated to ${l}: ${n.txt}`,type:"set_btn_typ",state:{fields:k,fldKey:t}})}function J(s){const{value:l}=s.target;f(a=>r(a,u=>{u.fields[t].classes[`.${t}-inp-fld-wrp`]["justify-content"]=l})),n.align=l,p(r(c,a=>{a[t]=n})),O(l),x({event:`Button Alignment changed to ${l}: ${n.txt}`,type:"set_btn_align",state:{fields:c,fldKey:t}})}function Q(s){const{value:l}=s.target;f(a=>r(a,u=>{u.fields[t].classes[`.${t}-btn`]["justify-content"]=l})),n.txtAlign=l,p(r(c,a=>{a[t]=n})),x({event:`Button Text Alignment changed to ${l}: ${n.txt}`,type:"set_btn_text_align",state:{fields:c,fldKey:t}})}const F=()=>Object.values(c).filter(l=>l.typ==="button"&&l.btnTyp==="submit").length>=1;(!F()||T==="submit")&&S.push({name:"Submit",value:"submit",disabled:!0});function U(s){f(a=>r(a,u=>{u.fields[t].classes[`.${t}-btn`].width=s.target.checked?"100%":"auto"})),n.fulW=s.target.checked;const l=r(c,a=>{a[t]=n});p(l),x({event:`Button Full width ${s.target.checked?"on":"off"}`,type:"set_btn_full",state:{fields:l,fldKey:t}})}const B=s=>{ne(D,t,de[s])||le(V,s),ae(s,t),E(s),y(!0)},A=s=>{if(n[s]){delete n[s];const l=r(c,a=>{a[t]=n});p(l),x({event:`${re[s]} Icon Deleted`,type:`delete_${s}`,state:{fldKey:t,fields:l}})}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"",children:[e.jsx(me,{title:"Field Settings",subtitle:n.typ,fieldKey:t}),e.jsx(xe,{}),e.jsx(b,{}),e.jsxs(g,{id:"btn-txt-stng",title:d("Button Text"),className:i(o.fieldSection),open:!0,children:[e.jsx("div",{className:i(o.placeholder),children:e.jsx(ue,{id:"btn-txt","aria-label":"Button text",placeholder:"Type text here...",value:H,changeAction:q})}),e.jsx(P,{label:"Leading Icon",iconSrc:n==null?void 0:n.btnPreIcn,styleRoute:"btn-pre-i",setIcon:()=>B("btnPreIcn"),removeIcon:()=>A("btnPreIcn"),isPro:!0}),e.jsx(P,{label:"Trailing Icon",iconSrc:n==null?void 0:n.btnSufIcn,styleRoute:"btn-suf-i",setIcon:()=>B("btnSufIcn"),removeIcon:()=>A("btnSufIcn"),isPro:!0})]}),e.jsx(b,{}),e.jsx(fe,{}),e.jsx(b,{}),e.jsx(pe,{}),e.jsx(b,{}),e.jsx(g,{id:"btn-algn",title:d("Button Align"),className:i(o.fieldSection),open:!0,children:e.jsx("div",{className:i(o.placeholder),children:e.jsx("select",{"data-testid":"btn-algn-slct",className:i(o.input),name:"",id:"",value:L,onChange:J,children:$.map(s=>e.jsx("option",{value:s.value,children:s.name},`btcd-k-${s.name}`))})})}),e.jsx(b,{}),e.jsx(g,{id:"txt-algn",title:d("Text Align"),className:i(o.fieldSection),open:!0,children:e.jsx("div",{className:i(o.placeholder),children:e.jsx("select",{"data-testid":"txt-algn-slct",className:i(o.input),name:"",id:"",value:z||"center",onChange:Q,children:$.map(s=>e.jsx("option",{value:s.value,children:s.name},`btcd-k-${s.name}`))})})}),e.jsx(b,{}),e.jsxs(g,{id:"btn-typ",title:d("Button Type"),className:i(o.fieldSection),open:!0,children:[e.jsx("div",{className:i(o.placeholder),children:e.jsx("select",{"data-testid":"btn-typ-slct",className:i(o.input),name:"",id:"",value:T,onChange:G,children:S.map(s=>e.jsx("option",{value:s.value,children:s.name},`btcd-k-${s.name}`))})}),v.btnTyp&&e.jsx("span",{className:i({cr:"red",ml:10}),children:v.btnTyp})]}),e.jsx(b,{}),e.jsx("div",{className:i(o.fieldSection,{pr:"36px"}),children:e.jsx(be,{id:"ful-wid-btn",tip:"By disabling this option, the button full width will be remove",title:d("Full Width"),action:U,isChecked:K||""})}),e.jsx(b,{}),e.jsx(he,{})]}),e.jsxs(te,{md:!0,autoHeight:!0,show:M,setModal:y,className:"o-v",title:d("Icons"),children:[e.jsx("div",{className:"pos-rel"}),e.jsx(ge,{iconType:R,addPaddingOnSelect:!1,setModal:y})]})]})}export{Ee as default};
