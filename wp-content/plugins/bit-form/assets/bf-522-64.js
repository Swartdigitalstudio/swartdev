var Pe=Object.defineProperty,Ae=Object.defineProperties;var Fe=Object.getOwnPropertyDescriptors;var ge=Object.getOwnPropertySymbols;var De=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;var fe=(t,c,h)=>c in t?Pe(t,c,{enumerable:!0,configurable:!0,writable:!0,value:h}):t[c]=h,_=(t,c)=>{for(var h in c||(c={}))De.call(c,h)&&fe(t,h,c[h]);if(ge)for(var h of ge(c))Re.call(c,h)&&fe(t,h,c[h]);return t},te=(t,c)=>Ae(t,Fe(c));import{r as g,u as ee,a as D,j as e,I,_ as s,S as O,C as Q,b as U,L,$ as W,c as A,d as Y,e as V,f as ze,g as Le,h as Z,T as z,i as ke,k as $e,l as G,m as Me,n as ve,o as Ee,p as Se,B as le,q as Ue,s as Ce,t as Te,M as Ke,v as Oe,E as qe,w as Ge,R as Ie,x as F,y as Ne,N as K}from"./main-398.js";import{u as q}from"./bf-418-67.js";import{T as ne,a as re,b as B,c as H}from"./bf-511-68.js";import{P as Ve}from"./bf-756-69.js";import{s as Be,a as T}from"./bf-273-70.js";import{C as P}from"./bf-288-71.js";import{P as He}from"./bf-138-72.js";import{T as ye}from"./bf-491-73.js";import{C as We,S as Ye}from"./bf-827-74.js";import{G as Xe}from"./bf-664-75.js";import{M as Je,P as Qe}from"./bf-529-76.js";import{R as Ze}from"./bf-354-77.js";import{p as es,f as ae}from"./bf-312-78.js";const ss=()=>{if(!I)return;const t=new Uint32Array(4);return window.crypto.getRandomValues(t),(performance.now().toString(36)+Array.from(t).map(c=>c.toString(36)).join("")).replace(/\./g,"")};function ts(){const[t,c]=g.useState(""),h=ee(W),{siteURL:N}=h,[m,f]=g.useState({show:!1}),[p,l]=g.useState(!1),{css:i}=D(),{mutate:b}=q("bitforms_api_key",{},{fetchCondition:I,onSuccess:w=>c(w)}),v=()=>{if(!I)return;l(!0);const w=A({api_key:t},"bitforms_api_key").then(a=>(l(!1),a!=null&&a.success?(c(a.data),b(a.data),s("API key saved successfully")):(a==null?void 0:a.data)||s("Error Occured")));Y.promise(w,{success:a=>a,failed:a=>a,loading:s("Saving API key...")})},j=()=>{c(ss())};return e.jsx("div",{className:"btcd-captcha w-5",children:e.jsxs("div",{className:"pos-rel",children:[!I&&e.jsx("div",{className:"pro-blur flx",style:{height:"135%",left:-12,width:"104%",marginTop:10},children:e.jsx("div",{className:"pro",children:e.jsx("a",{href:"https://www.bitapps.pro/bit-form",target:"_blank",rel:"noreferrer",children:e.jsx("span",{className:"txt-pro",children:s("Available On Pro")})})})}),e.jsx(O,{snack:m,setSnackbar:f}),e.jsx("h2",{children:s("API Integration")}),e.jsx("div",{className:"btcd-hr"}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"captcha-key",children:[s("Domain URL"),e.jsx(Q,{value:N,name:"domainURL",setSnackbar:f,className:"field-key-cpy w-12 ml-0",readOnly:!0})]})}),e.jsx("div",{className:"mt-3",children:e.jsxs("label",{htmlFor:"captcha-key",children:[s("API Key"),e.jsx(Q,{value:t,name:"siteKey",setSnackbar:f,className:"field-key-cpy w-12 ml-0",readOnly:!0}),e.jsx("span",{className:"btcd-link",role:"button",tabIndex:"-1",onClick:j,onKeyDown:j,children:s("Generate new API key")})]})}),e.jsxs("button",{type:"button",onClick:w=>v(),className:`${i(U.btn)} btn-md f-right blue`,disabled:p,children:[s("Save"),p&&e.jsx(L,{size:20,clr:"#fff",className:"ml-2"})]})]})})}function as(){const[t,c]=V(ze),[h,N]=V(Le),m=ee(W),[f,p]=g.useState({show:!1}),[l,i]=g.useState(!1),{css:b}=D(),v=a=>{i(!0),A({version:a,reCaptcha:a==="v2"?t:h},"bitforms_save_grecaptcha").then(n=>{n!==void 0&&n.success&&(n.data&&n.data.id&&(a==="v2"?c(te(_({},t),{id:n.data.id})):a==="v3"&&N(te(_({},h),{id:n.data.id}))),p({show:!0,msg:s("Captcha Settings Updated")})),i(!1)}).catch(n=>i(!1))},j=(a,y)=>{if(y==="v2"){const n=Z(t);n[a.target.name]=a.target.value,c(n)}else if(y==="v3"){const n=Z(h);n[a.target.name]=a.target.value,N(n)}},w=m.siteURL.replace(/(^\w+:|^)\/\//,"");return e.jsxs("div",{className:"btcd-captcha",children:[e.jsx(O,{snack:f,setSnackbar:p}),e.jsxs(ne,{selectedTabClassName:"s-t-l-active",children:[e.jsx(re,{className:"flx m-0 mt-2",children:["v3","v2"].map(a=>e.jsx(B,{className:"btcd-s-tab-link",children:e.jsx("b",{children:s(`reCaptcha ${a}`)})},`cp-${a}`))}),e.jsx("div",{className:"btcd-hr"}),["v3","v2"].map(a=>e.jsxs(H,{children:[e.jsx("h2",{children:s(`Google reCAPTCHA ${a}`)}),e.jsxs("small",{children:[s("reCAPTCHA is a free service that protects your website from spam and abuse."),e.jsxs("a",{className:"btcd-link",href:`https://developers.google.com/recaptcha/docs/${a==="v3"?"v3":"display"}`,target:"_blank",rel:"noopener noreferrer",children:[" ",s("Learn More")]})]}),e.jsx("br",{}),e.jsx("div",{className:"mt-3",children:s("Domain URL:")}),e.jsx(Q,{value:w,className:"field-key-cpy ml-0"}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"captcha-key",children:[s("Site Key"),e.jsx("input",{id:"captcha-key",onChange:y=>j(y,a),name:"siteKey",className:"btcd-paper-inp mt-1",value:(a==="v3"?h:t).siteKey,placeholder:"Site Key",type:"text"})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"captcha-secret",children:[s("Secret Key"),e.jsx("input",{id:"captcha-secret",onChange:y=>j(y,a),name:"secretKey",className:"btcd-paper-inp mt-1",value:(a==="v3"?h:t).secretKey,placeholder:"Secret Key",type:"text"})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("p",{children:[s("To get Site Key and SECRET , Please Visit")," ",e.jsx("a",{className:"btcd-link",href:"https://www.google.com/recaptcha/admin/",target:"_blank",rel:"noreferrer",children:s("Google reCAPTCHA Admin")})]})}),e.jsxs("button",{onClick:()=>v(a),type:"button",className:`${b(U.btn)} btn-md f-right blue`,disabled:l,children:[s("Save"),l&&e.jsx(L,{size:20,clr:"#fff",className:"ml-2"})]})]},a))]})]})}function ls({settab:t,types:c}){const[h,N]=g.useState({show:!1}),{css:m}=D(),[f,p]=g.useState({public:1,public_queryable:1,show_in_rest:1,show_in_menu:1,show_ui:1}),[l,i]=g.useState(!1),b=g.useRef(null),v=a=>{if(a.preventDefault(),!I)return;const y=new FormData(b.current);i(!0),A(y,"bitforms_add_post_type").then(n=>{n!==void 0&&n.success&&(N({show:!0,msg:s("CPT added successfully, refresh your window")}),document.getElementById("form").reset()),i(!1)})},j=(a,y)=>{const n=_({},f);a.target.checked&&y==="check"?n[a.target.name]=1:n[a.target.name]=0,y==="text"&&(n[a.target.name]=a.target.value),p(n)},w=a=>{c.find(n=>n===a)&&(document.getElementById("slug").value="",alert("Slug already exists"))};return e.jsxs(e.Fragment,{children:[e.jsx(O,{snack:h,setSnackbar:N}),e.jsxs("form",{method:"POST",id:"form",onSubmit:v,ref:b,onKeyDown:a=>{a.key==="Enter"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()},children:[e.jsx("div",{className:"mt-3",children:e.jsxs("label",{htmlFor:"slug",children:[e.jsx("b",{children:s("Post Type Slug *")}),e.jsx("input",{id:"slug",name:"slug",onChange:a=>w(a.target.value),className:"btcd-paper-inp mt-1",placeholder:"(e.g. slug)",type:"text",required:!0})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"singular_label",children:[e.jsx("b",{children:s("Singular Label *")}),e.jsx("input",{id:"singular_label",name:"singular_label",className:"btcd-paper-inp mt-1",placeholder:"(e.g. Video)",type:"text",required:!0})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"menu_name",children:[e.jsx("b",{children:s("Menu Name *")}),e.jsx("input",{id:"menu_name",name:"menu_name",className:"btcd-paper-inp mt-1",placeholder:"(e.g. My Videos)",type:"text",required:!0})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"menu_icon",children:[e.jsx("b",{children:s("Menu Icon ")}),e.jsx("input",{id:"menu_icon",name:"menu_icon",className:"btcd-paper-inp mt-1",style:{marginBottom:6},placeholder:"(e.g. dashicons-admin-site-alt)",type:"text"}),e.jsxs("small",{className:"mt-1",children:[e.jsxs("a",{className:"btcd-link",target:"blank",href:"https://developer.wordpress.org/resource/dashicons/#admin-site-alt",children:["Dashicon class name"," "]}),"to use for icon."]})]})}),e.jsxs("div",{className:"d-flx flx-wrp",children:[e.jsx(z,{onChange:a=>j(a,"check"),checked:!!f.public,className:"wdt-200 mt-4 mr-2",name:"public",value:f.public,title:e.jsx("b",{children:s("Public")}),subTitle:s("This type should be shown in the admin UI and is publicly queryable")}),e.jsx(z,{onChange:a=>j(a,"check"),checked:!!f.public_queryable,className:"wdt-200 mt-4 mr-2",value:f.public_queryable,name:"public_queryable",style:{marginLeft:60},title:e.jsx("b",{children:s("Publicly Queryable")}),subTitle:s("Queries can be performed on the front end as part of parse_request()")}),e.jsx(z,{onChange:a=>j(a,"check"),checked:!!f.show_in_rest,className:"wdt-200 mt-4 mr-2",value:f.show_in_rest,name:"show_in_rest",title:e.jsx("b",{children:s("Show in REST API")}),subTitle:s("To show this post type data in the WP REST API")}),e.jsx(z,{onChange:a=>j(a,"check"),checked:!!f.show_in_menu,className:"wdt-200 mt-4 mr-2",value:f.show_in_menu,name:"show_in_menu",style:{marginLeft:60},title:e.jsx("b",{children:s("Show in Menu")}),subTitle:s("This show the post type in the admin menu and where to show that menu.")}),e.jsx(z,{onChange:a=>j(a,"check"),checked:!!f.show_ui,name:"show_ui",className:"wdt-200 mt-4 mr-2 ",value:f.show_ui,title:e.jsx("b",{children:s("Show UI")}),subTitle:s("Whether or not to generate a default UI for managing this post type")})]}),e.jsxs("button",{type:"submit",className:`${m(U.btn)} btcd-btn-lg blue flx`,disabled:l,children:[s("Add Post Type"),l&&e.jsx(L,{size:20,clr:"#fff",className:"ml-2"})]})]})]})}function ns({slug:t,snack:c,setsnack:h,posts:N}){const[m,f]=g.useState({show:!1}),{css:p}=D(),[l,i]=g.useState(!1),b=()=>{m.show=!1,f(_({},m))},v=w=>{m.show=!0,f(_({},m))},j=w=>{const a=N.filter(y=>y.name!==t);w.preventDefault(),i(!0),b(),w.preventDefault(),A({postData:a},"bitforms_delete_post_type").then(y=>{y!==void 0&&y.success&&h({show:!0,msg:s("Delete successfully, refresh your window")}),i(!1)})};return e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:w=>v(),className:`${p(U.btn)} f-left btcd-btn-lg blue sh-sm flx ml-4`,disabled:l,children:[s("Delete Post Type"),l&&e.jsx(L,{size:20,clr:"#fff",className:"ml-2"})]}),e.jsxs(ke,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"red",btnTxt:"Ok",show:m.show,close:b,action:j,title:s("Confirmation"),children:[e.jsx("div",{className:"txt-center mt-5 mb-4",children:s("Are you sure to delete post type?")}),l&&e.jsx($e,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}})]})]})}function rs({posts:t,types:c}){const[h,N]=g.useState(!1),[m,f]=g.useState(""),[p,l]=g.useState(!1),[i,b]=g.useState({}),[v,j]=g.useState({show:!1}),w=g.useRef(null),{css:a}=D(),y=o=>{f(o);const x=t==null?void 0:t.find(u=>u.name===o);N(!0),b(x)},n=o=>{o.preventDefault();const x=new FormData(w.current);l(!0),o.preventDefault(),A(x,"bitforms_update_post_type").then(u=>{u!==void 0&&u.success&&j({show:!0,msg:s("cpt type update successfully, refresh your window")}),l(!1)})},r=(o,x)=>{const u=_({},i);o.target.checked&&x==="check"?u[o.target.name]=1:u[o.target.name]=0,x==="text"&&(u[o.target.name]=o.target.value),b(u)};return e.jsxs("div",{children:[e.jsx(O,{snack:v,setSnackbar:j}),e.jsxs("form",{method:"POST",onSubmit:n,ref:w,onKeyDown:o=>{o.key==="Enter"&&o.target.tagName!=="TEXTAREA"&&o.preventDefault()},children:[e.jsx("div",{className:"mt-2",children:e.jsx("b",{children:s("Post Type")})}),e.jsxs("select",{name:"post_type",className:"btcd-paper-inp mt-1",onChange:o=>y(o.target.value),value:m,children:[e.jsx("option",{disabled:!0,value:"",children:s("Select Type *")}),Object.values(c).map((o,x)=>e.jsx("option",{value:o,children:o},`k${x*43}`))]}),h&&e.jsxs("div",{children:[e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"slug",children:[s("Post Type Slug *"),e.jsx("input",{id:"name",name:"name",className:"btcd-paper-inp mt-1",onChange:o=>r(o,"text"),placeholder:"",value:i==null?void 0:i.name,type:"text",readOnly:!0})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"singular_label",children:[s("Singular Label *"),e.jsx("input",{id:"singular_label",name:"singular_label",className:"btcd-paper-inp mt-1",onChange:o=>r(o,"text"),value:i==null?void 0:i.singular_label,placeholder:"(e.g. Video)",type:"text",required:!0})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"singular_label",children:[s("Menu Name *"),e.jsx("input",{id:"menu_name",name:"menu_name",onChange:o=>r(o,"text"),value:i==null?void 0:i.menu_name,className:"btcd-paper-inp mt-1",placeholder:"(e.g. My Videos)",type:"text",required:!0})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"singular_label",children:[s("Menu Icon *"),e.jsx("input",{id:"menu_icon",name:"menu_icon",onChange:o=>r(o,"text"),value:i==null?void 0:i.menu_icon,className:"btcd-paper-inp mt-1",placeholder:"",type:"text"}),e.jsxs("span",{className:"mt-1",children:[e.jsx("a",{target:"blank",href:"https://developer.wordpress.org/resource/dashicons/#admin-site-alt",children:"Dashicon class name "})," ","to use for icon."]})]})}),e.jsxs("div",{className:"d-flx flx-wrp",children:[e.jsx(z,{onChange:o=>r(o,"check"),checked:(i==null?void 0:i.public)===1,className:"wdt-200 mt-4 mr-2",name:"public",value:i==null?void 0:i.public,title:s("public"),subTitle:s("Posts of this type should be shown in the admin UI and is publicly queryable")}),e.jsx(z,{onChange:o=>r(o,"check"),checked:(i==null?void 0:i.public_queryable)===1,className:"wdt-200 mt-4 mr-2",value:i==null?void 0:i.public_queryable,name:"public_queryable",style:{marginLeft:60},title:s("Publicly Queryable"),subTitle:s("Queries can be performed on the front end as part of parse_request()")})]}),e.jsxs("div",{className:"d-flx flx-wrp",children:[e.jsx(z,{onChange:o=>r(o,"check"),checked:(i==null?void 0:i.show_in_rest)===1,className:"wdt-200 mt-4 mr-2",value:i==null?void 0:i.show_in_rest,name:"show_in_rest",title:s("Show in REST API"),subTitle:s("To show this post type data in the WP REST API")}),e.jsx(z,{onChange:o=>r(o,"check"),checked:(i==null?void 0:i.show_in_menu)===1,className:"wdt-200 mt-4 mr-2",value:i==null?void 0:i.show_in_menu,name:"show_in_menu",style:{marginLeft:60},title:s("Show in Menu"),subTitle:s("This show the post type in the admin menu and where to show that menu")})]}),e.jsx("div",{className:"d-flx flx-wrp",children:e.jsx(z,{onChange:o=>r(o,"check"),checked:(i==null?void 0:i.show_ui)===1,name:"show_ui",className:"wdt-200 mt-4 mr-2 ",value:i==null?void 0:i.show_ui,title:s("Show UI"),subTitle:s("Generate a default UI for managing this post type")})}),e.jsxs("div",{className:"d-flx flx-wrp",children:[e.jsxs("button",{type:"submit",className:`${a(U.btn)} f-left btcd-btn-lg blue sh-sm flx`,disabled:p,children:[s("Update Post Type"),p&&e.jsx(L,{size:20,clr:"#fff",className:"ml-2"})]}),"  ",e.jsx(ns,{slug:m,stack:v,setsnack:j,posts:t})]})]})]})]})}function is(){const[t,c]=g.useState([]),[h,N]=g.useState([]);return q("bitforms_getAll_post_type",{},{fetchCondition:I,onSuccess:m=>{c(m.all_cpt),N(m.types)}}),e.jsx("div",{className:"p-2 w-6",children:e.jsxs("div",{className:"pos-rel",children:[!I&&e.jsx(Ve,{}),e.jsxs(ne,{selectedTabClassName:"s-t-l-active",children:[e.jsxs(re,{className:"flx mt-0",children:[e.jsx(B,{className:"btcd-s-tab-link pb-2",children:e.jsx("b",{children:s("Add New Post Type")})}),e.jsx(B,{className:"btcd-s-tab-link pb-2",children:e.jsx("b",{children:s("Edit Post Types")})})]}),e.jsx(H,{children:e.jsx(ls,{types:h})}),e.jsx(H,{children:e.jsx(rs,{posts:t,types:h})})]})]})})}function cs(){const t=ee(W),[c,h]=g.useState({name:"Gclid",type:"Google",clientId:"",clientSecret:"",clientCustomerId:""}),[N,m]=g.useState({show:!1}),[f,p]=g.useState(!1),[l,i]=g.useState({clientId:"",clientSecret:"",clientCustomerId:""}),[b,v]=g.useState(!1),{css:j}=D();q("bitform_google_adword_config",{},{fetchCondition:I,onSuccess:r=>{var o;return((o=r==null?void 0:r[0])==null?void 0:o.integration_details)&&h(JSON.parse(r[0].integration_details))}}),g.useEffect(()=>{window.opener&&Be("gclid")},[]);const w=()=>{if(!I)return!1;if(!c.clientId){i({clientId:c.clientId?"":s("Client ID cann't be empty")});return}if(!c.clientSecret){i({clientSecret:c.clientSecret?"":s("Secret key cann't be empty")});return}if(!c.clientCustomerId){i({clientCustomerId:c.clientCustomerId?"":s("Customer ID key cann't be empty")});return}p(!0);const r=`https://accounts.google.com/o/oauth2/v2/auth?scope=${encodeURIComponent("https://www.googleapis.com/auth/adwords")}&access_type=offline&prompt=consent&response_type=code&state=${encodeURIComponent(window.location.href)}/redirect&redirect_uri=${encodeURIComponent(t.googleRedirectURL)}&client_id=${c.clientId}`,o=window.open(r,"","width=400,height=609,toolbar=off"),x=setInterval(()=>{if(o.closed){clearInterval(x);let u={},C=!1;const k=localStorage.getItem("__bitforms_gclid");if(k&&(C=!0,u=JSON.parse(k),localStorage.removeItem("__bitforms_gclid")),!u.code||u.error||!u||!C){const $=u.error?`Cause: ${u.error}`:"";m({show:!0,msg:`${s("Authorization failed")} ${$}. ${s("please try again")}`}),p(!1)}else{const $=G(c,X=>{X.accountServer=u["accounts-server"]});a("google",u,$,h)}}},500)},a=(r,o,x,u)=>{const C=_({},o);C.clientId=x.clientId,C.clientSecret=x.clientSecret,C.clientCustomerId=x.clientCustomerId,C.redirectURI=`${encodeURIComponent(t.googleRedirectURL)}`,A(C,`bitforms_${r}_generate_token`).then(k=>k).then(k=>{if(k&&k.success){const $=_({},x);$.tokenDetails=k.data,u($),v(!0),m({show:!0,msg:s("Authorized Successfully")})}else k&&k.data&&k.data.data||!k.success&&typeof k.data=="string"?m({show:!0,msg:`${s("Authorization failed Cause:")}${k.data.data||k.data}. ${s("please try again")}`}):m({show:!0,msg:s("Authorization failed. please try again")});p(!1)})},y=()=>{A(c,"bitforms_save_google_refresh_token").then(r=>r).then(r=>{r&&r.success?m({show:!0,msg:s("save Successfully")}):r&&r.data&&r.data.data||!r.success&&typeof r.data=="string"?m({show:!0,msg:`${s("save failed Cause:")}${r.data.data||r.data}. ${s("please try again")}`}):m({show:!0,msg:s("save failed. please try again")}),p(!1)})},n=(r,o)=>{const x=_({},c);x[r]=o,h(x)};return e.jsx("div",{className:"btcd-captcha w-5",children:e.jsxs("div",{className:"pos-rel",children:[!I&&e.jsx("div",{className:"pro-blur flx",style:{height:"110%",left:-15,width:"104%",top:-3},children:e.jsx("div",{className:"pro",children:e.jsx("a",{href:"https://www.bitapps.pro/bit-form",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",s("Available On Pro")]})})})}),e.jsx(O,{snack:N,setSnackbar:m}),e.jsx("h2",{children:s("Google Ads")}),e.jsx("br",{}),e.jsx("div",{className:"btcd-hr"}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("label",{htmlFor:"client_id",children:[e.jsx("b",{children:s("Client ID")}),e.jsx("input",{id:"clientId",name:"clientId",onChange:r=>n(r.target.name,r.target.value),value:c.clientId,className:"btcd-paper-inp mt-1",placeholder:"Client ID",type:"text"})]}),e.jsx("div",{style:{color:"red"},children:l.clientId})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("label",{htmlFor:"client_secret",children:[e.jsx("b",{children:s("Client Secret")}),e.jsx("input",{id:"clientSecret",name:"clientSecret",onChange:r=>n(r.target.name,r.target.value),value:c.clientSecret,className:"btcd-paper-inp mt-1",placeholder:"Client Secret",type:"text"})]}),e.jsx("div",{style:{color:"red"},children:l.clientSecret})]}),e.jsx("div",{className:"mt-3",children:e.jsx("b",{children:s("Authorized Redirect URIs:")})}),e.jsx(Q,{value:`${t.googleRedirectURL}`,className:"field-key-cpy w-12 ml-0"}),e.jsx("div",{className:"mt-2",children:e.jsxs("small",{className:"d-blk mt-2",children:[s("To get Client ID and SECRET , Please Visit Google API Console")," ",e.jsx("a",{className:"btcd-link",href:"https://console.developers.google.com/apis/credentials",target:"_blank",rel:"noreferrer",children:s("Google API Console")})]})}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("label",{htmlFor:"clientCustomerId",children:[e.jsx("b",{children:s("Customer Id (non manager account)")}),e.jsx("input",{id:"clientCustomerId",name:"clientCustomerId",onChange:r=>n(r.target.name,r.target.value),value:c.clientCustomerId,className:"btcd-paper-inp mt-1",placeholder:"client Customer Id",type:"text"})]}),e.jsx("div",{style:{color:"red"},children:l.clientCustomerId})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("small",{className:"d-blk mt-2",children:[s("To get Customer ID , Please Visit")," ",e.jsx("a",{className:"btcd-link",href:"https://ads.google.com/home/tools/manager-accounts/",target:"_blank",rel:"noreferrer",children:s("Google Ads Manager Account")})]})}),e.jsxs("button",{onClick:w,className:`${j(U.btn)} btcd-btn-lg green sh-sm flx`,type:"button",disabled:b,children:[b?s("Authorized ✔"):s("Authorize"),f&&e.jsx(L,{size:20,clr:"#022217",className:"ml-2"})]}),e.jsx("br",{}),b&&e.jsx("button",{onClick:r=>y(),className:`${j(U.btn)} f-right btcd-btn-lg blue sh-sm flx`,type:"button",disabled:!b,children:"Save"})]})})}function we({size:t}){return e.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor"}),e.jsx("path",{d:"M11.746.254C5.265.254 0 5.519 0 12c0 6.481 5.265 11.746 11.746 11.746 6.482 0 11.746-5.265 11.746-11.746 0-1.44-.26-2.82-.734-4.097l-.264-.709-1.118 1.118.1.288c.373 1.064.575 2.207.575 3.4a10.297 10.297 0 0 1-10.305 10.305A10.297 10.297 0 0 1 1.441 12 10.297 10.297 0 0 1 11.746 1.695c1.817 0 3.52.47 5.002 1.293l.32.178 1.054-1.053-.553-.316A11.699 11.699 0 0 0 11.746.254zM22.97.841 9.05 14.761 5.328 11.04l-1.031 1.03 4.752 4.753L24 1.872z"})]})}function os(){const t={cache_plugin:!1,delete_table:!1},[c,h]=g.useState(t),{mutate:N}=q("bitforms_get_generel_settings",{},{onSuccess:l=>h(l)}),m=l=>{const i=_({},c),b=A({config:i},"bitforms_save_generel_settings").then(v=>{if("success"in v&&v.success)return N(i),"Save successfully done";delete i[l],h(_({},i))}).catch(()=>"Failed to save");Y.promise(b,{success:v=>v,failed:v=>v,loading:s("Saving Generel Settings...")})},f=Me.useAsyncDebounce(m,500),p=({target:{name:l,checked:i}})=>{const b=_({},c);i?b[l]=!0:delete b[l],h(b),f(l)};return e.jsxs("div",{children:[e.jsx("h2",{children:s("Global Settings")}),e.jsx("div",{className:"w-8 mt-3",children:e.jsxs("div",{className:"flx flx-between sh-sm br-10 btcd-setting-opt",children:[e.jsxs("div",{className:"flx",children:[e.jsx("span",{className:"mr-2",children:e.jsx(we,{size:"16"})}),e.jsx("b",{children:s("Generate Token after page load to prevent conflict with cache plugins.")})]}),e.jsx(ve,{action:p,name:"cache_plugin",checked:(c==null?void 0:c.cache_plugin)||"",className:"flx"})]})}),e.jsx("div",{className:"w-8 mt-3",children:e.jsxs("div",{className:"flx flx-between sh-sm br-10 btcd-setting-opt",children:[e.jsxs("div",{className:"flx",children:[e.jsx("span",{className:"mr-2",children:e.jsx(we,{size:"16"})}),e.jsx("b",{children:s("Delete all data table when delete plugin.")})]}),e.jsx(ve,{action:p,name:"delete_table",checked:(c==null?void 0:c.delete_table)||"",className:"flx"})]})})]})}function ds({paySetting:t,handleInput:c}){return e.jsxs("div",{children:[e.jsx("h2",{children:s("Paypal Settings")}),e.jsx("div",{className:"btcd-hr"}),e.jsxs("div",{className:"flx mt-3",children:[e.jsx("b",{className:"wdt-200",children:s("Integration Name:")}),e.jsx("input",{type:"text",className:"btcd-paper-inp",placeholder:"Integration Name",value:t.name||"",name:"name",onChange:c})]}),e.jsxs("div",{className:"flx mt-3",children:[e.jsx("b",{className:"wdt-150 mr-2",children:s("Transaction Mode:")}),e.jsx(P,{radio:!0,name:"mode",onChange:c,checked:t.mode==="sandbox",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"Sandbox"})}),value:"sandbox"}),e.jsx(P,{radio:!0,name:"mode",onChange:c,checked:t.mode==="live",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"Live"})}),value:"live"})]}),e.jsxs("div",{className:"flx mt-3",children:[e.jsx("b",{className:"wdt-200",children:s("Client ID:")}),e.jsx("input",{type:"text",className:"btcd-paper-inp",placeholder:"Client ID",value:t.clientID||"",name:"clientID",onChange:c})]}),e.jsxs("div",{className:"flx mt-3",children:[e.jsx("b",{className:"wdt-200",children:s("Client Secret:")}),e.jsx("input",{type:"text",className:"btcd-paper-inp",placeholder:"Client Secret",value:t.clientSecret||"",name:"clientSecret",onChange:c})]}),e.jsx("div",{className:"flx",children:e.jsxs("small",{className:"d-blk mt-2",style:{marginLeft:170},children:[s("To get Client ID & Secret, Please Visit")," ",e.jsx("a",{className:"btcd-link",href:"https://developer.paypal.com/developer/applications/",target:"_blank",rel:"noreferrer",children:s("PayPal Developer Dashboard")})]})})]})}function ms({paySetting:t,handleInput:c}){return e.jsxs("div",{children:[e.jsx("h2",{children:s("Razorpay Settings")}),e.jsx("div",{className:"btcd-hr"}),e.jsxs("div",{className:"flx mt-3",children:[e.jsx("b",{className:"wdt-150",children:s("Integration Name:")}),e.jsx("input",{type:"text",className:"btcd-paper-inp",placeholder:"Integration Name",value:t.name,name:"name",onChange:c})]}),e.jsxs("div",{className:"flx mt-3",children:[e.jsx("b",{className:"wdt-150",children:s("API Key:")}),e.jsx("input",{type:"text",className:"btcd-paper-inp",placeholder:"API Key",value:t.apiKey,name:"apiKey",onChange:c})]}),e.jsxs("div",{className:"flx mt-3",children:[e.jsx("b",{className:"wdt-150",children:s("API Secret:")}),e.jsx("input",{type:"text",className:"btcd-paper-inp",placeholder:"API Secret",value:t.apiSecret,name:"apiSecret",onChange:c})]}),e.jsx("div",{className:"flx",children:e.jsxs("small",{className:"d-blk mt-5",style:{marginLeft:130},children:[s("To get API Key & Secret, Please Visit")," ",e.jsx("a",{className:"btcd-link",href:"https://dashboard.razorpay.com/app/keys",target:"_blank",rel:"noreferrer",children:s("Razorpay Dashboard")})]})})]})}function hs({paySetting:t,handleInput:c}){return e.jsxs("div",{children:[e.jsx("h2",{children:s("Stripe Settings")}),e.jsx("div",{className:"btcd-hr"}),e.jsxs("div",{className:"flx mt-3",children:[e.jsx("b",{className:"wdt-200",children:s("Integration Name:")}),e.jsx("input",{type:"text",className:"btcd-paper-inp",placeholder:"Integration Name",value:t.name||"",name:"name",onChange:c})]}),e.jsxs("div",{className:"flx mt-3",children:[e.jsx("b",{className:"wdt-200",children:s("Publishable key:")}),e.jsx("input",{type:"text",className:"btcd-paper-inp",placeholder:"Publishable key",value:t.publishableKey||"",name:"publishableKey",onChange:c})]}),e.jsxs("div",{className:"flx mt-3",children:[e.jsx("b",{className:"wdt-200",children:s("Secret Key:")}),e.jsx("input",{type:"text",className:"btcd-paper-inp",placeholder:"Secret Key",value:t.clientSecret||"",name:"clientSecret",onChange:c})]}),e.jsx("div",{className:"flx",children:e.jsxs("small",{className:"d-blk mt-2",style:{marginLeft:170},children:[s("To get Publishable key & Secret key, Please Visit")," ",e.jsx("a",{className:"btcd-link",href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noreferrer",children:s("Stripe Developer Dashboard")})]})})]})}function _e({allIntegURL:t}){const c=ee(W),{isPro:h}=c,[N,m]=V(Ce),{type:f,indx:p}=Ee(),l=Se(),[i,b]=g.useState(!1),[v,j]=g.useState({show:!1}),{css:w}=D(),[a,y]=g.useState(p&&(N!=null&&N[p])?_({},N[p]):{type:f,name:f});a.type!==f&&l(t);const n=x=>{const{name:u,value:C}=x.target,k=_({},a);k[u]=C,y(k)};console.log("paySetting",a);const r=()=>{let x=!1;const u=_({},a);switch(console.log("type",f),f){case"PayPal":(!u.name||!u.clientID||!u.clientSecret||!u.mode)&&(x=!0);break;case"Razorpay":(!u.apiKey||!u.apiSecret||!u.name)&&(x=!0);break;case"Stripe":(!u.name||!u.publishableKey||!u.clientSecret)&&(x=!0);default:console.log("not found");break}return x},o=()=>{const x=_({},a);if(r()){j({show:!0,msg:s("All fields are required")});return}b(!0),A({paySetting:a},"bitforms_save_payment_setting").then(u=>{if(u!==void 0&&u.success){u.data&&u.data.id&&(x.id=u.data.id),y(x);const C=Z(N);p?C[p]=x:C.push(x),m(C)}j({show:!0,msg:`${u.data.message}`}),b(!1),l("/app-settings/payments")})};return e.jsxs("div",{className:"pos-rel",children:[!h&&e.jsx("div",{className:"pro-blur flx",style:{top:-5,left:-10,height:"140%",width:"102%"},children:e.jsxs("div",{className:"pro",children:[s("Available On"),e.jsx("a",{href:"https://www.bitapps.pro/bit-form",target:"_blank",rel:"noreferrer",children:e.jsx("span",{className:"txt-pro",children:s("Premium")})})]})}),e.jsx(O,{snack:v,setSnackbar:j}),{PayPal:e.jsx(ds,{paySetting:a,setPaySetting:y,handleInput:n}),Razorpay:e.jsx(ms,{paySetting:a,setPaySetting:y,handleInput:n}),Stripe:e.jsx(hs,{paySetting:a,setPaySetting:y,handleInput:n})}[f],e.jsxs(le,{onClick:o,disabled:i,className:w(Ue.ftRight),shadow:!0,children:[s("Save"),i&&e.jsx(L,{size:20,clr:"#fff",className:"ml-2"})]})]})}var ps=""+new URL("bf-56-3.svg",import.meta.url).href,us=""+new URL("bf-667-4.svg",import.meta.url).href,xs=""+new URL("bf-896-5.svg",import.meta.url).href;function bs({setSnackbar:t}){const c=Se(),[h,N]=g.useState(!1),[m,f]=g.useState({show:!1}),{css:p}=D(),[l,i]=V(Ce),{pathname:b}=Te();console.log("payments",l);const v=[{type:"PayPal",logo:ps},{type:"Razorpay",logo:us},{type:"Stripe",logo:xs}],j=r=>{if(!I)return Y.error("This payment is only available in Bit Form Pro."),!1;N(!1),c(`${b}/${r}`)},w=r=>{for(let o=0;o<v.length;o+=1)if(v[o].type===r)return e.jsx("img",{src:v[o].logo,alt:r,className:p(T.integLogo)});return null},a=r=>{const o=_({},l[r]),x=Z(l);x.splice(r,1),i(x),A({formID:0,id:o.id},"bitforms_delete_integration").then(u=>{u&&u.success?t({show:!0,msg:`${u.data.message}`}):u&&u.data&&u.data.data?(x.splice(r,0,o),i([...x]),t({show:!0,msg:`${s("Integration deletion failed Cause")}:${u.data.data}. ${s("please try again")}`})):(x.splice(r,0,o),i([...x]),t({show:!0,msg:s("Integration deletion failed. please try again")}))})},y=()=>{m.show=!1,f(_({},m))},n=r=>{m.btnTxt=s("Delete"),m.body=s("Are you sure to delete this integration?"),m.btnClass="",m.action=()=>{a(r),y()},m.show=!0,f(_({},m))};return e.jsxs(e.Fragment,{children:[e.jsx(ke,{show:m.show,close:y,btnTxt:m.btnTxt,btnClass:m.btnClass,body:m.body,action:m.action}),e.jsx("h2",{children:s("Payment Settings")}),e.jsx("div",{className:"btcd-hr"}),e.jsxs("div",{className:`pos-rel ${p(T.integWrp)}`,children:[e.jsx(Ke,{title:s("Available Payments"),show:h,setModal:N,style:{width:700},children:e.jsx("div",{className:"flx flx-center flx-wrp pb-3",children:v.map((r,o)=>e.jsxs("div",{onClick:()=>I&&j(r.type),onKeyDown:()=>I&&j(r.type),role:"button",tabIndex:"0",className:`${p(T.thumb)} ${r.disable&&!I&&p(T.integCardDisabled)}`,children:[!I&&e.jsx("div",{className:p(T.thumbPro),children:e.jsxs("a",{className:p(T.thumbProTxt),href:"https://www.bitapps.pro/bit-form",target:"_blank",rel:"noreferrer",children:[s("Available on"),e.jsx("br",{}),s("Pro")]})}),e.jsx("img",{className:p(T.thumbImg),loading:"lazy",src:r.logo,alt:""}),e.jsx("div",{className:p(T.thumbTitle),children:r.type})]},`payment-${o+2}`))})}),e.jsx("div",{role:"button",className:p(T.itegCard),tabIndex:"0",onClick:()=>N(!0),onKeyDown:()=>N(!0),children:e.jsx("div",{className:p(T.integPlus),children:e.jsx(He,{size:80})})}),l==null?void 0:l.map((r,o)=>e.jsxs("div",{role:"button",className:p(T.itegCard),children:[w(r.type),e.jsxs("div",{className:"py-1",title:`${r.name} | ${r.type}`,children:[e.jsx("div",{className:p(T.integTitle),children:r.name}),e.jsx("small",{className:p(T.integSubtitle),children:r.type})]}),e.jsxs("div",{className:`${p(T.actionWrp)} action-wrp`,children:[e.jsx(ye,{msg:s("Edit"),children:e.jsx(Oe,{to:`${b}/${r.type}/${o}`,className:`${p(T.actionBtn)}`,type:"button",children:e.jsx(qe,{size:19})})}),e.jsx(ye,{msg:s("Delete"),children:e.jsx("button",{className:`${p(T.actionBtn)}`,onClick:()=>n(o),type:"button",children:e.jsx(Ge,{size:18})})})]})]},`pay-${o+3}`))]})]})}function js(){const t=Te(),[c,h]=g.useState({show:!1}),N=g.useRef(t.pathname).current;return e.jsxs("div",{className:"pb-6 w-7",children:[e.jsx(O,{snack:c,setSnackbar:h}),e.jsxs(Ie,{children:[e.jsx(F,{index:!0,element:e.jsx(bs,{setSnackbar:h})}),e.jsx(F,{path:":type",element:e.jsx(_e,{allIntegURL:N})}),e.jsx(F,{path:":type/:indx",element:e.jsx(_e,{allIntegURL:N})})]})]})}function gs({settab:t}){const[c,h]=g.useState(!1),{css:N}=D(),m=g.useRef(null),f=p=>{const l=new FormData(m.current);p.preventDefault(),h(!0);const i=A(l,"bitforms_test_email").then(b=>{var v,j,w,a;return h(!1),b!==void 0&&b.success?b.data?s("Email sent successfully."):s(`${(j=(v=b==null?void 0:b.data)==null?void 0:v.errors)==null?void 0:j[0]}`):s(`${(a=(w=b==null?void 0:b.data)==null?void 0:w.errors)==null?void 0:a[0]}`)});Y.promise(i,{success:b=>b,loading:s("Sending..."),error:b=>b})};return e.jsxs("div",{children:[e.jsx("h2",{children:s("Email Test")}),e.jsx("div",{children:e.jsxs("form",{method:"POST",onSubmit:f,ref:m,onKeyDown:p=>{p.key==="Enter"&&p.target.tagName!=="TEXTAREA"&&p.preventDefault()},children:[e.jsxs("div",{className:"mt-2 flx",children:[e.jsx("label",{htmlFor:"form_email_address",className:"mr-2 wdt-150",children:e.jsx("b",{children:s("To:")})}),e.jsx("input",{id:"form_email_address",name:"to",className:"btcd-paper-inp",placeholder:"Email",type:"email",required:!0})]}),e.jsxs("div",{className:"mt-2 flx",children:[e.jsx("label",{htmlFor:"subject",className:"mr-2 wdt-150",children:e.jsx("b",{children:s("Subject:")})}),e.jsx("input",{id:"subject",name:"subject",className:"btcd-paper-inp",placeholder:"Subject",type:"text",required:!0})]}),e.jsxs("div",{className:"mt-2 flx",children:[e.jsx("label",{htmlFor:"message",className:"mr-2 wdt-150",children:e.jsx("b",{children:s("Message:")})}),e.jsx("input",{id:"message",name:"message",className:"btcd-paper-inp",placeholder:"Message",type:"text",required:!0})]}),e.jsxs("button",{type:"submit",className:`${N(U.btn)} f-left btcd-btn-lg blue sh-sm flx`,disabled:c,children:[s("Send Test Mail"),c&&e.jsx(L,{size:20,clr:"#fff",className:"ml-2"})]})]})})]})}function fs({mail:t,setMail:c,status:h,smtpStatus:N}){const[m,f]=g.useState(!1),[p,l]=g.useState(!0),[i,b]=g.useState(!0),{css:v}=D();g.useEffect(()=>{l(Number(h)===1),b(Number(t.smtp_auth)===1)},[h,t.smtp_auth]);const j=g.useRef(null),w=n=>{const r=new FormData(j.current);n.preventDefault(),f(!0);const o=A(r,"bitforms_mail_config").then(x=>{x!==void 0&&x.success&&f(!1)});Y.promise(o,{success:s("SMTP config saved successfully."),loading:s("Saving..."),error:s("Something went wrong, Try again.")})},a=(n,r,o)=>{const x=_({},t);o?x[n]=Number(r):x[n]=r,n==="smtp_auth"&&r==="1"?b(!0):n==="smtp_auth"&&r==="0"&&b(!1),n==="encryption"&&r==="tls"?x.port="587":n==="encryption"&&r==="ssl"?x.port="465":n==="encryption"&&r==="none"&&(x.port="25"),c(x)},y=n=>{const r=Number(n.target.value);N(r),l(r===1)};return e.jsxs("form",{method:"POST",onSubmit:w,ref:j,onKeyDown:n=>{n.key==="Enter"&&n.target.tagName!=="TEXTAREA"&&n.preventDefault()},children:[e.jsx("small",{className:"d-blk mt-3",children:e.jsx("a",{className:"btcd-link",href:"https://docs.form.bitapps.pro/wpbitform-form-settings#smtp-configuration",target:"_blank",rel:"noreferrer",children:s("Learn more about SMTP configuration")})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"status",children:[e.jsx("b",{children:s("Enable SMTP")}),e.jsx(P,{radio:!0,name:"status",onChange:n=>y(n),checked:h===1,title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"Yes"})}),value:"1"}),e.jsx(P,{radio:!0,name:"status",onChange:n=>y(n),checked:h!==1,title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"No"})}),value:"0"})]})}),p&&e.jsxs("div",{children:[e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"form_email_address",children:[e.jsx("b",{children:s("From Email Address")}),e.jsx("input",{id:"form_email_address",onChange:n=>a(n.target.name,n.target.value),name:"form_email_address",className:"btcd-paper-inp mt-1",value:t.form_email_address,placeholder:"From Email Address",type:"email",required:!0})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"from_name",children:[e.jsx("b",{children:s("From Name")}),e.jsx("input",{id:"form_name",onChange:n=>a(n.target.name,n.target.value),value:t.form_name,name:"form_name",className:"btcd-paper-inp mt-1",placeholder:"From Name",type:"text",required:!0})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"re_email_address",children:[e.jsx("b",{children:s("Reply-To Email Address")}),e.jsx("input",{id:"re_email_address",onChange:n=>a(n.target.name,n.target.value),value:t.re_email_address,name:"re_email_address",className:"btcd-paper-inp mt-1",placeholder:"Reply-To Email Address",type:"email"})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"smtp_host",children:[e.jsx("b",{children:s("SMTP Host")}),e.jsx("input",{id:"smtp_host",value:t.smtp_host,onChange:n=>a(n.target.name,n.target.value),name:"smtp_host",className:"btcd-paper-inp mt-1",placeholder:"SMTP Host",type:"text",required:!0})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"encryption",children:[e.jsx("b",{children:s("Type of Encryption")}),e.jsx(P,{radio:!0,name:"encryption",id:"encryption",onChange:n=>a(n.target.name,n.target.value),checked:t.encryption==="none",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"NONE"})}),value:"none"}),e.jsx(P,{radio:!0,name:"encryption",id:"encryption",onChange:n=>a(n.target.name,n.target.value),checked:t.encryption==="tls",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"TLS"})}),value:"tls"}),e.jsx(P,{radio:!0,name:"encryption",id:"encryption",onChange:n=>a(n.target.name,n.target.value),checked:t.encryption==="ssl",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"SSL"})}),value:"ssl"})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"encryption",children:[e.jsx("b",{children:s("SMTP Port")}),e.jsx("input",{id:"port",value:t.port,onChange:n=>a(n.target.name,n.target.value),name:"port",className:"btcd-paper-inp mt-1",placeholder:"SMTP port",type:"number",required:!0})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"encryption",children:[e.jsx("b",{children:s("SMTP Authentication")}),e.jsx(P,{radio:!0,name:"smtp_auth",onChange:n=>a(n.target.name,n.target.value),checked:t.smtp_auth==="1",title:e.jsx("small",{className:"txt-dp",children:"Yes"}),value:"1"}),e.jsx(P,{radio:!0,name:"smtp_auth",onChange:n=>a(n.target.name,n.target.value),checked:t.smtp_auth!=="1",title:e.jsx("small",{className:"txt-dp",children:"No"}),value:"0"})]})}),i&&e.jsxs("div",{children:[e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"smtp_user_name",children:[e.jsx("b",{children:s("SMTP Username")}),e.jsx("input",{id:"smtp_user_name",value:t.smtp_user_name,onChange:n=>a(n.target.name,n.target.value),name:"smtp_user_name",className:"btcd-paper-inp mt-1",placeholder:" SMTP Username",type:"text",required:!0})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"smtp_password",children:[e.jsx("b",{children:s("SMTP Password")}),e.jsx("input",{id:"smtp_password",onChange:n=>a(n.target.name,n.target.value),value:t.smtp_password,name:"smtp_password",className:"btcd-paper-inp mt-1",placeholder:"SMTP Password",type:"password",required:!0})]})})]})]}),e.jsxs("button",{type:"submit",className:`${v(U.btn)} btcd-btn-lg blue flx`,disabled:m,children:[s("Save Changes"),m&&e.jsx(L,{size:20,clr:"#fff",className:"ml-2"})]})]})}function vs(){const[t,c]=g.useState({}),[h,N]=g.useState("");return q("bitforms_get_mail_config",{},{onSuccess:m=>{c(JSON.parse(m[0].integration_details)),N(Number(m[0].status))}}),e.jsx("div",{className:"btcd-captcha w-5",style:{padding:10},children:e.jsx("div",{className:"pos-rel",children:e.jsxs(ne,{selectedTabClassName:"s-t-l-active",children:[e.jsxs(re,{className:"flx",children:[e.jsx(B,{className:"btcd-s-tab-link",children:e.jsx("b",{children:s("Configuration")})}),e.jsx(B,{className:"btcd-s-tab-link",children:e.jsx("b",{children:s("Mail Test")})})]}),e.jsx(H,{children:e.jsx(fs,{mail:t,setMail:c,status:h,smtpStatus:N})}),e.jsx(H,{children:e.jsx(gs,{})})]})})})}function Ns({size:t}){return e.jsx("svg",{viewBox:"0 0 368 368",height:t,width:t,children:e.jsx("path",{fill:"currentColor",stroke:"currentColor",d:"M88 128H56c-13 0-24 11-24 24v80a8 8 0 1016 0v-24h48v24a8 8 0 1016 0v-80c0-13-11-24-24-24zm8 64H48v-40c0-4 4-8 8-8h32c4 0 8 4 8 8v40zM192 128h-32c-4 0-8 4-8 8v96a8 8 0 1016 0v-24h24a40 40 0 000-80zm0 64h-24v-48h24a24 24 0 010 48zM328 224h-24v-80h24a8 8 0 100-16h-64a8 8 0 100 16h24v80h-24a8 8 0 100 16h64a8 8 0 100-16zM344 48H219l-29-30c-3-3-9-3-12 0l-29 30H24C11 48 0 59 0 72v24a8 8 0 1016 0V72c0-4 4-8 8-8h128l6-2 26-27 26 27 6 2h128c4 0 8 4 8 8v24a8 8 0 1016 0V72c0-13-11-24-24-24zM360 264c-4 0-8 4-8 8v24c0 4-4 8-8 8H216l-6 2-26 27-26-27-6-2H24c-4 0-8-4-8-8v-24a8 8 0 10-16 0v24c0 13 11 24 24 24h125l29 30a8 8 0 0012 0l29-30h125c13 0 24-11 24-24v-24c0-4-4-8-8-8z"})})}function ys({size:t,className:c}){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-dollar-sign",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}function ws(){var n,r,o,x,u,C,k,$,X,ie,ce,oe,de,me,he,pe,ue,xe,be;const[t,c]=V(W),{isPro:h}=t,[N,m]=g.useState({show:!1}),[f,p]=g.useState(!1),[l,i]=g.useState({paperSize:"a4",orientation:"p",font:{name:"DejaVuSansCondensed",fontFamily:"dejavusanscondensed"},fontSize:10,fontColor:"#000000",direction:"ltr",fontFamily:"aboriginalsansregular",pdfFileName:"bitform",watermark:{}}),{mutate:b}=q("bitforms_get_pdf_setting",{},{fetchCondition:I,onSuccess:d=>{if(d!=null&&d.integration_details){const S=JSON.parse(d.integration_details);S.id=d.id,i(S)}}}),{css:v}=D(),j=(d,S)=>{let M=S;i(E=>G(E,R=>{d==="font"&&(M=ae.find(se=>se.name===S)),Ne(R,d,M)}))},w=(d,S)=>{i(M=>G(M,E=>{d.target.checked?E.watermark.active=S:delete E.watermark.active}))},a=()=>{var M,E;if(!h)return;const d=ae.find(R=>R.name===l.font.name);l.fontFamily=d.fontFamily,((M=l.watermark)==null?void 0:M.active)==="txt"&&delete l.watermark.img,((E=l.watermark)==null?void 0:E.active)==="img"&&delete l.watermark.txt;const S=_({},l);p(!0),A({pdfSetting:l},"bitforms_save_pdf_setting").then(R=>{R!==void 0&&R.success&&(R.data&&R.data.id&&(S.id=R.data.id),c(je=>G(je,se=>{se.allFormSettings.pdf=S})),i(S),b(S)),m({show:!0,msg:`${R.data.message}`}),p(!1)})},y=()=>{if(typeof wp!="undefined"&&wp.media){const d=wp.media({title:"Media",button:{text:"Select picture"},library:{type:"image"},multiple:!1});d.on("select",()=>{const{url:S}=d.state().get("selection").first().toJSON(),M=G(l,E=>{Ne(E,"watermark->img->src",S)});i(M)}),d.open()}};return e.jsx("div",{className:"btcd-captcha w-5 mb-4",children:e.jsxs("div",{className:"pos-rel",children:[!h&&e.jsx("div",{className:"pro-blur flx",style:{height:"110%",left:-15,width:"104%",top:-3},children:e.jsx("div",{className:"pro",children:e.jsx("a",{href:"https://www.bitapps.pro/bit-form",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",s("Available On Pro")]})})})}),e.jsx(O,{snack:N,setSnackbar:m}),e.jsx("h2",{children:s("Global PDF Setting")}),e.jsx("p",{children:"This global settings will be set as default for your new PDF attachment for any form. You can customize for a specific PDF."}),e.jsx("div",{className:"btcd-hr"}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"paper_size",children:[e.jsx("b",{children:s("Paper Size")}),e.jsx("select",{id:"paper_size",name:"paperSize",onChange:d=>j(d.target.name,d.target.value),value:l.paperSize,className:"btcd-paper-inp mt-1",children:es.map((d,S)=>e.jsx("option",{value:d.value,children:d.label},`${S}-${d.val}`))})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"orientation",children:[e.jsx("b",{children:s("Orientation")}),e.jsxs("select",{id:"orientation",name:"orientation",onChange:d=>j(d.target.name,d.target.value),value:l.orientation,className:"btcd-paper-inp mt-1",children:[e.jsx("option",{value:"p",children:s("Portrait")}),e.jsx("option",{value:"l",children:s("Landscape")})]})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"font",children:[e.jsx("b",{children:s("Font Family")}),e.jsx("select",{id:"font",name:"font",onChange:d=>j(d.target.name,d.target.value),value:l.font.name,className:"btcd-paper-inp mt-1",children:ae.map((d,S)=>e.jsx("option",{value:d.name,children:d.name},`${S}-${d.name}`))})]})}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"fontSize",children:[e.jsx("b",{children:s("Font Size (Pixels)")}),e.jsx("input",{id:"fontSize",name:"fontSize",onChange:d=>j(d.target.name,d.target.value),value:l.fontSize,className:"btcd-paper-inp mt-1",placeholder:"Font Size",type:"number"})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"active",children:[e.jsx("b",{children:s("Watermark")}),e.jsx(P,{name:"active",onChange:d=>w(d,"txt"),checked:((n=l==null?void 0:l.watermark)==null?void 0:n.active)==="txt",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"Text"})})}),e.jsx(P,{name:"active",onChange:d=>w(d,"img"),checked:((r=l==null?void 0:l.watermark)==null?void 0:r.active)==="img",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"Image"})})})]})}),((o=l.watermark)==null?void 0:o.active)&&e.jsxs("div",{className:v(J.bdr),children:[l.watermark.active==="txt"&&e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"watermarkText",children:[e.jsx("b",{children:s("Watermark Text")}),e.jsx("input",{id:"watermarkText",name:"watermarkText",onChange:d=>j("watermark->txt",d.target.value),value:(x=l==null?void 0:l.watermark)==null?void 0:x.txt,className:"btcd-paper-inp mt-1",placeholder:"Watermark Text",type:"text"})]})}),l.watermark.active==="img"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"watermarkImg",className:v({flx:"align-center"}),children:[e.jsx("b",{children:s("Watermark Image")}),e.jsx(le,{className:"ml-2",onClick:y,children:"Upload"}),e.jsx("img",{className:v(J.img),src:(C=(u=l.watermark)==null?void 0:u.img)==null?void 0:C.src,alt:""})]})}),e.jsxs("div",{className:v(J.size),children:[e.jsxs("label",{htmlFor:"width",className:v({w:300}),children:[e.jsx("b",{children:s("Width")}),e.jsx("input",{id:"width",onChange:d=>j("watermark->img->width",d.target.value),value:($=(k=l==null?void 0:l.watermark)==null?void 0:k.img)==null?void 0:$.width,className:"btcd-paper-inp mt-1",placeholder:"Image width",type:"number"})]}),e.jsxs("label",{htmlFor:"height",className:v({w:300}),children:[e.jsx("b",{children:s("Height")}),e.jsx("input",{id:"height",onChange:d=>j("watermark->img->height",d.target.value),value:(ie=(X=l==null?void 0:l.watermark)==null?void 0:X.img)==null?void 0:ie.height,className:"btcd-paper-inp mt-1",placeholder:"Image height",type:"number"})]})]}),e.jsxs("div",{className:v(J.size),children:[e.jsxs("label",{htmlFor:"posX",className:v({w:300}),children:[e.jsx("b",{children:s("Position X (Units in millimeters)")}),e.jsx("input",{id:"posX",onChange:d=>j("watermark->img->posX",d.target.value),value:(oe=(ce=l==null?void 0:l.watermark)==null?void 0:ce.img)==null?void 0:oe.posX,className:"btcd-paper-inp mt-1",placeholder:"Position x",type:"number"})]}),e.jsxs("label",{htmlFor:"posY",className:v({w:300}),children:[e.jsx("b",{children:s("Position Y (Units in millimeters)")}),e.jsx("input",{id:"posY",onChange:d=>j("watermark->img->posY",d.target.value),value:(me=(de=l==null?void 0:l.watermark)==null?void 0:de.img)==null?void 0:me.posY,className:"btcd-paper-inp mt-1",placeholder:"Position Y",type:"number"})]})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"imgBehind",children:[e.jsx("b",{children:s("Show watermark behind the page content")}),e.jsx(P,{radio:!0,name:"imgBehind",onChange:d=>j("watermark->img->imgBehind",d.target.value),checked:((pe=(he=l==null?void 0:l.watermark)==null?void 0:he.img)==null?void 0:pe.imgBehind)==="true",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"Yes"})}),value:"true"}),e.jsx(P,{radio:!0,name:"imgBehind",onChange:d=>j("watermark->img->imgBehind",d.target.value),checked:((xe=(ue=l==null?void 0:l.watermark)==null?void 0:ue.img)==null?void 0:xe.imgBehind)==="false",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"No"})}),value:"false"})]})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"opacity",children:[e.jsx("b",{children:s("Opacity (0-100)")}),e.jsx("input",{id:"opacity",name:"alpha",onChange:d=>j("watermark->alpha",d.target.value),value:(be=l==null?void 0:l.watermark)==null?void 0:be.alpha,className:"btcd-paper-inp mt-1",placeholder:"Opacity",max:"100",type:"number"})]})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"direction",children:[e.jsx("b",{children:s("Language Direction")}),e.jsx(P,{radio:!0,name:"direction",onChange:d=>j(d.target.name,d.target.value),checked:l.direction==="ltr",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"LTR"})}),value:"ltr"}),e.jsx(P,{radio:!0,name:"direction",onChange:d=>j(d.target.name,d.target.value),checked:l.direction==="rtl",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"RTL"})}),value:"rtl"})]})}),e.jsxs(le,{onClick:()=>a(),className:"mt-2",children:[l.id?s("Update"):s("Save"),f&&e.jsx(L,{size:20,clr:"#fff",className:"ml-2"})]})]})})}const J={font:{flx:"align-center"},color:{b:"1px solid rgb(239 239 239) !important",w:30,h:30,ml:20},bdr:{pl:15},size:{flx:"align-center",mt:20,gp:40},img:{w:50,ml:20}};function Ms(){return e.jsxs("div",{className:"d-flx",children:[e.jsxs("aside",{className:"btcd-app-setting-sidebar mr-4",children:[e.jsxs(K,{to:"/app-settings/recaptcha",className:({isActive:t})=>t?"btcd-app-s-a":"",children:[e.jsx(Ze,{size:"21",className:"mr-1"}),s("reCAPTCHA")]}),e.jsxs(K,{to:"/app-settings/gclid",className:({isActive:t})=>t?"btcd-app-s-a":"",children:[e.jsx("span",{className:"mr-1",children:e.jsx(Xe,{size:19})}),s("Google Ads")]}),e.jsxs(K,{to:"/app-settings/smtp",className:({isActive:t})=>t?"btcd-app-s-a":"",children:[e.jsx("span",{className:"mr-1",children:e.jsx(Je,{size:"21"})}),s("SMTP")]}),e.jsxs(K,{to:"/app-settings/pdf",className:({isActive:t})=>t?"btcd-app-s-a":"",children:[e.jsx(Qe,{size:"18",className:"mr-2"}),e.jsx("span",{className:"ml-2",children:s("PDF")})]}),e.jsxs(K,{to:"/app-settings/cpt",className:({isActive:t})=>t?"btcd-app-s-a":"",children:[e.jsx("span",{className:"mr-1",children:e.jsx(We,{size:21})}),s("CPT")]}),e.jsxs(K,{to:"/app-settings/api",className:({isActive:t})=>t?"btcd-app-s-a":"",children:[e.jsx("span",{className:"mr-1",children:e.jsx(Ns,{size:21})}),s("API")]}),e.jsxs(K,{to:"/app-settings/payments",className:({isActive:t})=>t?"btcd-app-s-a":"",children:[e.jsx(ys,{size:"16",className:"mr-2"}),e.jsx("span",{className:"ml-2",children:s("Payments")})]}),e.jsxs(K,{to:"/app-settings/general",className:({isActive:t})=>t?"btcd-app-s-a":"",children:[e.jsx(Ye,{size:"18",className:"mr-2"}),e.jsx("span",{className:"ml-2",children:s("General")})]})]}),e.jsxs(Ie,{children:[e.jsx(F,{index:!0,path:"recaptcha",element:e.jsx(as,{})}),e.jsx(F,{path:"gclid",element:e.jsx(cs,{})}),e.jsx(F,{path:"smtp",element:e.jsx(vs,{})}),e.jsx(F,{path:"cpt",element:e.jsx(is,{})}),e.jsx(F,{path:"api",element:e.jsx(ts,{})}),e.jsx(F,{path:"payments/*",element:e.jsx(js,{})}),e.jsx(F,{path:"general",element:e.jsx(os,{})}),e.jsx(F,{path:"pdf",element:e.jsx(ws,{})})]})]})}export{Ms as default};
