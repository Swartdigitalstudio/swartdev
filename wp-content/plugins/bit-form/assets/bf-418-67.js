var d=Object.defineProperty,h=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;var u=(s,c,e)=>c in s?d(s,c,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[c]=e,t=(s,c)=>{for(var e in c||(c={}))g.call(c,e)&&u(s,e,c[e]);if(o)for(var e of o(c))m.call(c,e)&&u(s,e,c[e]);return s},f=(s,c)=>h(s,S(c));import{c$ as y,c as E,d as F,r as O,d0 as v}from"./main-398.js";const D={revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1},i=s=>{var c;return(s==null?void 0:s.success)&&!((c=s==null?void 0:s.data)!=null&&c.errors)&&!v(s.data)},A=(s,c,e={})=>{const l=("fetchCondition"in e?e.fetchCondition:!0)?s:null,n=y(l,r=>{const a=E(c,Array.isArray(r)?r[0]:r);return n.isLoading&&F.promise(a,{loading:"Loading...",success:"Data loaded!",error:"Error loading data"}),a},f(t(t({},D),e),{onSuccess:r=>e.onSuccess&&i(r)&&e.onSuccess(r.data)}));return O.useEffect(()=>{if(!i(n.data))return;const{data:r}=n.data;e.onMount?e.onMount(r):e.onSuccess&&e.onSuccess(r)},[]),n};export{A as u};
