"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[9143],{8940:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(73305),a=n(4637);function s(e){var t=e.step,n=e.saveConfig,s=e.edit,l=e.disabled;return s?(0,a.jsx)("div",{className:"txt-center w-9 mt-3",children:(0,a.jsx)("button",{onClick:n,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:l,children:(0,i.__)("Update","bitform")})}):(0,a.jsxs)("div",{className:"btcd-stp-page txt-center",style:{width:3===t&&"90%",height:3===t&&"100%"},children:[(0,a.jsx)("h2",{className:"ml-3",children:(0,i.__)("Successfully Integrated","bitform")}),(0,a.jsxs)("button",{onClick:n,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm",type:"button",children:[(0,i.__)("Finish & Save ","bitform")," ✔"]})]})}},69143:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var i=n(665),a=n(59496),s=n(87230),l=n(73305),r=n(65194),o=n(53132),d=n(8940),c=n(42755),u=n(95147),m=n(4637);const f=function(e){var t=e.formFields,n=e.setIntegration,f=e.integrations,b=e.allIntegURL,h=(0,s.k6)(),p=(0,s.UO)(),_=p.id,g=p.formID,x=(0,a.useState)((0,i.Z)({},f[_])),v=x[0],j=x[1],w=(0,a.useState)(!1),C=w[0],F=w[1],k=(0,a.useState)({show:!1}),N=k[0],y=k[1];return(0,m.jsxs)("div",{style:{width:900},children:[(0,m.jsx)(r.Z,{snack:N,setSnackbar:y}),(0,m.jsxs)("div",{className:"flx mt-3",children:[(0,m.jsx)("b",{className:"wdt-200 d-in-b",children:(0,l.__)("Integration Name:","bit-integrations")}),(0,m.jsx)("input",{className:"btcd-paper-inp w-5",onChange:function(e){return handleInput(e,v,j)},name:"name",value:v.name,type:"text",placeholder:(0,l.__)("Integration Name...","bit-integrations")})]}),(0,m.jsx)("br",{}),(0,m.jsx)(u.Z,{formID:g,formFields:t,handleInput:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return handleInput(e,v,j,F,y)})),twilioConf:v,setTwilioConf:j,isLoading:C,setIsLoading:F,setSnackbar:y}),(0,m.jsx)(d.Z,{edit:!0,saveConfig:function(){(0,c.Pd)(v)?(0,o.Mm)(f,n,b,v,h,_,1):y({show:!0,msg:(0,l.__)("Please map mandatory fields","bit-integrations")})}}),(0,m.jsx)("br",{})]})}},42755:(e,t,n)=>{n.d(t,{Rx:()=>l,Pd:()=>r,P_:()=>o});var i=n(665),a=n(73305),s=n(77111),l=function(e,t,n,a,s,l,r,o){var d=(0,i.Z)({},t),c=e.target.name;""!==e.target.value?d[c]=e.target.value:delete d[c],n((0,i.Z)({},d))},r=function(e){return!((null!=e&&e.field_map?e.field_map.filter((function(e){return!e.formField||!e.twilioField||"custom"===!e.formField&&!e.customValue})):[]).length>0)},o=function(e,t,n,l,r,o){if(e.sid&&e.token&&e.from_num){n({}),r(!0);var d={sid:e.sid,token:e.token,from_num:e.from_num};(0,s.Z)(d,"bitforms_twilio_authorization").then((function(e){return e})).then((function(n){if(n&&n.success){var s=(0,i.Z)({},e);s.tokenDetails=n.data,t(s),l(!0),o({show:!0,msg:(0,a.__)("Authorized Successfully","bitform")})}else n&&n.data&&n.data.data||!n.success&&"string"===typeof n.data?o({show:!0,msg:""+(0,a.__)("Authorization failed Cause:","bitform")+(n.data.data||n.data)+". "+(0,a.__)("please try again","bitform")}):o({show:!0,msg:(0,a.__)("Authorization failed. please try again","bitform")});r(!1)}))}else n({sid:e.sid?"":(0,a.__)("Account SID can't be empty","bitform"),token:e.token?"":(0,a.__)("Auth Token can't be empty","bitform"),from_num:e.from_num?"":(0,a.__)("Phone number can't be empty","bitform")})}},95147:(e,t,n)=>{n.d(t,{Z:()=>f});n(59496);var i=n(73305),a=n(44084),s=n(37029),l=n(665),r=function(e,t,n,i){var a=(0,l.Z)({},n);a.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(a.field_map[t].customValue=""),i((0,l.Z)({},a))},o=function(e,t,n,i){var a=(0,l.Z)({},n);a.field_map[t].customValue=e.target.value,i((0,l.Z)({},a))},d=n(2699),c=n(84448),u=n(4637);function m(e){var t=e.i,n=e.formFields,l=e.field,m=e.twilioConf,f=e.setTwilioConf,b=(0,a.sJ)(c.hi).isPro;return(0,u.jsx)("div",{className:"flx mt-2 mb-2 btcbi-field-map",children:(0,u.jsx)("div",{className:"pos-rel flx",children:(0,u.jsxs)("div",{className:"flx integ-fld-wrp",children:[(0,u.jsxs)("select",{className:"btcd-paper-inp mr-2",name:"formField",value:l.formField||"",onChange:function(e){return r(e,t,m,f)},children:[(0,u.jsx)("option",{value:"",children:(0,i.__)("Select Field","bit-integrations")}),(0,u.jsx)("optgroup",{label:"Form Fields",children:null==n?void 0:n.map((function(e){return(0,u.jsx)("option",{value:e.key,children:e.name},"ff-rm-"+e.key)}))}),(0,u.jsx)("option",{value:"custom",children:(0,i.__)("Custom...","bit-integrations")}),(0,u.jsx)("optgroup",{label:"General Smart Codes "+(b?"":"(PRO)"),children:b&&(null==d.C?void 0:d.C.map((function(e){return(0,u.jsx)("option",{value:e.name,children:e.label},"ff-rm-"+e.name)})))})]}),"custom"===l.formField&&(0,u.jsx)(s.Z,{onChange:function(e){return o(e,t,m,f)},label:(0,i.__)("Custom Value","bit-integrations"),className:"mr-2",type:"text",value:l.customValue,placeholder:(0,i.__)("Custom Value","bit-integrations")}),(0,u.jsxs)("select",{className:"btcd-paper-inp",disabled:!0,name:"twilioField",value:l.twilioField,onChange:function(e){return r(e,t,m,f)},children:[(0,u.jsx)("option",{value:"",children:(0,i.__)("Select Field","bit-integrations")}),null==m?void 0:m.twilioFields.map((function(e){var t=e.key,n=e.label;return(0,u.jsx)("option",{value:t,children:n},t)}))]})]})})})}function f(e){var t=e.formFields,n=(e.handleInput,e.twilioConf),a=e.setTwilioConf,s=(e.isLoading,e.setIsLoading,e.setSnackbar);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("br",{}),(0,u.jsx)("div",{className:"mt-5",children:(0,u.jsx)("b",{className:"wdt-100",children:(0,i.__)("Field Map","bit-integrations")})}),(0,u.jsx)("div",{className:"btcd-hr mt-1"}),(0,u.jsxs)("div",{className:"flx flx-around mt-2 mb-2 btcbi-field-map-label",children:[(0,u.jsx)("div",{className:"txt-dp",children:(0,u.jsx)("b",{children:(0,i.__)("Form Fields","bit-integrations")})}),(0,u.jsx)("div",{className:"txt-dp",children:(0,u.jsx)("b",{children:(0,i.__)("Twilio Fields","bit-integrations")})})]}),null==n?void 0:n.field_map.map((function(e,i){return(0,u.jsx)(m,{i,field:e,twilioConf:n,formFields:t,setTwilioConf:a,setSnackbar:s},"rp-m-"+(i+9))})),(0,u.jsx)("br",{})]})}}}]);