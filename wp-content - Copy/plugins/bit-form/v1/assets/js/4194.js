"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[4194],{70294:(e,t,l)=>{l.d(t,{Pd:()=>r,Rx:()=>o,bN:()=>u,gn:()=>c,lM:()=>d,mk:()=>m,r7:()=>f});var a=l(72564),n=l(19697),i=l(99484),s=l(44947),o=function(e,t,l,n){var i=(0,a.Z)({},t),s=e.target.name;""!==e.target.value?i[s]=e.target.value:delete i[s],l((0,a.Z)({},i))},r=function(e){return!((null!=e&&e.field_map?e.field_map.filter((function(e){return!e.formField||!e.hubspotField||"custom"===!e.formField&&!e.customValue})):[]).length>0)},c=function(e,t){var l=[];"contact-create"===t?l=null==e?void 0:e.contactFields:"deal-create"===t?l=null==e?void 0:e.dealFields:"ticket-create"===t&&(l=null==e?void 0:e.ticketFields);var a=l.filter((function(e){return!0===e.required}));return a.length>0?a.map((function(e){return{formField:"",hubspotField:e.key}})):[{formField:"",hubspotField:""}]},u=function(e,t,l){l(!0);var o="";o="deal-create"===(null==e?void 0:e.actionName)?"deals":"tickets";var r={apiKey:e.api_key,actionName:o},c=(0,s.Z)(r,"bitforms_hubspot_pipeline").then((function(n){if(n&&n.success){var i=(0,a.Z)({},e);return i.default||(i.default={}),i.default.pipelines=n.data,t((0,a.Z)({},i)),l(!1),"Pipeline refreshed successfully"}return l(!1),"Pipeline refresh failed. please try again"}));n.ZP.promise(c,{success:function(e){return e},error:(0,i.__)("Error Occurred","bitform"),loading:(0,i.__)("Loading Pipelines...")})},d=function(e,t,l){l(!0);var o={apiKey:e.api_key},r=(0,s.Z)(o,"bitforms_hubspot_owners").then((function(n){if(n&&n.success){var i=(0,a.Z)({},e);return i.default||(i.default={}),i.default.owners=n.data,t((0,a.Z)({},i)),l(!1),"Owners refreshed successfully"}return l(!1),"Owners refresh failed. please try again"}));n.ZP.promise(r,{success:function(e){return e},error:(0,i.__)("Error Occurred","bitform"),loading:(0,i.__)("Loading Owners...")})},m=function(e,t,l){l(!0);var o={apiKey:e.api_key},r=(0,s.Z)(o,"bitforms_hubspot_contacts").then((function(n){if(n&&n.success){var i=(0,a.Z)({},e);return i.default||(i.default={}),i.default.contacts=n.data,t((0,a.Z)({},i)),l(!1),"Contacts refreshed successfully"}return l(!1),"Contacts refresh failed. please try again"}));n.ZP.promise(r,{success:function(e){return e},error:(0,i.__)("Error Occurred","bitform"),loading:(0,i.__)("Loading Contacts...")})},f=function(e,t,l){l(!0);var o={apiKey:e.api_key},r=(0,s.Z)(o,"bitforms_hubspot_company").then((function(n){if(n&&n.success){var i=(0,a.Z)({},e);return i.default||(i.default={}),i.default.companies=n.data,t((0,a.Z)({},i)),l(!1),"Company refreshed successfully"}return l(!1),"Company refresh failed. please try again"}));n.ZP.promise(r,{success:function(e){return e},error:(0,i.__)("Error Occurred","bitform"),loading:(0,i.__)("Loading Company...")})}},78236:(e,t,l)=>{l.d(t,{Z:()=>j});var a=l(72564),n=l(59496),i=l(52080),s=l(99484),o=function(e,t,l){var n=(0,a.Z)({},t);n.field_map.splice(e,0,{}),l((0,a.Z)({},n))},r=function(e,t,l){var n=(0,a.Z)({},t);n.field_map.length>1&&n.field_map.splice(e,1),l((0,a.Z)({},n))},c=function(e,t,l,n){var i=(0,a.Z)({},l);i.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(i.field_map[t].customValue=""),n((0,a.Z)({},i))},u=function(e,t,l,n){var i=(0,a.Z)({},l);i.field_map[t].customValue=e.target.value,n((0,a.Z)({},i))},d=l(57287),m=l(46649),f=l(85385),p=l(8309),b=l(70294),h=l(4637);function _(e){var t,l=e.i,n=e.formFields,i=e.field,_=e.hubspotConf,v=e.setHubspotConf,g=e.actionName,x=e.hubspotFields;if(1===(null==_||null==(t=_.field_map)?void 0:t.length)&&""===i.hubspotField){var y=(0,a.Z)({},_),j=(0,b.gn)(y,g);y.field_map=j,v(y)}var N=x.filter((function(e){return!0===e.required}))||[],C=x.filter((function(e){return!1===e.required}))||[],w=(0,d.sJ)(p.hi).isPro;return(0,h.jsx)("div",{className:"flx mt-2 mb-2 bits-field-map",children:(0,h.jsxs)("div",{className:"pos-rel flx",children:[(0,h.jsxs)("div",{className:"flx integ-fld-wrp",children:[(0,h.jsxs)("select",{className:"btcd-paper-inp mr-2",name:"formField",value:i.formField||"",onChange:function(e){return c(e,l,_,v)},children:[(0,h.jsx)("option",{value:"",children:(0,s.__)("Select Field","bit-integrations")}),(0,h.jsx)("optgroup",{label:"Form Fields",children:null==n?void 0:n.map((function(e){return(0,h.jsx)("option",{value:e.key,children:e.name},"ff-rm-"+e.key)}))}),(0,h.jsx)("option",{value:"custom",children:(0,s.__)("Custom...","bit-integrations")}),(0,h.jsx)("optgroup",{label:"General Smart Codes "+(w?"":"(PRO)"),children:w&&(null==f.C?void 0:f.C.map((function(e){return(0,h.jsx)("option",{value:e.name,children:e.label},"ff-rm-"+e.name)})))})]}),"custom"===i.formField&&(0,h.jsx)(m.Z,{onChange:function(e){return u(e,l,_,v)},label:(0,s.__)("Custom Value","bit-integrations"),className:"mr-2",type:"text",value:i.customValue,placeholder:(0,s.__)("Custom Value","bit-integrations")}),(0,h.jsxs)("select",{className:"btcd-paper-inp",disabled:l<N.length,name:"hubspotField",value:l<(null==N?void 0:N.length)?N[l].key||"":i.hubspotField||"",onChange:function(e){return c(e,l,_,v)},children:[(0,h.jsx)("option",{value:"",children:(0,s.__)("Select Field","bit-integrations")}),l<N.length?(0,h.jsx)("option",{value:N[l].key,children:N[l].label},N[l].key):C.map((function(e){var t=e.key,l=e.label;return(0,h.jsx)("option",{value:t,children:l},t)}))]})]}),l>=N.length&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{onClick:function(){return o(l,_,v)},className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),(0,h.jsx)("button",{onClick:function(){return r(l,_,v)},className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:(0,h.jsx)("span",{className:"btcd-icn icn-trash-2"})})]})]})})}var v=l(40493),g=l(46249),x=l(3454);l(32586);function y(e){var t,l,o,r,c,u,d,m,f,p,_,y,j,N=e.hubspotConf,C=e.setHubspotConf,w=(e.formFields,(0,n.useState)(!1)),k=w[0],Z=w[1],S=(0,n.useState)({show:!1,action:function(){}}),F=S[0],I=S[1],T=(0,n.useState)({show:!1}),O=(T[0],T[1]),V=function(e,t){var l=(0,a.Z)({},N);e.target.checked?("contact_owner"===t?(0,b.lM)(N,C,Z,O):"company"===t?(0,b.r7)(N,C,Z,O):"contact"===t&&(0,b.mk)(N,C,Z,O),l.actions[t]=!0,I({show:t})):(I({show:!1}),delete l.actions[t]),C((0,a.Z)({},l))},q=function(){I({show:!1})},A=function(e,t){var l=(0,a.Z)({},N);l[t]=e,C((0,a.Z)({},l))},P=[{value:"subscriber",label:"Subscriber"},{value:"lead",label:"Lead"},{value:"marketingqualifiedlead",label:"Marketing Qualified Lead"},{value:"salesqualifiedlead",label:"Sales Qualified Lead"},{value:"opportunity",label:"Opportunity"},{value:"evangelist",label:"Evangelist"},{value:"other",label:"Other"},{value:"customer",label:"Customer"}],L=[{value:"OPEN",label:"Open"},{value:"NEW",label:"New"},{value:"IN_PROGRESS",label:"In Progress"},{value:"OPEN_DEAL",label:"Open Deal"},{value:"UNQUALIFIED",label:"Unqualified"},{value:"ATTEMPTED_TO_CONTACT",label:"Attempted to contact"},{value:"CONNECTED",label:"Connected"},{value:"BAD_TIMING",label:"Bad timing"}],E=[{value:"newbusiness",label:"New Business"},{value:"existingbusiness",label:"Existing Business"}],M=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}];return(0,h.jsxs)("div",{className:"pos-rel d-flx w-8",children:[(null==N?void 0:N.actionName)&&(0,h.jsx)(x.Z,{checked:(null==N||null==(t=N.actions)?void 0:t.contact_owner)||!1,onChange:function(e){return V(e,"contact_owner")},className:"wdt-200 mt-4 mr-2",value:"contact_owner",title:(0,s.__)("Contact Owner","bit-integrations"),subTitle:(0,s.__)("Add a contact owner","bit-integrations")}),"contact-create"===(null==N?void 0:N.actionName)&&(0,h.jsx)(x.Z,{checked:(null==N||null==(l=N.actions)?void 0:l.lifecycle_stage)||!1,onChange:function(e){return V(e,"lifecycle_stage")},className:"wdt-200 mt-4 mr-2",value:"lifecycle_stage",title:(0,s.__)("Lifecycle Stage","bit-integrations"),subTitle:(0,s.__)("Add a lifecycle stage","bit-integrations")}),"contact-create"===(null==N?void 0:N.actionName)&&(0,h.jsx)(x.Z,{checked:(null==N||null==(o=N.actions)?void 0:o.lead_status)||!1,onChange:function(e){return V(e,"lead_status")},className:"wdt-200 mt-4 mr-2",value:"lead_status",title:(0,s.__)("Lead Status","bit-integrations"),subTitle:(0,s.__)("Add lead status","bit-integrations")}),"deal-create"===(null==N?void 0:N.actionName)&&(0,h.jsx)(x.Z,{checked:(null==N||null==(r=N.actions)?void 0:r.contact)||!1,onChange:function(e){return V(e,"contact")},className:"wdt-200 mt-4 mr-2",value:"contact",title:(0,s.__)("Contact","bit-integrations"),subTitle:(0,s.__)("Associate deal with contacts","bit-integrations")}),"deal-create"===(null==N?void 0:N.actionName)&&(0,h.jsx)(x.Z,{checked:(null==N||null==(c=N.actions)?void 0:c.company)||!1,onChange:function(e){return V(e,"company")},className:"wdt-200 mt-4 mr-2",value:"company",title:(0,s.__)("Company","bit-integrations"),subTitle:(0,s.__)("Associate deal with company","bit-integrations")}),"deal-create"===(null==N?void 0:N.actionName)&&(0,h.jsx)(x.Z,{checked:(null==N||null==(u=N.actions)?void 0:u.deal_type)||!1,onChange:function(e){return V(e,"deal_type")},className:"wdt-200 mt-4 mr-2",value:"deal_type",title:(0,s.__)("Deal Type","bit-integrations"),subTitle:(0,s.__)("Add type to deal","bit-integrations")}),"contact-create"!==(null==N?void 0:N.actionName)&&(0,h.jsx)(x.Z,{checked:(null==N||null==(d=N.actions)?void 0:d.priority)||!1,onChange:function(e){return V(e,"priority")},className:"wdt-200 mt-4 mr-2",value:"deal_type",title:(0,s.__)("Priority","bit-integrations"),subTitle:(0,s.__)("Add priority to deal","bit-integrations")}),(0,h.jsxs)(g.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:(0,s.__)("Ok","bit-integrations"),show:"contact_owner"===F.show,close:q,action:q,title:(0,s.__)("Contact Owner","bit-integrations"),children:[(0,h.jsx)("div",{className:"btcd-hr mt-2 mb-2"}),k?(0,h.jsx)(v.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):(0,h.jsxs)("div",{className:"flx flx-between mt-2",children:[(0,h.jsx)(i.Z,{className:"msl-wrp-options",defaultValue:null==N?void 0:N.contact_owner,options:null==(m=N.default)||null==(f=m.owners)?void 0:f.map((function(e){return{label:e.ownerName,value:e.ownerId.toString()}})),onChange:function(e){return A(e,"contact_owner")},customValue:!0,singleSelect:!0}),(0,h.jsx)("button",{onClick:function(){return(0,b.lM)(N,C,Z,O)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":(0,s.__)("Refresh Owners","bit-integrations")+"'"},type:"button",disabled:k,children:"↻"})]})]}),(0,h.jsxs)(g.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:(0,s.__)("Ok","bit-integrations"),show:"lifecycle_stage"===F.show,close:q,action:q,title:(0,s.__)("Lifecycle Stage","bit-integrations"),children:[(0,h.jsx)("div",{className:"btcd-hr mt-2 mb-2"}),k?(0,h.jsx)(v.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):(0,h.jsx)("div",{className:"flx flx-between mt-2",children:(0,h.jsx)(i.Z,{className:"msl-wrp-options",defaultValue:null==N?void 0:N.lifecycle_stage,options:null==P?void 0:P.map((function(e){return{label:e.label,value:e.value.toString()}})),onChange:function(e){return A(e,"lifecycle_stage")},customValue:!0,singleSelect:!0})})]}),(0,h.jsxs)(g.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:(0,s.__)("Ok","bit-integrations"),show:"lead_status"===F.show,close:q,action:q,title:(0,s.__)("Lead Status","bit-integrations"),children:[(0,h.jsx)("div",{className:"btcd-hr mt-2 mb-2"}),k?(0,h.jsx)(v.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):(0,h.jsx)("div",{className:"flx flx-between mt-2",children:(0,h.jsx)(i.Z,{className:"msl-wrp-options",defaultValue:null==N?void 0:N.lead_status,options:null==L?void 0:L.map((function(e){return{label:e.label,value:e.value.toString()}})),onChange:function(e){return A(e,"lead_status")},customValue:!0,singleSelect:!0})})]}),(0,h.jsxs)(g.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:(0,s.__)("Ok","bit-integrations"),show:"contact"===F.show,close:q,action:q,title:(0,s.__)("Contacts","bit-integrations"),children:[(0,h.jsx)("div",{className:"btcd-hr mt-2 mb-2"}),k?(0,h.jsx)(v.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):(0,h.jsx)("div",{className:"flx flx-between mt-2",children:(0,h.jsx)(i.Z,{className:"msl-wrp-options",defaultValue:null==N?void 0:N.contact,options:null==N||null==(p=N.default)||null==(_=p.contacts)?void 0:_.map((function(e){return{label:e.contactName,value:e.contactId.toString()}})),onChange:function(e){return A(e,"contact")},customValue:!0,singleSelect:!0})})]}),(0,h.jsxs)(g.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:(0,s.__)("Ok","bit-integrations"),show:"company"===F.show,close:q,action:q,title:(0,s.__)("Company","bit-integrations"),children:[(0,h.jsx)("div",{className:"btcd-hr mt-2 mb-2"}),k?(0,h.jsx)(v.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):(0,h.jsxs)("div",{className:"flx flx-between mt-2",children:[(0,h.jsx)(i.Z,{className:"msl-wrp-options",defaultValue:null==N?void 0:N.company,options:null==N||null==(y=N.default)||null==(j=y.companies)?void 0:j.map((function(e){return{label:e.companyName,value:e.companyId.toString()}})),onChange:function(e){return A(e,"company")},customValue:!0,singleSelect:!0}),(0,h.jsx)("button",{onClick:function(){return(0,b.r7)(N,C,Z,O)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":(0,s.__)("Refresh CRM Tags","bit-integrations")+"'"},type:"button",disabled:k,children:"↻"})]})]}),(0,h.jsxs)(g.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:(0,s.__)("Ok","bit-integrations"),show:"deal_type"===F.show,close:q,action:q,title:(0,s.__)("Deal Type","bit-integrations"),children:[(0,h.jsx)("div",{className:"btcd-hr mt-2 mb-2"}),k?(0,h.jsx)(v.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):(0,h.jsx)("div",{className:"flx flx-between mt-2",children:(0,h.jsx)(i.Z,{className:"msl-wrp-options",defaultValue:null==N?void 0:N.deal_type,options:null==E?void 0:E.map((function(e){return{label:e.label,value:e.value.toString()}})),onChange:function(e){return A(e,"deal_type")},customValue:!0,singleSelect:!0})})]}),(0,h.jsxs)(g.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:(0,s.__)("Ok","bit-integrations"),show:"priority"===F.show,close:q,action:q,title:(0,s.__)("Priority","bit-integrations"),children:[(0,h.jsx)("div",{className:"btcd-hr mt-2 mb-2"}),k?(0,h.jsx)(v.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):(0,h.jsx)("div",{className:"flx flx-between mt-2",children:(0,h.jsx)(i.Z,{className:"msl-wrp-options",defaultValue:null==N?void 0:N.priority,options:null==M?void 0:M.map((function(e){return{label:e.label,value:e.value.toString()}})),onChange:function(e){return A(e,"priority")},customValue:!0,singleSelect:!0})})]})]})}function j(e){var t,l,n,i=e.formFields,r=e.handleInput,c=e.hubspotConf,u=e.setHubspotConf,d=(e.isLoading,e.setIsLoading),m=e.setSnackbar,f=[{key:"email",label:"Email",required:!0},{key:"firstname",label:"First Name",required:!1},{key:"lastname",label:"Last Name",required:!1},{key:"website",label:"Website",required:!1},{key:"company",label:"Company",required:!1},{key:"phone",label:"Phone",required:!1},{key:"address",label:"Address",required:!1},{key:"city",label:"City",required:!1},{key:"state",label:"State",required:!1},{key:"zip",label:"Zip",required:!1},{key:"jobtitle",label:"Job Title",required:!1}],p=[{key:"dealname",label:"Deal Name",required:!0},{key:"amount",label:"Amount",required:!1},{key:"closedate",label:"Close Date",required:!1}],v=[{key:"subject",label:"Ticket Name",required:!0},{key:"content",label:"Ticket description",required:!1}],g=[],x=function(e){var t=[];return"contact-create"===(null==c?void 0:c.actionName)?t=(null==c?void 0:c.contactFields)||[]:"deal-create"===(null==c?void 0:c.actionName)?t=(null==c?void 0:c.dealFields)||[]:"ticket-create"===(null==c?void 0:c.actionName)&&(t=(null==c?void 0:c.ticketFields)||[]),t},j=function(e){var t,l=(0,a.Z)({},c),n=e.target,i=n.name,s=n.value;if(""!==e.target.value?l[i]=e.target.value:delete l[i],"pipeline"===i)g=null==c||null==(t=c.default)?void 0:t.pipelines.filter((function(e){return e.pipelineId===s})).map((function(e){return e.stages})),l.stageTmp=g,u((0,a.Z)({},l));else if("actionName"===i){var o={name:"Hubspot",type:"Hubspot",api_key:null==c?void 0:c.api_key,field_map:[{formField:"",hubspotField:""}],actionName:s,actions:{},contactFields:f,dealFields:p,ticketFields:v};"deal-create"===s||"ticket-create"===s?(0,b.bN)(o,u,d):u(o)}};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("br",{}),(0,h.jsxs)("div",{className:"flx",children:[(0,h.jsx)("b",{className:"wdt-200 d-in-b",children:(0,s.__)("Action:","bitform")}),(0,h.jsxs)("select",{onChange:j,name:"actionName",value:null==c?void 0:c.actionName,className:"btcd-paper-inp w-5",children:[(0,h.jsx)("option",{value:"",children:(0,s.__)("Select Action","bitform")}),[{label:"Contact Create",value:"contact-create"},{label:"Deal Create",value:"deal-create"},{label:"Ticket Create",value:"ticket-create"}].map((function(e){var t=e.label,l=e.value;return(0,h.jsx)("option",{value:l,children:t},t)}))]})]}),(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),("deal-create"===(null==c?void 0:c.actionName)||"ticket-create"===c.actionName)&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"flx",children:[(0,h.jsx)("b",{className:"wdt-200 d-in-b",children:(0,s.__)("Pipeline:","bitform")}),(0,h.jsxs)("select",{onChange:j,name:"pipeline",value:null==c?void 0:c.pipeline,className:"btcd-paper-inp w-5",children:[(0,h.jsx)("option",{value:"",children:(0,s.__)("Select Pipeline","bitform")}),null==c||null==(t=c.default)?void 0:t.pipelines.map((function(e){var t=e.pipelineId,l=e.pipelineName;return(0,h.jsx)("option",{value:t,children:l},t)}))]})]}),(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),(0,h.jsxs)("div",{className:"flx",children:[(0,h.jsx)("b",{className:"wdt-200 d-in-b",children:(0,s.__)("Stage:","bitform")}),(0,h.jsxs)("select",{onChange:r,name:"stage",value:null==c?void 0:c.stage,className:"btcd-paper-inp w-5",children:[(0,h.jsx)("option",{value:"",children:(0,s.__)("Select Stage","bitform")}),null==c||null==(l=c.stageTmp)||null==(n=l[0])?void 0:n.map((function(e){var t=e.stageId,l=e.stageName;return(0,h.jsx)("option",{value:t,children:l},t)}))]})]})]}),(0,h.jsx)("br",{}),("contact-create"===(null==c?void 0:c.actionName)||(null==c?void 0:c.pipeline)&&(null==c?void 0:c.stage))&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"mt-5",children:(0,h.jsx)("b",{className:"wdt-100",children:(0,s.__)("Field Map","bitform")})}),(0,h.jsx)("div",{className:"btcd-hr mt-1"}),(0,h.jsxs)("div",{className:"flx flx-around mt-2 mb-2 btcbi-field-map-label",children:[(0,h.jsx)("div",{className:"txt-dp",children:(0,h.jsx)("b",{children:(0,s.__)("Form Fields","bitform")})}),(0,h.jsx)("div",{className:"txt-dp",children:(0,h.jsx)("b",{children:(0,s.__)("Hubspot Fields","bitform")})})]})]}),("contact-create"===(null==c?void 0:c.actionName)||(null==c?void 0:c.pipeline)&&(null==c?void 0:c.stage))&&(null==c?void 0:c.field_map.map((function(e,t){return(0,h.jsx)(_,{i:t,field:e,hubspotConf:c,formFields:i,setHubspotConf:u,setSnackbar:m,actionName:null==c?void 0:c.actionName,hubspotFields:x()},"rp-m-"+(t+9))}))),(0,h.jsx)("div",{className:"txt-center mt-2",style:{marginRight:85},children:(0,h.jsx)("button",{onClick:function(){return o(c.field_map.length,c,u,!1)},className:"icn-btn sh-sm",type:"button",children:"+"})}),(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),(0,h.jsx)("div",{className:"mt-4",children:(0,h.jsx)("b",{className:"wdt-100",children:(0,s.__)("Actions","bitform")})}),(0,h.jsx)("div",{className:"btcd-hr mt-1"}),(0,h.jsx)(y,{hubspotConf:c,setHubspotConf:u,formFields:i})]})}},84584:(e,t,l)=>{l.d(t,{FP:()=>u,Mm:()=>s,P_:()=>r,T5:()=>d,WK:()=>o,mG:()=>f,wX:()=>m});var a=l(72564),n=l(99484),i=l(44947),s=function(e,t,l,n,i,s,o){var r=[].concat(e);if(o)r[s]=(0,a.Z)({},e[s],n),r.push({editItegration:!0}),t([].concat(r)),i.push(l);else{var c=[].concat(r);c.push(n),c.push({newItegration:!0}),t(c),i.push(l)}},o=function(e){var t={},l=window.location.href.replace(window.opener.location.href+"/redirect","").split("&");l&&l.forEach((function(e){var l=e.split("=");l[1]&&(t[l[0]]=l[1])})),localStorage.setItem("__bitforms_"+e,JSON.stringify(t)),window.close()},r=function(e,t,l,i,s,o,r,u,d){if(i.dataCenter&&i.clientId&&i.clientSecret){u(!0);var m="https://accounts.zoho."+i.dataCenter+"/oauth/v2/auth?scope="+l+"&response_type=code&client_id="+i.clientId+"&prompt=Consent&access_type=offline&state="+encodeURIComponent(window.location.href)+"/redirect&redirect_uri="+encodeURIComponent(bits.zohoRedirectURL),f=window.open(m,e,"width=400,height=609,toolbar=off"),p=setInterval((function(){if(f.closed){clearInterval(p);var l={},o=!1,m=localStorage.getItem("__bitforms_"+e);if(m&&(o=!0,l=JSON.parse(m),localStorage.removeItem("__bitforms_"+e)),l.code&&!l.error&&l&&o){var b=(0,a.Z)({},i);b.accountServer=l["accounts-server"],c(t,l,b,s,r,u,d)}else{var h=l.error?"Cause: "+l.error:"";d({show:!0,msg:(0,n.__)("Authorization failed","bitform")+" "+h+". "+(0,n.__)("please try again","bitform")}),u(!1)}}}),500)}else o({dataCenter:i.dataCenter?"":(0,n.__)("Data center cann't be empty","bitform"),clientId:i.clientId?"":(0,n.__)("Client ID cann't be empty","bitform"),clientSecret:i.clientSecret?"":(0,n.__)("Secret key cann't be empty","bitform")})},c=function(e,t,l,s,o,r,c){var u=(0,a.Z)({},t);u.dataCenter=l.dataCenter,u.clientId=l.clientId,u.clientSecret=l.clientSecret,u.redirectURI=bits.zohoRedirectURL,(0,i.Z)(u,"bitforms_"+e+"_generate_token").then((function(e){return e})).then((function(e){if(e&&e.success){var t=(0,a.Z)({},l);t.tokenDetails=e.data,s(t),o(!0),c({show:!0,msg:(0,n.__)("Authorized Successfully","bitform")})}else e&&e.data&&e.data.data||!e.success&&"string"===typeof e.data?c({show:!0,msg:""+(0,n.__)("Authorization failed Cause:","bitform")+(e.data.data||e.data)+". "+(0,n.__)("please try again","bitform")}):c({show:!0,msg:(0,n.__)("Authorization failed. please try again","bitform")});r(!1)}))},u=function(e,t,l,n,i){var s=(0,a.Z)({},t);i?n?s.relatedlists[i-1].upload_field_map.splice(e,0,{}):s.relatedlists[i-1].field_map.splice(e,0,{}):n?s.upload_field_map.splice(e,0,{}):s.field_map.splice(e,0,{}),l((0,a.Z)({},s))},d=function(e,t,l,n,i){var s=(0,a.Z)({},t);i?n?s.relatedlists[i-1].upload_field_map.length>1&&s.relatedlists[i-1].upload_field_map.splice(e,1):s.relatedlists[i-1].field_map.length>1&&s.relatedlists[i-1].field_map.splice(e,1):n?s.upload_field_map.length>1&&s.upload_field_map.splice(e,1):s.field_map.length>1&&s.field_map.splice(e,1),l((0,a.Z)({},s))},m=function(e,t,l,n,i,s){var o=(0,a.Z)({},l);s?i?o.relatedlists[s-1].upload_field_map[t][e.target.name]=e.target.value:o.relatedlists[s-1].field_map[t][e.target.name]=e.target.value:i?o.upload_field_map[t][e.target.name]=e.target.value:o.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(s?o.relatedlists[s-1].field_map[t].customValue="":o.field_map[t].customValue=""),n((0,a.Z)({},o))},f=function(e,t,l,n,i){var s=(0,a.Z)({},l);i?s.relatedlists[i-1].field_map[t].customValue=e.target.value:s.field_map[t].customValue=e.target.value,n((0,a.Z)({},s))}},19470:(e,t,l)=>{l.d(t,{Z:()=>i});var a=l(99484),n=l(4637);function i(e){var t=e.step,l=e.saveConfig,i=e.edit,s=e.disabled;return i?(0,n.jsx)("div",{className:"txt-center w-9 mt-3",children:(0,n.jsx)("button",{onClick:l,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:s,children:(0,a.__)("Update","bitform")})}):(0,n.jsxs)("div",{className:"btcd-stp-page txt-center",style:{width:3===t&&"90%",height:3===t&&"100%"},children:[(0,n.jsx)("h2",{className:"ml-3",children:(0,a.__)("Successfully Integrated","bitform")}),(0,n.jsxs)("button",{onClick:l,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm",type:"button",children:[(0,a.__)("Finish & Save ","bitform")," ✔"]})]})}}}]);