"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[6804,636],{80636:(e,s,t)=>{t.r(s),t.d(s,{default:()=>f});var n=t(665),a=t(59496),l=t(19753),r=t(33290),i=t(47359),c=t(94557),d=t(77111),o=t(73305),m=t(73239),u=t(8665),p=t(4637);function f(e){e.formID;var s,t=e.formFields,f=e.webHooks,h=e.setWebHooks,b=(e.step,e.setstep),x=e.setSnackbar,v=e.create,j=e.isInfo,N=function(e){return null==e?void 0:e.match(/(\?|&)([^=]+)=([^&]+|)/gi)},g=(0,a.useState)(!1),_=g[0],k=g[1],y=(0,a.useRef)(null),w=function(e){k(!0),(0,d.Z)({hookDetails:e},"bitforms_test_webhook").then((function(e){if(e&&e.success)y.current.innerHTML="<pre>"+function(e){try{return JSON.stringify(e,null,2)}catch(s){return e}}(e.data.response)+"</pre>",x({show:!0,msg:(0,o.__)(e.data.msg)}),k(!1);else if(e&&e.data){var s="string"===typeof e.data?e.data:"Unknown error";x({show:!0,msg:s+". "+(0,o.__)("please try again","bitform")}),k(!1)}else x({show:!0,msg:(0,o.__)("Webhook tests failed. please try again","bitform")}),k(!1)}))},C=function(e,s,t){var a=(0,n.Z)({},f);""!==s?a.url="key"===e?a.url.replace(t,""+t.charAt(0)+s+"="+t.split("=")[1]):a.url.replace(t,t.split("=")[0]+"="+s):null===t.match(/\?/g)?a.url=a.url.replace(t,""):a.url=a.url.replace(t+"&","?"),h(a)},Z=function(e){var s=(0,n.Z)({},f);s[e.target.name]=e.target.value,h((0,n.Z)({},s))};return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{style:(0,n.Z)({},{width:j&&900}),children:[(0,p.jsx)("div",{className:"flx ",children:(0,p.jsxs)("div",{className:"w-7 mr-2 mb-4",children:[(0,p.jsx)("div",{className:"f-m",children:(0,o.__)("Integration name","bitform")}),(0,p.jsx)("input",{name:"name",onChange:function(e){return Z(e)},className:"btcd-paper-inp mt-1",type:"text",value:f.name,disabled:j})]})}),(0,p.jsxs)("div",{className:"flx",children:[(0,p.jsxs)("div",{className:"w-7 mr-2",children:[(0,p.jsx)("div",{className:"f-m",children:(0,o.__)("Link:","bitform")}),(0,p.jsx)("input",{name:"url",onChange:function(e){return Z(e)},className:"btcd-paper-inp mt-1",type:"text",value:f.url,disabled:j}),(null==f?void 0:f.apiConsole)&&(0,p.jsxs)("small",{className:"d-blk mt-2",children:[(0,o.__)("To got Webhook , Please Visit","bitform")," ",(0,p.jsx)("a",{className:"btcd-link",href:f.apiConsole,target:"_blank",rel:"noreferrer",children:(0,o.__)(f.type+" Dashboard","bitform")})]})]}),(0,p.jsxs)("div",{className:"w-3",children:[(0,p.jsx)("div",{className:"f-m",children:(0,o.__)("Method:","bitform")}),(0,p.jsx)("select",{name:"method",onChange:function(e){return Z(e)},defaultValue:f.method,className:"btcd-paper-inp mt-1",disabled:j,children:["GET","POST","PUT","PATCH","OPTION","DELETE","TRACE","CONNECT"].map((function(e,s){return(0,p.jsx)("option",{value:e,children:e},"method-"+2*s)}))})]})]}),!j&&(0,p.jsxs)(u.Z,{onClick:function(){return w(f)},className:"btn btcd-btn-o-blue",disabled:_,children:[(0,o.__)("Test Webhook","bitform"),_&&(0,p.jsx)(m.Z,{size:14,clr:"#022217",className:"ml-2"})]}),(0,p.jsx)("br",{}),(0,p.jsxs)("div",{className:"wh-resp-box",children:[(0,p.jsx)("div",{className:"f-m wh-resp-box-title",children:(0,o.__)("Response:","bitform")}),(0,p.jsx)("div",{className:"wh-resp-box-content",ref:y,children:"Test Webhook to see the response."})]}),(0,p.jsx)("br",{}),(0,p.jsx)("div",{className:"f-m",children:(0,o.__)("Add Url Parameter: (optional)","bitform")}),(0,p.jsx)("div",{className:"btcd-param-t-wrp mt-1",children:(0,p.jsxs)("div",{className:"btcd-param-t",children:[(0,p.jsxs)("div",{className:"tr",children:[(0,p.jsx)("div",{className:"td",children:(0,o.__)("Key","bitform")}),(0,p.jsx)("div",{className:"td",children:(0,o.__)("Value","bitform")})]}),null!==N(f.url)&&(null==(s=N(f.url))?void 0:s.map((function(e,s){return(0,p.jsxs)("div",{className:"tr",children:[(0,p.jsx)("div",{className:"td",children:(0,p.jsx)("input",{className:"btcd-paper-inp p-i-sm",onChange:function(s){return C("key",s.target.value,e)},type:"text",value:e.split("=")[0].substr(1),disabled:j})}),(0,p.jsx)("div",{className:"td",children:(0,p.jsx)("input",{className:"btcd-paper-inp p-i-sm",onChange:function(s){return C("val",s.target.value,e)},type:"text",value:e.split("=")[1],disabled:j})}),!j&&(0,p.jsxs)("div",{className:"flx p-atn",children:[(0,p.jsx)(u.Z,{onClick:function(){return function(e){var s=(0,n.Z)({},f);s.url=s.url.replace(e,""),h(s)}(e)},icn:!0,children:(0,p.jsx)(c.Z,{size:16})}),(0,p.jsx)(l.Z,{options:t.map((function(e){return{label:e.name,value:"${"+e.key+"}"}})),className:"btcd-paper-drpdwn wdt-200 ml-2",singleSelect:!0,onChange:function(s){return function(e,s){var t=(0,n.Z)({},f),a=s.split("=");a[1]=e,t.url=t.url.replace(s,a.join("=")),h(t)}(s,e)},defaultValue:e.split("=")[1]})]})]},"fu-1"+3*s)}))),!j&&(0,p.jsx)(u.Z,{onClick:function(){return function(){var e=(0,n.Z)({},f);null!==e.url.match(/\?/g)?e.url+="&key=value":e.url+="?key=value",h(e)}()},className:"add-pram",icn:!0,children:(0,p.jsx)(i.Z,{size:"14",className:"icn-rotate-45"})})]})}),v&&(0,p.jsxs)("button",{onClick:function(){return setTimeout((function(){document.getElementById("btcd-settings-wrp").scrollTop=0}),300),void b(2)},className:"btn btcd-btn-lg green sh-sm flx",type:"button",children:[(0,o.__)("Next","bitform"),(0,p.jsx)(r.Z,{className:"ml-1 rev-icn"})]})]})})}},88497:(e,s,t)=>{t.d(s,{Z:()=>l});var n=t(73305),a=t(4637);function l(e){e.step;var s=e.saveConfig,t=e.edit,l=e.disabled;return t?(0,a.jsx)("div",{className:"txt-center w-9 mt-3",children:(0,a.jsx)("button",{onClick:s,className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:l,children:(0,n.__)("Save","bitform")})}):(0,a.jsxs)("div",{className:"txt-center",style:{marginLeft:210},children:[(0,a.jsx)("h2",{className:"ml-3",children:(0,n.__)("Successfully Integrated","bitform")}),(0,a.jsxs)("button",{onClick:s,className:"btn btcd-btn-lg green sh-sm",type:"button",children:[(0,n.__)("Finish & Save ","bitform"),"âœ”"]})]})}},66804:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var n=t(665),a=t(59496),l=(t(46850),t(87230)),r=t(65194),i=t(14663),c=t(53132),d=t(80636),o=t(88497),m=t(4637);const u=function(e){var s=e.formFields,t=e.setIntegration,u=e.integrations,p=e.allIntegURL,f=(0,l.k6)(),h=(0,l.UO)().formID,b=(0,a.useState)(1),x=b[0],v=b[1],j=(0,a.useState)({show:!1}),N=j[0],g=j[1],_=(0,a.useState)({name:"Web Hooks",type:"Web Hooks",method:"POST",url:""}),k=_[0],y=_[1];return(0,m.jsxs)("div",{children:[(0,m.jsx)(r.Z,{snack:N,setSnackbar:g}),(0,m.jsx)("div",{className:"txt-center w-9 mt-2",children:(0,m.jsx)(i.Z,{step:2,active:x})}),(0,m.jsx)("div",{className:"btcd-stp-page",style:(0,n.Z)({},{width:1===x&&900},{height:1===x&&"100%"}),children:(0,m.jsx)(d.default,{formID:h,formFields:s,webHooks:k,setWebHooks:y,step:x,setstep:v,setSnackbar:g,create:!0})}),(0,m.jsx)("div",{className:"btcd-stp-page",style:{width:2===x&&900,minHeight:2===x&&"900px"},children:(0,m.jsx)(o.Z,{step:x,saveConfig:function(){return(0,c.Mm)(u,t,p,k,f)}})})]})}},14663:(e,s,t)=>{t.d(s,{Z:()=>l});var n=t(59496),a=t(4637);const l=function(e){var s=e.step,t=e.active,l=e.className;return(0,a.jsx)("div",{className:"d-in-b "+l,children:(0,a.jsxs)("div",{className:"flx flx-center",children:[Array(t).fill(0).map((function(e,s){return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)("div",{className:"btcd-stp flx flx-center stp-a  txt-center",children:s+1}),t-1!==s&&(0,a.jsx)("div",{className:"btcd-stp-line stp-line-a"})]},"stp-"+(s+21))})),s-t!==0&&(0,a.jsx)("div",{className:"btcd-stp-line"}),Array(s-t).fill(0).map((function(e,l){return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)("div",{className:"btcd-stp flx flx-center txt-center",children:l+t+1}),s-t-1!==l&&(0,a.jsx)("div",{className:"btcd-stp-line "})]},"stp-"+(l+23))}))]})})}}}]);