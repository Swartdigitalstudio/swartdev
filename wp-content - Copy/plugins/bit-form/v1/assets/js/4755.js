"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[4755],{8940:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(73305),i=a(4637);function s(e){var t=e.step,a=e.saveConfig,s=e.edit,l=e.disabled;return s?(0,i.jsx)("div",{className:"txt-center w-9 mt-3",children:(0,i.jsx)("button",{onClick:a,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:l,children:(0,n.__)("Update","bitform")})}):(0,i.jsxs)("div",{className:"btcd-stp-page txt-center",style:{width:3===t&&"90%",height:3===t&&"100%"},children:[(0,i.jsx)("h2",{className:"ml-3",children:(0,n.__)("Successfully Integrated","bitform")}),(0,i.jsxs)("button",{onClick:a,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm",type:"button",children:[(0,n.__)("Finish & Save ","bitform")," ✔"]})]})}},24755:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var n=a(665),i=a(59496),s=a(87230),l=a(73305),r=a(65194),o=a(53132),c=a(8940),m=a(12051),d=a(84041),p=a(4637);const u=function(e){var t=e.formFields,a=e.setIntegration,u=e.integrations,f=e.allIntegURL,h=(0,s.k6)(),_=(0,s.UO)(),b=_.id,v=_.formID,x=(0,i.useState)(!1),g=x[0],j=x[1],N=(0,i.useState)((0,n.Z)({},u[b])),w=N[0],y=N[1],C=(0,i.useState)({show:!1}),k=C[0],S=C[1],D=(0,i.useState)({show:!1}),I=D[0],Z=D[1];return(0,p.jsxs)("div",{style:{width:900},children:[(0,p.jsx)(r.Z,{snack:k,setSnackbar:S}),(0,p.jsxs)("div",{className:"flx mt-3",children:[(0,p.jsx)("b",{className:"wdt-100 d-in-b",children:(0,l.__)("Integration Name:","bitform")}),(0,p.jsx)("input",{className:"btcd-paper-inp w-7",onChange:function(e){return(0,m.Rx)(e,w,y)},name:"name",value:w.name,type:"text",placeholder:(0,l.__)("Integration Name...","bitform")})]}),(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsx)(d.Z,{formID:v,formFields:t,signConf:w,setSignConf:y,isLoading:g,setisLoading:j,setSnackbar:S}),(0,p.jsx)(c.Z,{edit:!0,saveConfig:function(){var e,t;null!=(e=w.actions)&&e.update&&""===(null==(t=w.actions)?void 0:t.update.criteria)&&"criteria"!==I.show?Z({show:"criteria"}):(0,o.Mm)(u,a,f,w,h,b,1)},disabled:""===w.template}),(0,p.jsx)("br",{})]})}},12051:(e,t,a)=>{a.d(t,{Rx:()=>l,Zo:()=>o,V9:()=>c,WK:()=>m});var n=a(665),i=a(73305),s=a(77111),l=function(e,t,a,i,s,l,o,c,m){var d=(0,n.Z)({},t);if(o){var p=(0,n.Z)({},c);p[e.target.name]="",m((0,n.Z)({},p))}if(d[e.target.name]=e.target.value,"template"===e.target.name)d=r(d,i,a,s,l);a((0,n.Z)({},d))},r=function(e,t,a,i,s){var l,r,o=(0,n.Z)({},e);return o.table="",o.field_map=[{formField:"",zohoFormField:""}],delete o.templateActions,null!=o&&null!=(l=o.default)&&null!=(r=l.templateDetails)&&r[e.template]||c(t,o,a,i,s),o},o=function(e,t,a,l,r){l(!0);var o={formID:e,id:t.id,dataCenter:t.dataCenter,clientId:t.clientId,clientSecret:t.clientSecret,tokenDetails:t.tokenDetails};(0,s.Z)(o,"bitforms_zsign_refresh_templates").then((function(e){if(e&&e.success){var s=(0,n.Z)({},t);s.default||(s.default={}),e.data.templates&&(s.default.templates=e.data.templates),e.data.tokenDetails&&(s.tokenDetails=e.data.tokenDetails),r({show:!0,msg:(0,i.__)("Templates refreshed","bitform")}),a((0,n.Z)({},s))}else e&&e.data&&e.data.data||!e.success&&"string"===typeof e.data?r({show:!0,msg:(0,i.g)((0,i.__)("Templates refresh failed Cause: %s. please try again","bitform"),e.data.data||e.data)}):r({show:!0,msg:(0,i.__)("Templates refresh failed. please try again","bitform")});l(!1)})).catch((function(){return l(!1)}))},c=function(e,t,a,l,r){var o=t.template;l(!0);var c={formID:e,id:t.id,dataCenter:t.dataCenter,clientId:t.clientId,clientSecret:t.clientSecret,tokenDetails:t.tokenDetails,template:o};(0,s.Z)(c,"bitforms_zsign_refresh_template_details").then((function(e){if(e&&e.success){var s=(0,n.Z)({},t);s.default||(s.default={}),s.default.templateDetails||(s.default.templateDetails={}),e.data.templateDetails&&(s.default.templateDetails[o]=e.data.templateDetails),e.data.tokenDetails&&(s.tokenDetails=e.data.tokenDetails),r({show:!0,msg:(0,i.__)("Template Details refreshed","bitform")}),a((0,n.Z)({},s))}else e&&e.data&&e.data.data||!e.success&&"string"===typeof e.data?r({show:!0,msg:(0,i.g)((0,i.__)("Template Details refresh failed Cause: %s. please try again","bitform"),e.data.data||e.data)}):r({show:!0,msg:(0,i.__)("Template Details refresh failed. please try again","bitform")});l(!1)})).catch((function(){return l(!1)}))},m=function(e){var t={},a=window.location.href.replace(window.opener.location.href+"/redirect","").split("&");a&&a.forEach((function(e){var a=e.split("=");a[1]&&(t[a[0]]=a[1])})),localStorage.setItem("__bitforms_"+e,JSON.stringify(t)),window.close()}},84041:(e,t,a)=>{a.d(t,{Z:()=>_});var n=a(14103),i=a(59496),s=a(19753),l=(a(46850),a(44084)),r=a(84448),o=a(93820),c=a(33591),m=a(73305),d=a(67860),p=a(83524),u=a(85012),f=a(12051),h=a(4637);function _(e){var t,a,_,b,v,x,g,j,N,w,y=e.formID,C=e.formFields,k=e.signConf,S=e.setSignConf,D=e.isLoading,I=e.setisLoading,Z=e.setSnackbar,R=(0,l.sJ)(r.uJ),O=(0,i.useState)({show:!1}),P=O[0],F=O[1];!k.template||null==k||null==(t=k.default)||null==(a=t.templateDetails)||!a[null==k?void 0:k.template]||null!=k&&k.templateActions&&k.templateActions.length===(null==k||null==(_=k.default)||null==(b=_.templateDetails)||null==(v=b[null==k?void 0:k.template])||null==(x=v.actions)?void 0:x.length)||(k.templateActions=k.default.templateDetails[k.template].actions.map((function(e){return{action_id:e.action_id,action_type:e.action_type,language:e.language,private_notes:e.private_notes,recipient_countrycode:e.recipient_countrycode,recipient_email:e.recipient_email,recipient_name:e.recipient_name,recipient_phonenumber:e.recipient_phonenumber,in_person_name:e.in_person_name||"",in_person_email:e.in_person_email||"",role:e.role,verify_recipient:e.verify_recipient,verification_type:e.verification_type||""}})),k.notes=k.default.templateDetails[k.template].notes||"");var T=function(e,t,a){S((function(n){var i=(0,c.p$)(n);return"notes"===e?i.notes=a:i.templateActions[e][t]=a,i}))},V=function(){F({show:!1})};return(0,h.jsxs)(h.Fragment,{children:[D&&(0,h.jsx)(d.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),(0,h.jsxs)("div",{className:"flx",children:[(0,h.jsx)("b",{className:"wdt-100",children:(0,m.__)("Templates:","bitform")}),(0,h.jsxs)("select",{className:"btcd-paper-inp w-4",onChange:function(e){return(0,f.Rx)(e,k,S,y,I,Z)},name:"template",value:k.template,children:[(0,h.jsx)("option",{value:"",children:(0,m.__)("Select Template","bitform")}),(null==k||null==(g=k.default)?void 0:g.templates)&&Object.values(k.default.templates).map((function(e){return(0,h.jsx)("option",{value:e.templateId,children:e.templateName},e.templateId)}))]}),(0,h.jsx)("button",{onClick:function(){return(0,f.Zo)(y,k,S,I,Z)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,m.__)("Refresh Sign Templates","bitform")+"'"},type:"button",disabled:D,children:"↻"})]}),(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),(0,h.jsx)("b",{className:"wdt-100",children:(0,m.__)("Recipients:","bitform")}),(0,h.jsx)("button",{onClick:function(){return(0,f.V9)(y,k,S,I,Z)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,m.__)("Refresh Template Details","bitform")+"'"},type:"button",disabled:D,children:"↻"}),null==k||null==(j=k.templateActions)?void 0:j.map((function(e,t){return(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"flx mt-2",children:[(0,h.jsx)("input",{type:"text",value:t+1,readOnly:!0,className:"btcd-paper-inp mr-1",style:{width:40}}),(0,h.jsx)("input",{className:"btcd-paper-inp w-3",type:"text",value:e.role,readOnly:!0})]}),"INPERSONSIGN"===e.action_type&&(0,h.jsxs)("div",{className:"flx mt-2",style:{marginLeft:45},children:[(0,h.jsx)("input",{type:"text",value:"Signer",readOnly:!0,className:"btcd-paper-inp mr-1 mt-4 w-1"}),(0,h.jsxs)("div",{className:"mr-2 w-4",children:[(0,h.jsx)("div",{className:"mb-1",children:(0,m.__)("In Person Email (Optional)","bitform")}),(0,h.jsx)(s.Z,{className:"msl-wrp-options btcd-paper-drpdwn w-10",defaultValue:e.in_person_email,options:C.map((function(e){return{label:e.name,value:"${"+e.key+"}"}})),onChange:function(e){return T(t,"in_person_email",e)},placeholder:(0,m.__)("In Person Email","bitform"),singleSelect:!0,customValue:!0})]}),(0,h.jsxs)("div",{className:"mr-2 w-4",children:[(0,h.jsx)("div",{className:"mb-1",children:(0,m.__)("In Person Name","bitform")}),(0,h.jsx)(s.Z,{className:"msl-wrp-options btcd-paper-drpdwn w-10",defaultValue:e.in_person_name,options:C.map((function(e){return{label:e.name,value:"${"+e.key+"}"}})),onChange:function(e){return T(t,"in_person_name",e)},placeholder:(0,m.__)("In Person Name","bitform"),singleSelect:!0,customValue:!0})]})]}),(0,h.jsxs)("div",{className:"flx mt-2",style:{marginLeft:45},children:["INPERSONSIGN"===e.action_type&&(0,h.jsx)("input",{type:"text",value:"Host",readOnly:!0,className:"btcd-paper-inp mr-1 mt-4 w-1"}),(0,h.jsxs)("div",{className:"mr-2 w-3",children:[(0,h.jsx)("div",{className:"mb-1",children:(0,m.__)("Recipient Email","bitform")}),(0,h.jsx)(s.Z,{className:"msl-wrp-options btcd-paper-drpdwn w-10",defaultValue:e.recipient_email,options:C.map((function(e){return{label:e.name,value:"${"+e.key+"}"}})),onChange:function(e){return T(t,"recipient_email",e)},placeholder:(0,m.__)("Recipient Email","bitform"),singleSelect:!0,customValue:!0})]}),(0,h.jsxs)("div",{className:"mr-2 w-3",children:[(0,h.jsx)("div",{className:"mb-1",children:(0,m.__)("Recipient Name","bitform")}),(0,h.jsx)(s.Z,{className:"msl-wrp-options btcd-paper-drpdwn w-10",defaultValue:e.recipient_name,options:C.map((function(e){return{label:e.name,value:"${"+e.key+"}"}})),onChange:function(e){return T(t,"recipient_name",e)},placeholder:(0,m.__)("Recipient Email","bitform"),singleSelect:!0,customValue:!0})]}),(0,h.jsxs)("div",{className:"mr-2 w-1",children:[(0,h.jsx)("div",{className:"mb-1",children:(0,m.__)("Language","bitform")}),(0,h.jsxs)("select",{onChange:function(e){return T(t,"language",e.target.value)},className:"btcd-paper-inp",value:e.language,children:[(0,h.jsx)("option",{value:"en",children:"English"}),(0,h.jsx)("option",{value:"fr",children:"French"}),(0,h.jsx)("option",{value:"de",children:"German"}),(0,h.jsx)("option",{value:"it",children:"Italian"}),(0,h.jsx)("option",{value:"ja",children:"Japanese"}),(0,h.jsx)("option",{value:"pl",children:"Polish"}),(0,h.jsx)("option",{value:"pt",children:"Portuguese"}),(0,h.jsx)("option",{value:"ru",children:"Russian"}),(0,h.jsx)("option",{value:"es",children:"Spanish"}),(0,h.jsx)("option",{value:"sv",children:"Swedish"})]})]}),(0,h.jsxs)("div",{className:"mr-1 w-2",children:[(0,h.jsx)("div",{className:"mb-1",children:(0,m.__)("Role","bitform")}),(0,h.jsx)("input",{type:"text",value:e.action_type,readOnly:!0,className:"btcd-paper-inp"})]}),(0,h.jsx)("button",{onClick:function(){F({show:"private_notes",indx:t})},className:"icn-btn mr-1 mt-3 tooltip",style:{"--tooltip-txt":"'"+(0,m.__)("Private Note","bitform")+"'"},"aria-label":"Private Message",type:"button",children:(0,h.jsx)(o.Z,{size:"21"})})]})]},e.role)})),(0,h.jsxs)("div",{className:"mt-5",children:[(0,h.jsx)("b",{className:"wdt-100",children:(0,m.__)("Leave a Note:","bitform")}),(0,h.jsx)(u.Z,{id:"body-content",formFields:R,value:k.notes,onChangeHandler:function(e){S((function(t){return(0,n.ZP)(t,(function(t){t.notes=e}))}))}})]}),(0,h.jsxs)(p.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:"Ok",show:"private_notes"===P.show,close:V,action:V,title:(0,m.__)("Private Note","bitform"),children:[(0,h.jsx)("div",{className:"btcd-hr mt-2 mb-2"}),(0,h.jsxs)("select",{className:"btcd-paper-inp w-5",onChange:function(e){return t=e.target.value,void S((function(e){var a=(0,c.p$)(e);return a.templateActions[P.indx].private_notes+=t,a}));var t},children:[(0,h.jsx)("option",{value:"",children:(0,m.__)("Field","bitform")}),C.map((function(e){return"file-up"!==e.type&&(0,h.jsx)("option",{value:"${"+e.key+"}",children:e.name},"ff-zhcrm-"+e.key)}))]}),(0,h.jsx)("textarea",{rows:"5",className:"btcd-paper-inp mt-2",onChange:function(e){return T(P.indx,"private_notes",e.target.value)},value:null==(N=k.templateActions)||null==(w=N[P.indx])?void 0:w.private_notes})]})]})}}}]);