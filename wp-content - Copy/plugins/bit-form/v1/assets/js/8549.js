"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[8549,1756],{80027:(e,t,n)=>{n.d(t,{C:()=>i});var i=[{name:"_bf_current_time",label:"Current Date Time"},{name:"_bf_admin_email",label:"Administrator Email"},{name:"_bf_date_default",label:"Date (default format)"},{name:"_bf_date.m/d/y",label:"Date(mm/dd/yy)"},{name:"_bf_date.d/m/y",label:"Date(dd/mm/yy)"},{name:"_bf_date.y/m/d",label:"Date(Y/m/d)"},{name:"_bf_time",label:"Time"},{name:"_bf_weekday",label:"Weekday"},{name:"_bf_http_referer_url",label:"Referer URL"},{name:"_bf_ip_address",label:"User IP Address"},{name:"_bf_browser_name",label:"Browser Name"},{name:"_bf_operating_system",label:"Operating System"},{name:"_bf_random_digit_num",label:"Random Digit"},{name:"_bf_user_id",label:"User ID"},{name:"_bf_user_first_name",label:"User First Name"},{name:"_bf_user_last_name",label:"User Last Name"},{name:"_bf_user_display_name",label:"User Display Name"},{name:"_bf_user_nice_name",label:"User Nice Name"},{name:"_bf_user_login_name",label:"User Login Name"},{name:"_bf_user_email",label:"User Email"},{name:"_bf_user_url",label:"User URL"},{name:"_bf_current_user_role",label:"Current User Role"},{name:"_bf_author_id",label:"Post Author ID"},{name:"_bf_author_display",label:"Post Author Display Name"},{name:"_bf_author_email",label:"Post Author Email"},{name:"_bf_site_title",label:"Site Title"},{name:"_bf_site_description",label:"Site Description"},{name:"_bf_site_url",label:"Site URL"},{name:"_bf_wp_local_codes",label:"WordPress Locale Code"},{name:"_bf_post_id",label:"Embedded Page / Post ID"},{name:"_bf_post_name",label:"Embedded Page / Post Name"},{name:"_bf_post_title",label:"Embedded Page / Post Title"},{name:"_bf_post_url",label:"Embedded Page / Post URL"},{name:"_bf_post_date",label:"Post Publish Date"},{name:"_bf_post_modified_date",label:"Post Modified Date"},{name:"_bf_query_param()",label:"URL Query Parameter"},{name:"_bf_user_meta_key()",label:"User Meta Key"},{name:"_bf_custom_date_format()",label:"Custom Date Format"}]},30148:(e,t,n)=>{function i(e,t,n,i){void 0===i&&(i=0);var a=Object.getPrototypeOf(e);if(Object.prototype.hasOwnProperty.call(a,t)){var l=Object.getOwnPropertyDescriptor(a,t);Object.defineProperty(e,t,{get:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.get.apply(this,t)},set:function(){for(var e=this[t],a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];l.set.apply(this,r);var o=this[t];return"function"==typeof n&&setTimeout(n.bind(this,e,o),i),o}})}}n.d(t,{D1:()=>i,Ys:()=>l,ve:()=>a});var a=function(e,t){return new Promise((function(n){var i=document.createElement("script");i.src=e,i.onload=function(){n(!0)},i.onerror=function(){n(!1)},i.id=t,document.body.appendChild(i)}))},l=function(e){return document.querySelector(e)}},41116:(e,t,n)=>{n.d(t,{L:()=>o,Z:()=>c});var i,a=n(59496),l=n(55248),r=n(13292),s=n(4637),o=function(){i.reset()};function c(e){var t=e.formID,n=e.attr,o=(0,a.useState)(!0),c=o[0],d=o[1];return(0,a.useEffect)((function(){d(!1),setTimeout((function(){d(!0)}),1)}),[n.theme]),(0,s.jsx)(r.Z,{formID:t,fieldData:n,noLabel:!0,children:(0,s.jsx)("div",{className:"drag btcd-flx j-c-c",style:{minHeight:"inherit"},children:c&&(0,s.jsx)(l.Z,{ref:function(e){return i=e},theme:n.theme,sitekey:n.siteKey||"non"})})})}},13292:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(59496),a=n(4637);function l(e){var t,n,l,r=e.formID,s=e.fieldKey,o=e.fieldData,c=e.children,d=e.noLabel,u=e.isBuilder,f=o.error||"",m=(0,i.useRef)(null);if(f&&m){var p=m.current,h=document.body.getBoundingClientRect(),y=p.getBoundingClientRect().top-h.top;(function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(p)||window.scroll({top:y,behavior:"smooth"})}var b;return(0,a.jsxs)("div",{ref:m,className:"fld-wrp fld-wrp-"+r+" drag "+(u?"o-h":"")+" "+(null!=o&&null!=(t=o.valid)&&t.hide?"vis-n":""),children:[!d&&!(null!=o&&null!=(n=o.valid)&&n.hideLbl)&&"lbl"in o&&(0,a.jsxs)("label",{title:o.lbl,className:"fld-lbl fld-lbl-"+r,htmlFor:s,children:[(b=o.lbl,(b||"").split("$_bf_$").join("\\")),(null==(l=o.valid)?void 0:l.req)&&(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsx)("span",{className:"fld-req-symbol",children:"*"})]})]}),c,(f||(null==o?void 0:o.err))&&(0,a.jsx)("div",{className:"error-wrapper "+(f&&"err-msg"),children:(0,a.jsx)("div",{id:s+"-error",className:"error-txt",children:f})})]})}},73489:(e,t,n)=>{n.d(t,{Z:()=>F});var i=n(59496),a=n(41116),l=n(72564),r=n(21463),s=n(30148),o=n(13292),c=n(4637);function d(e){var t=e.fieldKey,n=e.attr,a=e.onBlurHandler,d=e.resetFieldValue,u=e.formID,f="url"===n.typ?"text":n.typ,m=(0,i.useRef)(null),p=(0,i.useState)(void 0!==n.val?n.val:""),h=p[0],y=p[1];(0,i.useEffect)((function(){void 0===n.val||n.userinput?n.val||n.userinput?n.conditional&&y(n.val):y(""):y(n.val)}),[n.val,n.userinput,n.conditional]),(0,i.useEffect)((function(){d&&y("")}),[d]),(0,i.useEffect)((function(){if(n.hasWorkflow&&n.val===h&&a&&!n.userinput){var e=m.current;a(e)}}),[h]);(0,i.useEffect)((function(){var e=(0,s.Ys)("#"+t);e&&(0,s.D1)(e,"value",(function(e,t){return y("email"===n.typ?t.toLowerCase():t)}))}),[]);return(0,c.jsx)(o.Z,{formID:u,fieldKey:t,fieldData:n,children:(0,c.jsx)("input",(0,l.Z)({id:t,className:"fld fld-"+u,type:f},"req"in n.valid&&{required:n.valid.req},"disabled"in n.valid&&{disabled:n.valid.disabled},"readonly"in n.valid&&{readOnly:n.valid.readonly},"ph"in n&&{placeholder:n.ph},"mn"in n&&{min:n.mn},"mx"in n&&{max:n.mx},"ac"in n&&{autoComplete:n.ac},"name"in n&&{name:n.name},a&&{onInput:a},{onBlur:function(e){(0,r.default)({input:e.target})},value:h,onChange:function(e){var t="email"===n.typ?e.target.value.toLowerCase():e.target.value;y(t)},ref:m}))})}function u(e){var t=e.fieldKey,n=e.attr,a=e.onBlurHandler,d=e.resetFieldValue,u=e.formID,f=(0,i.useState)(n.val),m=f[0],p=f[1],h=(0,i.useRef)(null);(0,i.useEffect)((function(){void 0===n.val||n.userinput?n.val||n.userinput?n.conditional&&p(n.val):p(""):p(n.val)}),[n.val,n.userinput,n.conditional]),(0,i.useEffect)((function(){d&&p("")}),[d]),(0,i.useEffect)((function(){if(n.hasWorkflow&&n.val===m&&a&&!n.userinput){var e=h.current;a(e)}}),[m]);(0,i.useEffect)((function(){var e=(0,s.Ys)("#"+t);e&&(0,s.D1)(e,"value",(function(e,t){return p(t)}))}),[]);return(0,c.jsx)(o.Z,{formID:u,fieldKey:t,fieldData:n,children:(0,c.jsx)("div",{children:(0,c.jsx)("textarea",(0,l.Z)({id:t,className:"fld fld-"+u+" no-drg textarea",style:{height:"calc(100% - 30px)"},ref:h},"ph"in n&&{placeholder:n.ph},"ac"in n&&{autoComplete:n.ac},"req"in n.valid&&{required:n.valid.req},"disabled"in n.valid&&{readOnly:n.valid.disabled},"name"in n&&{name:n.name},a&&{onInput:a},{onBlur:function(e){(0,r.default)({input:e.target})},value:m,onChange:function(e){p(e.target.value)}}))})})}function f(e){var t,n=e.attr,a=e.onBlurHandler,s=e.resetFieldValue,d=e.formID;"val"in n&&n.val&&n.val.length>0?"string"===typeof n.val?t="["===n.val[0]?JSON.parse(n.val):n.val.split(","):Array.isArray(n.val)&&(t=n.val):t=n.opt.filter((function(e){return e.check})).map((function(e){return e.val||e.lbl}));var u=(0,i.useState)(t||[]),f=u[0],m=u[1],p=(0,i.useRef)(null);(0,i.useEffect)((function(){(t&&JSON.stringify(t)!==JSON.stringify(f)&&!n.userinput||n.conditional)&&m(t)}),[n.val,n.userinput,n.conditional,n.opt]),(0,i.useEffect)((function(){s&&m([])}),[s]),(0,i.useEffect)((function(){if(n.hasWorkflow&&JSON.stringify(t)===JSON.stringify(f)&&a&&!n.userinput){var e=p.current;a(e)}}),[f]);var h=function(e){if(!n.valid.disabled){var t=[],i=f.indexOf(e.target.value);e.target.checked&&-1===i?t=[].concat(f,[e.target.value]):!e.target.checked&&i>=0&&(t=f.filter((function(t){return t!==e.target.value}))),(!n.valid.disableOnMax||n.valid.disableOnMax&&t.length<=Number(n.mx))&&m(t),a&&a(e)}},y=function(e){var t=e.target,n=t.name,i=t.form;(0,r.default)({input:{name:n,form:i,value:f.length?f:""}})};return(0,c.jsx)(o.Z,{formID:d,fieldKey:n.name,fieldData:n,children:(0,c.jsx)("div",{className:"no-drg fld fld-"+d+" btcd-ck-con "+(n.round&&"btcd-round"),children:n.opt.map((function(e,t){var i;return(0,c.jsxs)("label",{className:"btcd-ck-wrp btcd-ck-wrp-"+d,children:[(0,c.jsx)("span",{children:e.lbl}),(0,c.jsx)("input",(0,l.Z)({type:"checkbox",ref:p,disabled:n.valid.disabled,readOnly:null==n||null==(i=n.valid)?void 0:i.readonly,defaultValue:e.val||e.lbl},e.req&&{required:!0},"name"in n&&{name:n.name+"[]"},{checked:Array.isArray(f)&&f.indexOf(e.val||e.lbl)>=0,onChange:h,onBlur:y})),(0,c.jsx)("span",{className:"btcd-mrk ck"})]},"opt-"+(t+24))}))})})}function m(e){var t,n,a,s=e.attr,d=e.onBlurHandler,u=e.resetFieldValue,f=e.formID,m=s.valid.checked,p=(0,i.useRef)(null),h=(0,i.useRef)(null),y=s.val||(m?s.msg.checked:s.msg.unchecked),b=(0,i.useState)(y),v=b[0],g=b[1];v===s.msg.unchecked?m=!1:v===s.msg.checked&&(m=!0),(0,i.useEffect)((function(){u&&g(y)}),[u]),(0,i.useEffect)((function(){if(s.hasWorkflow&&d&&!s.userinput){var e=p.current;d(e)}}),[v]);return(0,c.jsx)(o.Z,{formID:f,fieldKey:s.name,fieldData:s,noLabel:!0,children:(0,c.jsx)("div",{className:"no-drg fld fld-"+f+" btcd-ck-con "+(s.round&&"btcd-round"),children:(0,c.jsxs)("label",{className:"btcd-ck-wrp btcd-ck-wrp-"+f,children:[(0,c.jsx)("span",{className:"decision-content",dangerouslySetInnerHTML:{__html:s.lbl||(null==s||null==(t=s.info)?void 0:t.lbl)}}),(0,c.jsx)("input",(0,l.Z)({ref:p,type:"hidden",value:v},"name"in s&&{name:s.name})),(0,c.jsx)("input",(0,l.Z)({style:{height:s.valid.req&&1,width:s.valid.req&&1},type:"checkbox",ref:h,disabled:null==s||null==(n=s.valid)?void 0:n.disabled,readOnly:null==s||null==(a=s.valid)?void 0:a.readonly},s.valid.req&&{required:!0},{checked:m,value:v,onChange:function(e){if(!s.valid.disabled){e.target.checked?g(s.msg.checked):g(s.msg.unchecked);var t=e.target.form;(0,r.default)({input:{name:s.name,form:t,value:e.target.checked?s.msg.checked:s.msg.unchecked}})}}})),(0,c.jsx)("span",{className:"btcd-mrk ck"})]})})})}function p(e){var t,n=e.attr,i=e.formID;return(0,c.jsx)(o.Z,{formID:i,fieldData:n,noLabel:!0,children:(0,c.jsx)("div",{dangerouslySetInnerHTML:{__html:n.content||(null==n||null==(t=n.info)?void 0:t.content)}})})}function h(e){var t=e.attr,n=e.onBlurHandler,a=e.resetFieldValue,s=e.formID,d=(0,i.useState)(t.val||""),u=d[0],f=d[1],m=(0,i.useRef)([]);m.current=t.opt.map((function(e,t){var n;return null!=(n=m.current[t])?n:(0,i.createRef)()})),(0,i.useEffect)((function(){if(t.val&&!t.userinput)f(t.val);else if(t.val||t.userinput)t.conditional&&f(t.val);else{var e;t.opt&&t.opt.forEach((function(t){t.check&&(e=t.lbl)})),f(e||"")}}),[t.val,t.userinput,t.conditional,t.opt]),(0,i.useEffect)((function(){a&&f("")}),[a]),(0,i.useEffect)((function(){if(t.hasWorkflow&&t.val===u&&n&&!t.userinput){var e=m.current.find((function(e){return e.current.checked&&e.current.value===u}));if(e){var i=e.current;n(i)}}}),[u]);var p=function(e){t.valid.disabled||(f(e.target.value),n&&n(e))},h=Math.random(),y=function(e){var t=e.target,n=t.name,i=t.form;(0,r.default)({input:{name:n,form:i,value:u}})};return(0,c.jsx)(o.Z,{formID:s,fieldKey:t.name,fieldData:t,children:(0,c.jsx)("div",{className:"no-drg fld fld-"+s+" btcd-ck-con "+(t.round&&"btcd-round"),children:t.opt.map((function(e,n){return(0,c.jsxs)("label",{className:"btcd-ck-wrp btcd-ck-wrp-"+s,children:[(0,c.jsx)("span",{children:e.lbl}),(0,c.jsx)("input",(0,l.Z)({type:"radio",ref:m.current[n],name:h,value:e.val||e.lbl},e.check&&{checked:!0},t.valid.req&&{required:!0},"name"in t&&{name:t.name},{checked:u===(e.val||e.lbl)},"readonly"in t.valid&&{readOnly:t.valid.readonly},{onChange:p,onBlur:y})),(0,c.jsx)("span",{className:"btcd-mrk rdo"})]},"opr-"+(n+22))}))})})}var y=n(83428);n(69306);function b(e){var t,n=e.attr,a=e.onBlurHandler,r=e.resetFieldValue,s=e.formID,d=e.isBuilder;"val"in n&&n.val&&n.val.length>0?"string"===typeof n.val?t="["===n.val[0]?JSON.parse(n.val):n.val.split(","):Array.isArray(n.val)&&(t=n.val.length>0?n.val.filter((function(e){return e})):[]):t=[];var u=(0,i.useState)(t||[]),f=u[0],m=u[1];(0,i.useEffect)((function(){d||!t||n.userinput||JSON.stringify(f)===JSON.stringify(t)?t&&n.conditional&&m(t):m(t)}),[n.val,n.userinput,n.conditional,t,f]),(0,i.useEffect)((function(){r&&m([])}),[r]),(0,i.useEffect)((function(){if(n.hasWorkflow&&JSON.stringify(t)===JSON.stringify(f)&&a&&!n.userinput){var e={name:"mul"in n?""+n.name:n.name,value:f,type:"dropdown",multiple:"mul"in n&&n.mul};a(e)}}),[f]);return(0,c.jsx)(o.Z,{formID:s,fieldKey:n.name,fieldData:n,children:(0,c.jsx)(y.Z,(0,l.Z)({className:"fld fld-"+s+" dpd no-drg"},"req"in n.valid&&{required:n.valid.req},"disabled"in n.valid&&{disabled:n.valid.disabled},"ph"in n&&{placeholder:n.ph},"name"in n&&{name:"mul"in n?""+n.name:n.name},{singleSelect:!n.mul,customValue:n.customOpt,options:function(){var e=[];return n.opt.map((function(t){if(t.lbl)e.push({label:t.lbl,value:t.lbl}),t.prefix_img&&e.push((0,l.Z)({},t,{title:t.label||t.lbl,label:(0,c.jsxs)("div",{children:[(0,c.jsx)("img",{src:"http://bitcode.io/wp-content/plugins/BitForm/static/countries/af.png",alt:""}),t.label||t.lbl]})}));else if(t.prefix_img){var n="";n="undefined"===typeof bits&&"undefined"!==typeof bitFormsFront?bitFormsFront.assetUrl:bits.assetsURL,e.push((0,l.Z)({},t,{title:t.label||t.lbl,label:(0,c.jsxs)("div",{className:"btcd-flx",children:[(0,c.jsx)("img",{className:"dpd-prefix",src:""+n+t.prefix_img,alt:t.label}),t.label||t.lbl]})}))}else e.push(t)})),e}(),onChange:function(e){var t=[];if(e&&e.target&&e.target.multiple&&f){var i=[];e.target.childNodes.forEach((function(e){e.selected&&e.value&&i.push(e.value)})),t=[].concat(i)}else{if(a){var l={name:"mul"in n?""+n.name:n.name,value:e.split(","),type:"dropdown",multiple:"mul"in n&&n.mul,userinput:!0};a(l)}t=e.split(",")}(!n.valid.disableOnMax||n.valid.disableOnMax&&t.length<=Number(n.mx))&&m(t)},defaultValue:f}))})}const v=(0,i.memo)(b);var g=n(82661);function x(e){var t=e.attr,n=e.formID,a=e.entryID,r=e.resetFieldValue,s=(0,i.createRef)(),d=(0,i.useState)(void 0!==t.val&&JSON.parse(t.val)),u=d[0],f=d[1];(0,i.useEffect)((function(){if(r){var e=document.getElementsByName("mul"in t?t.name+"[]":t.name)[0];e.value=null,e.nextElementSibling.innerHTML="",e.previousElementSibling.children[1].innerHTML="No File Chosen"}}),[r]);return(0,c.jsx)(o.Z,{formID:n,fieldKey:t.name,fieldData:t,children:(0,c.jsx)("div",{className:"btcd-f-input",children:(0,c.jsxs)("div",{className:"btcd-f-wrp",children:[(0,c.jsxs)("div",{className:"btn-wrp",children:[(0,c.jsxs)("button",{className:"btcd-inpBtn",type:"button",children:[(0,c.jsx)("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",children:(0,c.jsx)("path",{d:"M13.5 7.5l-5.757 5.757a4.243 4.243 0 01-6-6l5.929-5.929a2.828 2.828 0 014 4l-5.758 5.758a1.414 1.414 0 01-2-2L9.5 3.5",stroke:"currentColor"})}),(0,c.jsx)("span",{children:" "+t.upBtnTxt})]}),(0,c.jsx)("div",{className:"btcd-f-title",children:"No File Chosen"}),(0,c.jsx)("small",{className:"f-max",children:"mxUp"in t&&" (Max "+t.mxUp+" "+(t.unit||"MB")+")"})]}),(0,c.jsx)("input",(0,l.Z)({},"req"in t.valid&&{required:t.valid.req},"disabled"in t.valid&&{disabled:t.valid.disabled},"mul"in t&&{multiple:!0},"exts"in t&&{accept:t.exts},"name"in t&&{name:"mul"in t?t.name+"[]":t.name},{type:"file",onClick:g.setPrevData,onChange:function(e){return function(e){if((0,g.handleFile)(e),e.target.files.length)for(var t=0;t<s.current.children.length;t+=1)s.current.children[t].children[2].addEventListener("click",(function(e){(0,g.delItem)(e.target)}))}(e)}})),void 0!==t.val&&(0,c.jsxs)("div",{className:"btcd-old-file",children:[(0,c.jsx)("input",{type:"hidden",name:t.name+"_old",value:u.toString()}),!1!==u&&0!==u.length&&(0,c.jsx)("div",{className:"mt-2",children:(0,c.jsxs)("small",{children:[u.length," ","Old File"]})}),u.map((function(e,t){return(0,c.jsxs)("div",{className:"flx ",children:[(0,c.jsxs)("a",{href:"undefined"!==typeof bits?bits.baseDLURL+"formID="+n+"&entryID="+a+"&fileID="+e:"",target:"_blank",rel:"noopener noreferrer",children:[(0,c.jsx)("span",{className:"btcd-icn icn-file"})," ",e]}),(0,c.jsx)("button",{onClick:function(){return function(e){var t=[].concat(u);t.splice(e,1),f(t)}(t)},type:"button",className:"icn-btn",children:"×"})]},"ol-f-"+(t+3))}))]}),(0,c.jsx)("div",{ref:s,className:"btcd-files"})]})})})}function j(e){var t=e.attr;return(0,c.jsxs)("div",{className:"fld-wrp drag","btcd-fld":"text-fld",children:["lbl"in t&&(0,c.jsx)("label",{className:"fld-lbl",children:t.lbl}),(0,c.jsx)("input",(0,l.Z)({className:"fld no-drg",type:t.typ},"req"in t.valid&&{required:t.valid.req},"ph"in t&&{placeholder:t.ph},"mn"in t&&{min:t.mn},"mx"in t&&{max:t.mx},"val"in t&&{defaultValue:t.val},"val"in t&&"userinput"in t&&t.userinput&&{value:t.val},"ac"in t&&{autoComplete:t.ac},"name"in t&&{name:t.name}))]})}var N=n(65105);function M(e){var t=e.attr,n=e.buttonDisabled,i=e.handleReset,a=e.formID;return(0,c.jsx)("div",{className:"fld-wrp fld-wrp-"+a,"btcd-fld":"submit",children:(0,c.jsxs)("div",{className:"btcd-frm-sub "+("center"===t.align&&"j-c-c")+" "+("right"===t.align&&"j-c-e"),children:[(0,c.jsxs)("button",{className:"btcd-sub-btn btcd-sub "+("md"===t.btnSiz&&"btcd-btn-md")+" "+(t.fulW&&"ful-w"),disabled:n,type:"submit",children:[t.subBtnTxt,n&&(0,c.jsx)(N.Z,{clr:"currentColor",size:12,style:{display:"inline-block",marginLeft:5}})]}),"rstBtnTxt"in t&&(0,c.jsx)("button",(0,l.Z)({className:"btcd-sub-btn btcd-rst "+("md"===t.btnSiz&&"btcd-btn-md")+" "+(t.fulW&&"ful-w"),type:"button"},i&&{onClick:i},{children:t.rstBtnTxt}))]})})}function I(e){var t,n=e.attr,i=e.buttonDisabled,a=e.handleReset,r=e.formID;e.data;return(0,c.jsx)(o.Z,{formID:r,fieldData:n,noLabel:!0,children:(0,c.jsx)("div",{className:"btcd-frm-sub "+("center"===n.align&&"j-c-c")+" "+("right"===n.align&&"j-c-e"),children:(0,c.jsxs)("button",(0,l.Z)({className:"btcd-sub-btn "+("reset"===n.btnTyp?"btcd-rst":"btcd-sub")+" "+("md"===n.btnSiz&&"btcd-btn-md")+" "+(n.fulW&&"ful-w"),disabled:i||(null==n||null==(t=n.valid)?void 0:t.disabled),type:n.btnTyp},"reset"===n.btnTyp&&{onClick:a},{children:[n.txt,i&&(0,c.jsx)(N.Z,{clr:"currentColor",size:12,style:{display:"inline-block",marginLeft:5}})]}))})})}var D=n(24662),_=n(8850),w=n(10995),C=n.n(w);function L(e,t){return T.apply(this,arguments)}function T(){return(T=(0,_.Z)(C().mark((function e(t,n){var i,a,l,s,o,c,d,u,f;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,r.default)({form:t})){e.next=2;break}return e.abrupt("return",new Promise((function(e,t){t(new Error("Form is not valid"))})));case 2:if((i=document.getElementById(t)).classList.add("pos-rel","form-loading"),a=new FormData(document.getElementById("form-"+t)),l=window,s=l.bitFormsFront,o=l.grecaptcha,"v3"!==(null==s?void 0:s.gRecaptchaVersion)||null==s||!s.gRecaptchaSiteKey){e.next=11;break}return e.next=9,o.execute(null==s?void 0:s.gRecaptchaSiteKey,{action:"submit"});case 9:c=e.sent,a.append("g-recaptcha-response",c);case 11:return(d=new URL(s.ajaxURL)).searchParams.append("action","bitforms_before_submit_validate"),e.next=15,fetch(d,{method:"POST",body:a});case 15:return u=e.sent,e.next=18,u.json();case 18:if(f=e.sent,i.classList.remove("pos-rel","form-loading"),f.success){e.next=23;break}return n(f),e.abrupt("return",new Promise((function(e,t){t(new Error("Form is not valid"))})));case 23:return e.abrupt("return",new Promise((function(e){e(!0)})));case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=n(64870);function S(e,t,n,i){return A.apply(this,arguments)}function A(){return(A=(0,_.Z)(C().mark((function e(t,n,i,a){var l,r,s,o,c;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===i&&(i=null),void 0===a&&(a=null),bitFormsFront){e.next=4;break}return e.abrupt("return",!1);case 4:if((s=new URL(null==(l=bitFormsFront)?void 0:l.ajaxURL)).searchParams.append("action",n),s.searchParams.append("_ajax_nonce",null==(r=bitFormsFront)?void 0:r.nonce),a)for(o in a)o&&s.searchParams.append(o,a[o]);return e.next=10,fetch(s,{method:"POST",headers:{"Content-Type":null===i?"application/x-www-form-urlencoded":i},body:t instanceof FormData?t:JSON.stringify(t)}).then((function(e){return e.json()}));case 10:return c=e.sent,e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const z=function(e){var t=e.fieldKey,n=e.formID,a=e.attr,l=e.contentID,d=e.resetFieldValue,u=e.isBuilder,f=e.handleFormValidationErrorMessages,m=(0,i.useContext)(k.d),p=(0,i.useState)(""),h=p[0],y=p[1],b=(0,i.useState)(!1),v=b[0],g=b[1],x=(0,i.useState)((null==a?void 0:a.amount)||1),j=x[0],N=x[1],M=(0,i.useState)((null==a?void 0:a.shipping)||0),I=M[0],_=M[1],w=(0,i.useState)((null==a?void 0:a.tax)||0),C=w[0],T=w[1],A=(0,i.useState)((null==a?void 0:a.description)||""),z=A[0],E=A[1],O=a.currency,F="subscription"===a.payType,Z="standalone"===a.style.layout,R=function(e){var t={amountFld:[N],shippingFld:[_],taxFld:[T],descFld:[E]};return Object.entries(t).map((function(n){if(null!=a&&a[n[0]]){var i,l=a[n[0]],r=(0,s.Ys)('[name="'+l+'"]');if("radio"===(null==(i=r)?void 0:i.type)&&(r=(0,s.Ys)('[name="'+l+'"]:checked')),r){var o=r.value;e&&n[1][0](o),t[n[0]][1]=o}}})),t};return(0,i.useEffect)((function(){var e,t,n="";"undefined"!==typeof bitFormsFront&&(n=atob((null==(e=bitFormsFront)||null==(t=e.paymentKeys)?void 0:t.paypalKey)||""));if(!n&&"undefined"!==typeof bits){var i,l=null==m||null==(i=m.payments)?void 0:i.find((function(e){return e.id&&a.payIntegID&&Number(e.id)===Number(a.payIntegID)}));l&&(n=l.clientID)}y(n),R(1)}),[a.payIntegID]),(0,i.useEffect)((function(){if(d){var e=document.getElementById("paypalfield");e&&e.remove()}}),[d]),(0,i.useEffect)((function(){g(!1),setTimeout((function(){g(!0)}),1)}),[h,a.currency,a.payType,a.locale,a.disableFunding]),(0,c.jsx)(o.Z,{formID:n,fieldData:a,noLabel:!0,isBuilder:u,children:(0,c.jsxs)("div",{style:{width:"auto",minWidth:150,maxWidth:750,marginLeft:"auto",marginRight:"auto"},children:[v&&h&&(0,c.jsx)(D.Vv,{options:function(){var e={"client-id":h};return F||(e.currency=O),F&&(e.vault=!0,e.intent="subscription"),a.locale&&(e.locale=a.locale),a.disableFunding&&(e["disable-funding"]=a.disableFunding),e}(),children:(0,c.jsx)(D.ch,{style:function(){var e,t={color:a.style.color,shape:a.style.shape,label:F?"subscribe":a.style.label};return Z||(t.layout=a.style.layout),null!=(e=a.style)&&e.height&&(t.height=Number(a.style.height)),t}(),fundingSource:Z?D.KT[a.style.payBtn]:void 0,createSubscription:F?function(e,t){return function(e,t){if(!(0,r.default)({form:l}))throw new Error("form validation is failed!");return t.subscription.create({plan_id:null==a?void 0:a.planId})}(0,t)}:void 0,createOrder:F?void 0:function(e,t){return function(e,t){var n=R(),i=1*Number(n.amountFld[1]||j).toFixed(2),l=1*Number(n.shippingFld[1]||I).toFixed(2),r=1*(Number(n.taxFld[1]||C)*i/100).toFixed(2),s=1*(i+l+r).toFixed(2);return t.order.create({purchase_units:[{description:n.descFld[1]||z,amount:{currency_code:a.currency,value:s,breakdown:{item_total:{currency_code:a.currency,value:i},shipping:{currency_code:a.currency,value:l},tax_total:{currency_code:a.currency,value:r}}}}]})}(0,t)},onClick:function(){return L(l,f).then((function(){return!0})).catch((function(){return!1}))},onApprove:function(e,i){return function(e,i){var a=document.getElementById(""+l);a.classList.add("pos-rel","form-loading"),(F?i.subscription.get():i.order.capture()).then((function(e){var i=document.getElementById("form-"+l);if("undefined"!==typeof i&&null!==i){var r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name",t),r.setAttribute("id","paypalfield"),r.setAttribute("value",e.id),i.appendChild(r);var s=i.querySelector('button[type="submit"]');s||((s=document.createElement("input")).setAttribute("type","submit"),s.style.display="none",i.appendChild(s)),s.click(),S({formID:n,transactionID:e.id,payment_name:"paypal",payment_type:F?"subscription":"order",payment_response:e},"bitforms_payment_insert").then((function(){return a.classList.remove("pos-rel","form-loading")}))}}))}(0,i)},forceReRender:[j,a.style],onError:function(){}})}),!a.payIntegID&&(0,c.jsx)("p",{children:"Select a config from field settings to render the PayPal."})]})})};function E(e){var t=e.fieldKey,n=e.contentID,a=e.formID,l=e.attr,r=e.buttonDisabled,d=e.resetFieldValue,u=(e.isFrontend,e.handleFormValidationErrorMessages),f=(0,i.useContext)(k.d),m=(0,i.useState)(""),p=m[0],h=m[1],y=(0,i.useState)(l.options.amount||1),b=y[0],v=y[1],g=(0,i.useState)(""),x=g[0],j=g[1],N=(0,i.useState)(""),M=N[0],I=N[1],D=(0,i.useState)(""),w=D[0],T=D[1],A="subscription"===l.payType;(0,i.useEffect)((function(){v(l.options.amount)}),[l.options.amount]),(0,i.useEffect)((function(){z(),E(1)}),[]),(0,i.useEffect)((function(){var e,t,n="";if("undefined"!==typeof bitFormsFront)n=atob((null==(e=bitFormsFront)||null==(t=e.paymentKeys)?void 0:t.razorpayKey)||"");else if("undefined"!==typeof bits){var i,a=null==f||null==(i=f.payments)?void 0:i.find((function(e){return e.id&&l.options.payIntegID&&Number(e.id)===Number(l.options.payIntegID)}));if(!a)return!1;n=a.apiKey}h(n)}),[l.options.payIntegID]),(0,i.useEffect)((function(){if(d){var e=document.getElementById("razorpayfield");e&&e.remove()}}),[d]);var z=function(){var e=(0,_.Z)(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.getElementById("razorpaysrc")){e.next=5;break}return e.next=3,(0,s.ve)("https://checkout.razorpay.com/v1/checkout.js","razorpaysrc");case 3:e.sent||z();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){var t={amountFld:[v],prefillNameFld:[j,"prefill"],prefillEmailFld:[I,"prefill"],prefillContactFld:[T,"prefill"]};return Object.entries(t).map((function(n){var i=n[1][1]?l.options[n[1][1]][n[0]]:l.options[n[0]];if(i){var a,r=(0,s.Ys)('[name="'+i+'"]');if("radio"===(null==(a=r)?void 0:a.type)&&(r=(0,s.Ys)('[name="'+i+'"]:checked')),r){var o=r.value;e&&n[1][0](o),n[1][1]?t[n[0]][2]=o:t[n[0]][1]=o}}})),t},O=function(e){var i=document.getElementById(""+n);i.classList.add("pos-rel","form-loading");var l=document.getElementById("form-"+n);if("undefined"!==typeof l&&null!==l){var r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name",t),r.setAttribute("id","razorpayfield"),r.setAttribute("value",e.razorpay_payment_id),l.appendChild(r);var s=l.querySelector('button[type="submit"]');s||((s=document.createElement("input")).setAttribute("type","submit"),s.style.display="none",l.appendChild(s)),s.click(),S({formID:a,fieldKey:t,transactionID:e.razorpay_payment_id,payment_type:A?"subscription":"order"},"bitforms_save_razorpay_details").then((function(e){return i.classList.remove("pos-rel","form-loading")}))}};return(0,c.jsxs)(o.Z,{formID:a,fieldData:l,noLabel:!0,children:[p&&(0,c.jsx)("div",{className:"btcd-frm-sub "+("center"===l.align&&"j-c-c")+" "+("right"===l.align&&"j-c-e"),children:(0,c.jsx)("button",{className:"btcd-sub-btn btcd-sub "+("md"===l.btnSiz&&"btcd-btn-md")+" "+(l.fulW&&"ful-w"),disabled:r,type:"button",onClick:function(){var e=E(),t=l.options,i=t.currency,a=t.name,r=t.description,s=t.theme,o=t.modal,c=t.notes,d=o.confirm_close,f={key:p,amount:100*Number(e.amountFld[1]||b),currency:i,name:a,description:r,theme:s,notes:c,modal:{backdropclose:!1,escape:!1,confirm_close:d},prefill:{name:e.prefillNameFld[2]||x,email:e.prefillEmailFld[2]||M,contact:e.prefillContactFld[2]||w},handler:function(){var e=(0,_.Z)(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};L(n,u).then((function(){new window.Razorpay(f).open()})).catch((function(){return!1}))},children:l.btnTxt})}),!l.options.payIntegID&&(0,c.jsx)("p",{children:"Select a config from field settings to render the Razorpay."})]})}function O(e){var t;switch(null==e||null==(t=e.atts)?void 0:t.typ){case"text":case"number":case"password":case"username":case"email":case"url":case"date":case"datetime-local":case"time":case"month":case"week":case"color":return(0,c.jsx)(d,{fieldKey:e.fieldKey,formID:e.formID,attr:e.atts,onBlurHandler:e.onBlurHandler,resetFieldValue:e.resetFieldValue});case"textarea":return(0,c.jsx)(u,{fieldKey:e.fieldKey,formID:e.formID,attr:e.atts,onBlurHandler:e.onBlurHandler,resetFieldValue:e.resetFieldValue});case"check":return(0,c.jsx)(f,{formID:e.formID,attr:e.atts,onBlurHandler:e.onBlurHandler,resetFieldValue:e.resetFieldValue});case"radio":return(0,c.jsx)(h,{formID:e.formID,attr:e.atts,onBlurHandler:e.onBlurHandler,resetFieldValue:e.resetFieldValue});case"select":return(0,c.jsx)(v,{isBuilder:e.isBuilder,formID:e.formID,attr:e.atts,onBlurHandler:e.onBlurHandler,resetFieldValue:e.resetFieldValue});case"file-up":return(0,c.jsx)(x,{formID:e.formID,attr:e.atts,entryID:e.entryID,resetFieldValue:e.resetFieldValue});case"submit":return(0,c.jsx)(M,{formID:e.formID,attr:e.atts,buttonDisabled:e.buttonDisabled,handleReset:e.handleReset});case"hidden":return(0,c.jsx)(j,{formID:e.formID,attr:e.atts});case"recaptcha":return(0,c.jsx)(a.Z,{formID:e.formID,attr:e.atts});case"decision-box":return(0,c.jsx)(m,{formID:e.formID,attr:e.atts,fieldData:e.fieldData,onBlurHandler:e.onBlurHandler,resetFieldValue:e.resetFieldValue});case"html":return(0,c.jsx)(p,{formID:e.formID,attr:e.atts,fieldData:e.fieldData,resetFieldValue:e.resetFieldValue});case"button":return(0,c.jsx)(I,{formID:e.formID,attr:e.atts,fieldData:e.fieldData,buttonDisabled:e.buttonDisabled,handleReset:e.handleReset});case"paypal":return(0,c.jsx)(z,{isBuilder:e.isBuilder,fieldKey:e.fieldKey,formID:e.formID,attr:e.atts,contentID:e.contentID,fieldData:e.fieldData,resetFieldValue:e.resetFieldValue,handleFormValidationErrorMessages:e.handleFormValidationErrorMessages});case"razorpay":return(0,c.jsx)(E,{fieldKey:e.fieldKey,contentID:e.contentID,formID:e.formID,attr:e.atts,buttonDisabled:e.buttonDisabled,resetFieldValue:e.resetFieldValue,handleFormValidationErrorMessages:e.handleFormValidationErrorMessages});case"blank":return(0,c.jsx)("div",{className:"blnk-blk drag"})}return(0,c.jsx)("div",{children:"Loading"})}const F=(0,i.memo)(O)},91286:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(4637);const a=function(e){var t=e.className,n=e.type,a=e.onClick,l=e.icn,r=e.disabled,s=e.children,o=e.style;return(0,i.jsx)("button",{style:o,className:(l?"icn-btn":"btn")+"  "+t,type:n||"button",onClick:a,"aria-label":"btcd-button",disabled:r,children:s})}},5736:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(59496),a=n(83428),l=(n(69306),n(4637));const r=function(e){var t=e.options,n=e.placeholder,r=e.action,s=e.className,o=e.isMultiple,c=e.allowCustomOpt,d=e.value,u=e.addable,f=e.titleClassName,m=e.title,p=e.jsonValue,h=(0,i.useState)(d),y=h[0],b=h[1];return(0,i.useEffect)((function(){b(""),setTimeout((function(){b(d)}),1)}),[d,t,p]),(0,l.jsxs)("div",{className:""+f,children:[(0,l.jsx)("span",{children:m}),(0,l.jsx)(a.Z,{width:"100%",defaultValue:y,className:"btcd-paper-drpdwn msl-wrp-options "+s,onChange:r,singleSelect:!o,customValue:c||u,placeholder:n,jsonValue:p,options:t||[]})]})}},61933:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(66399),a=n(4637);const l=function(e){var t=e.logic,n=e.nested,l=e.onChange,r=e.className,s=void 0===r?null:r;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{style:{height:n?5:10},children:(0,a.jsx)("svg",{height:"60",width:"50",children:(0,a.jsx)("line",{x1:"20",y1:n?6:10,x2:"20",y2:"0",style:{stroke:"#b9c5ff",strokeWidth:1}})})}),(0,a.jsx)("div",{children:(0,a.jsxs)("select",{value:t,onChange:l,className:"btcd-logic-chip "+s+" "+(n&&"scl-7 op-8"),children:[(0,a.jsx)("option",{value:"or",children:(0,i.__)("OR","bitform")}),(0,a.jsx)("option",{value:"and",children:(0,i.__)("AND","bitform")})]})}),(0,a.jsx)("div",{style:{height:n?5:10},children:(0,a.jsx)("svg",{height:"60",width:"50",children:(0,a.jsx)("line",{x1:"20",y1:n?6:10,x2:"20",y2:"0",style:{stroke:"#b9c5ff",strokeWidth:1}})})})]})}},84048:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(4637);const a=function(e){var t=e.label,n=e.onChange,a=e.value,l=e.disabled,r=e.type,s=e.textarea,o=e.className;return(0,i.jsxs)("label",{className:"btcd-mt-inp "+o,children:[!s&&(0,i.jsx)("input",{type:void 0===r?"text":r,onChange:n,placeholder:" ",disabled:l,value:a}),s&&(0,i.jsx)("textarea",{type:void 0===r?"text":r,onChange:n,placeholder:" ",disabled:l,value:a}),(0,i.jsx)("span",{children:t})]})}},38467:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(4637);const a=function(e){var t=e.className,n=e.onChange,a=e.value,l=e.label,r=e.children,s=e.style;return(0,i.jsxs)("div",{className:"btcd-mt-sel "+t,style:s,children:[(0,i.jsx)("select",{onChange:n,value:a||"",children:r}),(0,i.jsx)("small",{children:l})]})}},7974:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(8850),a=n(10995),l=n.n(a),r=n(59496),s=n(30148),o=n(66399),c=n(80027),d=n(4637);function u(e){var t=e.formFields,n=e.id,a=e.value,u=e.onChangeHandler,f=e.toolbarMnu,m=e.menubar,p=e.height,h=e.width,y=e.disabled,b=e.plugins,v=(0,r.useState)(0),g=v[0],x=v[1];(0,r.useEffect)((function(){j()}),[]);var j=function(){var e=(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof tinymce){e.next=6;break}return e.next=3,(0,s.ve)("https://cdnjs.cloudflare.com/ajax/libs/tinymce/4.9.11/tinymce.min.js","tinymceCDN");case 3:e.sent||j(),x(1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){var e;"undefined"===typeof tinymce||y?document.getElementById(n+"-settings").value=a||"":(tinymce.remove("textarea#"+n+"-settings"),N(),null==(e=tinymce.get(n+"-settings"))||e.setContent(a||""))}),[t,n,y,g]);var N=function(){"undefined"!==typeof tinymce&&tinymce.init({selector:"textarea#"+n+"-settings",menubar:m,height:p||150,width:h||"100%",branding:!1,resize:"verticle",convert_urls:!1,theme:"modern",plugins:b||"directionality fullscreen image link media charmap hr lists textcolor colorpicker "+(g?"":"wordpress"),toolbar:f||"formatselect | fontsizeselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat toogleCode wp_code | addFormField | addSmartField",image_advtab:!0,default_link_target:"_blank",setup:function(e){e.on("Paste Change input Undo Redo",(function(){u(e.getContent())})),t&&e.addButton("addFormField",{text:"Form Fields ",tooltip:"Add Form Field Value in Message",type:"menubutton",icon:!1,menu:null==t?void 0:t.map((function(t){return!t.type.match(/^(file-up|recaptcha)$/)&&{text:t.name,onClick:function(){e.insertContent("${"+t.key+"}")}}}))}),c.C&&e.addButton("addSmartField",{text:"Smart Tag Fields",tooltip:"Add Smart Tag Field Value in Message",type:"menubutton",icon:!1,menu:null==c.C?void 0:c.C.map((function(t){return{text:t.label,onClick:function(){e.insertContent("${"+t.name+"}")}}}))}),e.addButton("toogleCode",{text:"</>",tooltip:(0,o.__)("Toggle preview","bitform"),icon:!1,onclick:function(t){var i=t.control.$,a=i("#"+n+"-settings"),l=i(e.iframeElement);a.value=e.getContent({source_view:!0}),l.toggleClass("btcd-mce-tinymce-hidden"),a.toggleClass("btcd-mce-tinymce-visible"),i("iframe.btcd-mce-tinymce-hidden").length>0?a.prependTo(".mce-edit-area"):e.setContent(document.getElementById(n+"-settings").value)}})}})};return(0,d.jsx)("textarea",{id:n+"-settings",className:"btcd-paper-inp mt-1 w-10",rows:"5",value:a,onChange:function(e){return u(e.target.value)},style:{width:"95.5%",height:"auto"},disabled:y})}},68405:(e,t,n)=>{n.r(t),n.d(t,{default:()=>De});var i=n(72564),a=n(59496),l=n(83442),r=n(48291),s=n(18846),o=n(93785),c=n(20859),d=n(41116),u=n(73489),f=n(30148),m=n(27804),p=function e(t,n){if(Array.isArray(t)){for(var i=!1,a=0;a<t.length;a+=1){var l=t[a];if("string"!==typeof l){var r=e(l,n);if(0===a&&(i=r),a-1>=0&&"string"===typeof t[a-1])switch(t[a-1].toLowerCase()){case"or":i=i||r;break;case"and":i=i&&r}}}return i}if(void 0===n[t.field])return!1;var s=h(t.val,n),o=n[t.field].value;"number"===typeof s&&(o=parseInt(o,10));var c=o;switch(t.logic){case"equal":if(!n[t.field].value)return!1;if(void 0!==n[t.field].multiple&&n[t.field].multiple||"check"===c||Array.isArray(c)){var d=Array.isArray(c)?c:JSON.parse(c),u=s.split(","),f=0;return d.forEach((function(e){d.length>0&&-1!==u.indexOf(e)&&(f+=1)})),f===u.length&&u.length===d.length}return c===s;case"not_equal":if(!c)return!1;if(void 0!==n[t.field].multiple&&n[t.field].multiple||"check"===c||Array.isArray(c)){var m=Array.isArray(c)?c:JSON.parse(c),p=s.split(",");if(m.length!==p.length)return!0;var y=0;return p.forEach((function(e){m.length>0&&-1===m.indexOf(e)&&(y+=1)})),p.length===y}return c!==s;case"null":return 0===c.length;case"not_null":return c&&c.length>0;case"contain":if(!c)return!1;var b=s.split(","),v=0;if(void 0!==n[t.field].multiple&&n[t.field].multiple||"check"===c||Array.isArray(c)){var g=Array.isArray(c)?c:JSON.parse(c);return b.forEach((function(e){g.length>0&&-1!==g.indexOf(e)&&(v+=1)})),v>0}return b.forEach((function(e){c.length>0&&-1!==c.indexOf(e)&&(v+=1)})),v>0;case"contain_all":if(!c)return!1;var x=s.split(","),j=0;if(void 0!==n[t.field].multiple&&n[t.field].multiple||"check"===c||Array.isArray(c)){var N=Array.isArray(c)?c:JSON.parse(c);return x.forEach((function(e){N.length>0&&-1!==N.indexOf(e)&&(j+=1)})),j>=x.length}break;case"not_contain":if(!c)return!1;var M=s.split(","),I=0;if(void 0!==n[t.field].multiple&&n[t.field].multiple||"check"===c||Array.isArray(c)){var D=Array.isArray(c)?c:JSON.parse(c);return M.forEach((function(e){D.length>0&&-1===D.indexOf(e)&&(I+=1)})),I===M.length}return M.forEach((function(e){c.length>0&&-1===c.indexOf(e)&&(I+=1)})),I===M.length;case"greater":return!!c&&("number"===n[t.field].type?""!==c&&Number(c)>Number(s):""!==c&&c>s);case"less":return!!c&&("number"===n[t.field].type?""!==c&&Number(c)<Number(s):""!==c&&c<s);case"greater_or_equal":return!!c&&("number"===n[t.field].type?""!==c&&Number(c)>=Number(s):""!==c&&c>=s);case"less_or_equal":return!!c&&("number"===n[t.field].type?""!==c&&Number(c)<=Number(s):""!==c&&c<=s);case"start_with":return!!c&&(""!==c&&0===c.indexOf(s));case"end_with":return!!c&&s===c.substr(c.length-s.length,c.length);default:return!1}},h=function(e,t){if(!e)return e;var n;if("string"!==typeof(n="object"===typeof e?JSON.stringify(e):(0,m.p$)(e)))return e;var i=n.match(/\${\w[^${}]*}/g);return i&&i.map((function(e){var i=e.substring(2,e.length-1);if(t[i]){var a=t[i].value;Array.isArray(t[i].value)&&!isNaN(t[i].value[0])&&(a=0,t[i].value.map((function(e){a+=Number(e)}))),n=n.replace(e,a)}})),y(n)},y=function(e){if(!e)return e;var t=e,n=e.match(/[\\+\-\\*\\/\\%]/g);if(n&&n.length>0){var i=e.match(/\w+/g);if(!i)return e;var a=i.filter((function(e){return isNaN(e)}));if(a&&a.length>0)return t;t=(t=t.replace(/\{|\[/g,"(")).replace(/\}|\]/g,")");try{t=Function('"use strict";return ('+t+")")()}catch(l){return e}}return t},b=n(21463),v=n(4637),g=function(e,t){return(0,i.Z)({},e,t)};function x(e){var t=(0,a.useState)(!1),n=t[0],i=t[1],l=(0,a.useState)(null),r=l[0],s=l[1],o=(0,a.useState)(!1),c=o[0],y=o[1],x=(0,a.useReducer)(g,e.data),N=x[0],M=x[1],I=(0,a.useState)(e.layout)[0],D=(0,a.useState)(!1),_=D[0],w=D[1],C=(0,a.useState)(!1),L=C[0],T=C[1],k=0;(0,a.useEffect)((function(){!e.editMode&&"v3"===e.gRecaptchaVersion&&e.gRecaptchaSiteKey&&(0,f.ve)("https://www.google.com/recaptcha/api.js?render="+e.gRecaptchaSiteKey,"g-recaptcha-script"),setTimeout((function(){return S()}),1e3)}),[]);var S=function(){var t=document.getElementById("form-"+e.contentID);if(t){var n=t.querySelector('input[name="bitforms_token"]'),i=t.querySelector('input[name="bitforms_id"]');n||((n=document.createElement("input")).type="hidden",n.name="bitforms_token",n.value=e.nonce,t.appendChild(n)),i||((i=document.createElement("input")).type="hidden",i.name="bitforms_id",i.value="bitforms_"+e.formID,t.appendChild(i));var a=new URL(bitFormsFront.ajaxURL);a.searchParams.append("action","bitforms_nonce_expire_check");var l={nonce:n.value,formId:e.formID};fetch(a,{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){if(void 0!==(null==e?void 0:e.success)){var n=null==e?void 0:e.data,i=n.nonceValid,a=n.nonce;if(!i)t.querySelector('input[name="bitforms_token"]').value=a}}))}},A=function(t){if(t){var n,i,a=!1,l=!1,r=[];t.target?(n=t.target,i=t.target.form,l=!0):("dropdown"===(n=t).type&&n.userinput&&(l=!0),i=document.getElementById("form-"+e.contentID));var s,o=void 0!==N&&JSON.parse(JSON.stringify(N));L&&T(!1);var c=[],d=n.name;if(s=n.name&&-1!==n.name.indexOf("[]")&&n.name.indexOf("[]")===n.name.length-2?n.name.substring(0,n.name.length-2):n.name,o[e.fieldsKey[s]]&&o[e.fieldsKey[s]].error&&(delete o[e.fieldsKey[s]].error,r[e.fieldsKey[s]]=o[e.fieldsKey[s]],a=!0),o[e.fieldsKey[s]]&&!o[e.fieldsKey[s]].userinput&&l&&(o[e.fieldsKey[s]].userinput=l,r[e.fieldsKey[s]]=o[e.fieldsKey[s]],a=!0),void 0!==e.fieldToCheck[s]){Object.keys(e.fieldsKey).forEach((function(e){var t;t=s===e?d:e;var a=i.querySelectorAll("[name^='"+t+"']");if(a.length>0){var l,r,o=a[0].type;if(a[0].name===n.name&&"checkbox"!==o)l=n.value,r=n.multiple,o=n.type;else if("checkbox"===o||"select-multiple"===o||"select-one"===o||"radio"===o)switch(o){case"checkbox":var u=[];a.forEach((function(e){e.checked&&e.value&&u.push(e.value)})),l=u,r=!0;break;case"select-multiple":var f=[];a[0].slim?a[0].slim.data.data.forEach((function(e){e.selected&&e.value&&f.push(e.value)})):a[0].childNodes.forEach((function(e){e.selected&&e.value&&f.push(e.value)})),l=f,r=!0;break;case"select-one":l=a[0].value;break;case"radio":a.forEach((function(e){e.checked&&e.value&&(l=e.value)}))}else"hidden"===a[0].type&&a[0].value&&a[0].nextElementSibling&&a[0].nextElementSibling.hasAttribute("data-msl")?r=(l=a[0].value.split(","))&&l.length>0:(l=a[0].value,r=a[0].multiple);c[e]={type:o,value:l,multiple:r}}}));var u=[];e.fieldToCheck[s].forEach((function(t){var n=p(e.conditional[t].logics,c);u.push([t,n?1:0])})),u.sort((function(e,t){return e[1]-t[1]})).forEach((function(t){var n=t[0];t[1]?e.conditional[n].actions.forEach((function(t){if(void 0!==t.action&&void 0!==t.field){switch(o[e.fieldsKey[t.field]].valid||(o[e.fieldsKey[t.field]].valid={}),t.action){case"value":if(void 0!==t.val&&o[e.fieldsKey[t.field]]){var n=t.val?h(t.val,c):t.val;t.field===s&&o[e.fieldsKey[t.field]].val===n&&l&&!o[e.fieldsKey[t.field]].conditional?o[e.fieldsKey[t.field]].conditional=!0:o[e.fieldsKey[t.field]].conditional=!1,o[e.fieldsKey[t.field]].val=n,o[e.fieldsKey[t.field]].userinput=!1,a=!0}break;case"hide":o[e.fieldsKey[t.field]]&&(o[e.fieldsKey[t.field]].valid.hide=!0,a=!0);break;case"disable":o[e.fieldsKey[t.field]]&&(o[e.fieldsKey[t.field]].valid.disabled=!0,a=!0);break;case"readonly":o[e.fieldsKey[t.field]]&&(o[e.fieldsKey[t.field]].valid.readonly=!0,a=!0);break;case"enable":o[e.fieldsKey[t.field]]&&(o[e.fieldsKey[t.field]].valid.disabled=!1,a=!0);break;case"show":o[e.fieldsKey[t.field]]&&(o[e.fieldsKey[t.field]].valid.hide=!1,"hidden"===o[e.fieldsKey[t.field]].typ&&(o[e.fieldsKey[t.field]].typ="text"),a=!0)}r[e.fieldsKey[t.field]]=o[e.fieldsKey[t.field]]}})):e.conditional[n].actions.forEach((function(t){if(void 0!==t.action&&void 0!==t.field){if(!e.data[e.fieldsKey[t.field]].valid)e.data[e.fieldsKey[t.field]].valid={};switch(a=!0,t.action){case"value":void 0!==t.val&&o[e.fieldsKey[t.field]]&&!o[e.fieldsKey[t.field]].userinput&&t.field!==s&&(o[e.fieldsKey[t.field]].val=e.data[e.fieldsKey[t.field]].val?h(e.data[e.fieldsKey[t.field]].val,c):"",o[e.fieldsKey[t.field]].userinput=!1);break;case"hide":o[e.fieldsKey[t.field]]&&(o[e.fieldsKey[t.field]].valid.hide=e.data[e.fieldsKey[t.field]].valid.hide);break;case"disable":case"enable":o[e.fieldsKey[t.field]]&&(o[e.fieldsKey[t.field]].valid.disabled=e.data[e.fieldsKey[t.field]].valid.disabled);break;case"readonly":o[e.fieldsKey[t.field]]&&(o[e.fieldsKey[t.field]].valid.readonly=e.data[e.fieldsKey[t.field]].valid.readonly);break;case"show":o[e.fieldsKey[t.field]]&&(o[e.fieldsKey[t.field]].valid.hide=e.data[e.fieldsKey[t.field]].valid.hide,"hidden"===o[e.fieldsKey[t.field]].typ&&(o[e.fieldsKey[t.field]].typ=e.data[e.fieldsKey[t.field]].typ))}r[e.fieldsKey[t.field]]=o[e.fieldsKey[t.field]]}}))}))}a&&(void 0!==e.fieldToCheck[s]&&r[e.fieldsKey[s]]&&r[e.fieldsKey[s]].userinput&&c[s]&&(r[e.fieldsKey[s]].val=c[s].value),M(r),e.editMode&&e.setFields(r))}},z=function(t){if(t.data&&"string"===typeof t.data)s(t.data),w(!0),i(!0);else if(t.data&&(void 0!==t.data.$form&&(s((0,m.p$)(t.data.$form)),w(!0),i(!0),delete t.data.$form),Object.keys(t.data).length>0)){var n=void 0!==N&&(0,m.p$)(N);Object.keys(t.data).map((function(i){n[e.fieldsKey[i]].error=t.data[i]})),M(n)}},E=function(e){e.then((function(e){return new Promise((function(t,n){e.status>400?500===e.status?n(new Error("Maybe Internal Server Error")):n(e.json()):t(e.json())}))})).then((function(e){var t=null,n=null,a="";if(void 0!==e&&e.success?(F(),"object"===typeof e.data?(t=e.data.redirectPage,e.data.cron&&(n=e.data.cron),e.data.cronNotOk&&(n=e.data.cronNotOk),e.data.new_nonce&&(a=e.data.new_nonce),s(e.data.message),i(!0),_&&w(!1)):(s(e.data),i(!0))):z(e),t){O(n,a);var l=setTimeout((function(){window.location=decodeURI(t),l&&clearTimeout(l)}),1e3)}else O(n,a);y(!1)})).catch((function(e){var t=null!=e&&e.message?e.message:"Unknown Error";s(t),w(!0),i(!0),y(!1)}))},O=function(t,n){if(t)if("string"===typeof t){var i=new URL(t);i.protocol!==window.location.protocol&&(i.protocol=window.location.protocol),fetch(i)}else{var a=new URL(bitFormsFront.ajaxURL);a.searchParams.append("action","bitforms_trigger_workflow");var l={cronNotOk:t,token:n||e.nonce,id:e.appID};fetch(a,{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))}},F=function(){T(!0),e.gRecaptchaSiteKey&&"v2"===e.gRecaptchaVersion&&(0,d.L)()};return(0,a.useEffect)((function(){return L&&(T(!1),"undefined"!==typeof window[e.contentID]&&M(window[e.contentID].fields)),function(){T(!1),"undefined"!==typeof window[e.contentID]&&M(window[e.contentID].fields)}}),[L]),(0,a.useEffect)((function(){if(e.error&&(void 0!==e.error.$form&&(w(!0),s((0,m.p$)(e.error.$form)),i(!0),delete e.error.$form),Object.keys(e.error).length>0)){var t=void 0!==N&&(0,m.p$)(N);Object.keys(e.error).map((function(n){t[e.fieldsKey[n]].error=e.error[n]})),M(t)}}),[e.error]),(0,v.jsxs)("div",{id:"f-"+e.formId,children:[(0,v.jsxs)("form",{noValidate:!0,id:"form-"+e.contentID,className:"_frm-bg-"+e.formID,ref:e.refer,method:"POST",encType:e.file?"multipart/form-data":"",onSubmit:function(t){if(t.preventDefault(),(0,b.default)({form:e.contentID})){y(!0),n&&i(!1);var a=new FormData(t.target);e.GCLID&&a.set("GCLID",e.GCLID());var l=[];if(Object.entries(N).forEach((function(e){var t,n;null!=(t=e[1])&&null!=(n=t.valid)&&n.hide&&l.push(e[0])})),l.length&&a.append("hidden_fields",l),"v3"===(null==e?void 0:e.gRecaptchaVersion)&&null!=e&&e.gRecaptchaSiteKey)grecaptcha.ready((function(){grecaptcha.execute(e.gRecaptchaSiteKey,{action:"submit"}).then((function(e){a.append("g-recaptcha-response",e);var t=new URL(bitFormsFront.ajaxURL);t.searchParams.append("action","bitforms_submit_form");var n=fetch(t,{method:"POST",body:a});E(n)}))}));else{var r=new URL(bitFormsFront.ajaxURL);r.searchParams.append("action","bitforms_submit_form");var s=fetch(r,{method:"POST",body:a});E(s)}}},onKeyDown:function(e){"Enter"===e.key&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()},children:[!e.editMode&&(0,v.jsx)("input",{type:"hidden",value:bitFormsFront&&e.nonce,name:"bitforms_token"}),!e.editMode&&(0,v.jsx)("input",{type:"hidden",value:bitFormsFront&&e.appID,name:"bitforms_id"}),e.GCLID&&(0,v.jsx)("input",{type:"hidden",name:"GCLID"}),(0,v.jsxs)("div",{className:"_frm-"+e.formID,children:[(0,v.jsx)("div",{className:"_frm-g _frm-g-"+e.formID,children:I.lg.map((function(t){return function(t){var n,i,a=void 0!==N&&(0,m.p$)(N),l=t.i;return a[t.i].name=l,e.gRecaptchaSiteKey&&null!==e.gRecaptchaSiteKey&&"recaptcha"===a[t.i].typ&&(a[t.i].siteKey=e.gRecaptchaSiteKey),e.fieldToCheck[l]&&(a[t.i].hasWorkflow=!0),k=k>t.y+t.h?k:t.y+t.h,(0,v.jsx)("div",{className:"btcd-fld-itm "+t.i+" "+(null!=(n=a[t.i])&&null!=(i=n.valid)&&i.hide?"vis-n":""),children:(0,v.jsx)(u.Z,{editMode:!0,fieldKey:t.i,atts:a[t.i],formID:e.formID,entryID:e.entryID,onBlurHandler:A,resetFieldValue:L,contentID:e.contentID,fieldData:N,buttonDisabled:"button"===a[t.i].typ&&"submit"===a[t.i].btnTyp&&c,handleReset:"button"===a[t.i].typ&&"reset"===a[t.i].btnTyp&&F,handleFormValidationErrorMessages:z})},t.i)}(t)}))}),!e.editMode&&e.buttons&&(0,v.jsx)(u.Z,{atts:e.buttons,entryID:e.entryID,buttonDisabled:c,handleReset:F,contentID:e.contentID,fieldData:N})]})]}),n&&("string"===typeof r?(0,v.jsx)(j,{msg:r,show:n,setSnack:i,error:_}):r.map((function(t,a){return(0,v.jsx)(j,{msg:t,show:n,setSnack:i,error:_,index:a,canClose:r.length-1===a,editMode:e.editMode})})))]})}function j(e){var t=(0,a.useState)(!0),n=t[0],i=t[1],l={userSelect:"none",minWidth:!e.editMode&&150,background:"#383838",padding:"10px 15px",color:"white",borderRadius:"8px",position:"fixed",bottom:20,right:20,left:e.editMode&&20,marginBottom:!e.editMode&&10,paddingRight:40,boxShadow:"1px 5px 11px -3px #0000004d",transition:"right 0.5s",zIndex:9999};e.editMode,e.editMode,e.error,e.editMode;return e.index&&e.index>0&&(l.bottom+=2*e.index*45),(0,a.useEffect)((function(){!n&&e.canClose&&e.show?e.setSnack(!1):n||e.index||!e.show||e.setSnack(!1)}),[n]),(0,a.useEffect)((function(){var t=e.error?1e4:5e3,n=setTimeout((function(){e.show}),t);return function(){return clearTimeout(n)}}),[]),n&&(0,v.jsxs)("div",{className:"toast btcd-flx",id:"success-"+e.formId,children:[/<\/?[a-z][\s\S]*>/i.test(e.msg)?(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:e.msg}}):e.msg,(0,v.jsx)("button",{id:"toast-close-btn",className:"btcd-flx",onClick:function(){return i(!1)},type:"button",children:"×"})]})}var N=n(12102),M=n(66399),I=n(65105),D=n(1791);function _(e){var t=e.formID,n=e.entryID,l=e.setAllResp,d=e.setSnackbar,u=(0,r.sJ)(c.hi),f=(0,a.useState)(!1),m=f[0],p=f[1],h=(0,a.useState)(!1),y=h[0],b=h[1],g=(0,a.useState)({layout:null,fields:null}),j=g[0],_=g[1],w=(0,a.useState)(null),C=w[0],L=w[1],T=(0,a.useState)(""),k=T[0],S=T[1],A=(0,a.useState)(""),z=A[0],E=A[1],O=(0,a.useRef)(null),F=(0,a.useState)(null),Z=F[0],R=F[1];(0,a.useEffect)((function(){p(!0),fetch(u.styleURL+"/bitform-"+t+".css").then((function(e){return e.text()})).then((function(e){return S(e)})),fetch(u.styleURL+"/bitform-layout-"+t+".css").then((function(e){return e.text()})).then((function(e){return E(e)})),(0,N.Z)({formID:t,entryID:n},"bitforms_edit_form_entry").then((function(e){if(void 0!==e&&e.success){var t={layout:e.data.layout,fields:e.data.fields,fieldToCheck:e.data.fieldToCheck,conditional:e.data.conditional,fieldsKey:e.data.fieldsKey},n=Object.entries(t.fields).find((function(e){return"submit"===e[1].btnTyp})),i=(null==n?void 0:n[0])||null;i&&(t.layout.lg=t.layout.lg.filter((function(e){return e.i!==i})),delete t.fields[i]),_(t),R(e.data.fields)}}))}),[n,t]);var Y=function(n){n.preventDefault(),b(!0);var a=new FormData(O.current),r={formID:t,entryID:e.entryID},o=[];Object.entries(Z).forEach((function(e){var t,n;null!=(t=e[1])&&null!=(n=t.valid)&&n.hide&&o.push(e[0])})),o.length&&a.append("hidden_fields",o),(0,N.Z)(a,"bitforms_update_form_entry",void 0,r).then((function(n){if(void 0!==n&&n.success){if(n.data.cron||n.data.cronNotOk){var a=n.data.cron||n.data.cronNotOk;if("string"===typeof a){var r=new URL(a);r.protocol!==window.location.protocol&&(r.protocol=window.location.protocol),fetch(r)}else{var o=new URL(u.ajaxURL);o.searchParams.append("action","bitforms_trigger_workflow");var c={cronNotOk:a,id:"bitforms_"+t};fetch(o,{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))}}d({show:!0,msg:n.data.message}),l((function(t){return(0,s.ZP)(t,(function(t){var a=t.findIndex((function(t){return t.entry_id===e.entryID}));t[a]=(0,i.Z)({},t[a],n.data.updatedData)}))})),e.close(!1)}else n.data&&L(n.data)})).finally((function(){return b(!1)}))};function B(){return(0,v.jsxs)("button",{onClick:Y,disabled:y,type:"button",className:"btn btn-md blue btcd-mdl-hdr-btn",children:["Update",y&&(0,v.jsx)(I.Z,{size:20,clr:"#fff",className:"ml-2"})]})}var P=document.querySelector(".btcd-modal-wrp"),K=null!=P&&P.offsetHeight?P.offsetHeight-150:0;return(0,v.jsxs)(D.Z,{hdrActn:(0,v.jsx)(B,{}),lg:!0,show:m,setModal:e.close,title:(0,M.__)("Edit","bitform"),children:[k&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("style",{children:k}),(0,v.jsx)("style",{children:z}),(0,v.jsx)("style",{children:"\n              .drag:not(.no-drg), .drag:active {\n                cursor: default;\n              }\n            "})]}),(0,v.jsx)(o.ZP,{autoHide:!0,autoHeight:!0,autoHeightMin:K,autoHeightMax:K,children:null!==j.layout&&(0,v.jsx)(x,{refer:O,editMode:!0,setFields:R,layout:j.layout,data:j.fields,formID:t,entryID:e.entryID,fieldToCheck:j.fieldToCheck,conditional:j.conditional,fieldsKey:j.fieldsKey,error:C})})]})}var w=n(88381),C=n(94965);const L="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGJhc2VQcm9maWxlPSJ0aW55IiB2ZXJzaW9uPSIxLjIiIHZpZXdCb3g9IjAgMCAzOTIuOSA0MDIuMyI+PGRlZnMvPjxwYXRoIGZpbGw9IiNGMUY0RkEiIGQ9Ik00NSAxMjhzNjUtMzggNzgtNjhTMjYyLTIgMzQ3IDk5czI5IDEzMCAxOCAxMzRjLTExIDUtODEgNy0xMTkgMTI5Uzc5IDI5MSA1MyAyODNzLTcxLTEwOS04LTE1NXoiLz48cGF0aCBmaWxsPSIjRjdFRUY1IiBkPSJNMTM5IDM4NEM5NiAzNzQgMTAgMjI3IDAgMTU4czE5OC00MiAyMTUtMjEgOTcgMjUgMTMxIDc5LTE3IDkwLTE2IDk4YzEgMTEtMTQ4IDgxLTE5MSA3MHoiLz48cGF0aCBmaWxsPSIjRERGMUY4IiBkPSJNMjIyIDMyNUg3MmMtOCAwLTE0LTctMTQtMTRWMTAxYzAtOCA2LTE0IDE0LTE0aDE1MGM4IDAgMTQgNiAxNCAxNHYyMTBjMCA4LTYgMTQtMTQgMTR6Ii8+PHBhdGggZmlsbD0iIzFDMjk1NSIgZD0iTTIyMiAzMjdINzJjLTkgMC0xNi03LTE2LTE2VjEwMWMwLTkgNy0xNyAxNi0xN2gxNTBjOSAwIDE2IDggMTYgMTd2MjEwYzEgOS03IDE2LTE2IDE2ek03MiA4OWMtNiAwLTExIDYtMTEgMTJ2MjEwYzAgNiA1IDExIDExIDExaDE1MGM2IDAgMTEtNSAxMS0xMVYxMDFjMS03LTUtMTItMTEtMTJINzJ6Ii8+PHBhdGggZmlsbD0iIzlEQ0JFRCIgZD0iTTExOSAzMjJWMTcxYzAtMTAgOC0xOSAxOS0xOWg5NXYxNjlsLTExNCAxeiIvPjxwYXRoIGZpbGw9IiNGRUZCRTMiIGQ9Ik0yOTMgMzkySDE0M2MtOCAwLTE0LTYtMTQtMTRWMTc2YzAtOCA2LTE0IDE0LTE0aDE1MGM3IDAgMTMgNiAxMyAxM3YyMDNjMSA4LTYgMTQtMTMgMTR6Ii8+PHBhdGggZmlsbD0iIzFDMjk1NSIgZD0iTTI5MyAzOTRIMTQzYy05IDAtMTctNy0xNy0xNlYxNzZjMC05IDgtMTcgMTctMTdoMTUwYzkgMCAxNiA3IDE2IDE2djIwM2MwIDktNyAxNi0xNiAxNnpNMTQzIDE2NGMtNyAwLTEyIDUtMTIgMTJ2MjAyYzAgNiA1IDExIDEyIDExaDE1MGM2IDAgMTEtNSAxMS0xMVYxNzZjMC03LTUtMTItMTEtMTJIMTQzeiIvPjxwYXRoIGZpbGw9IiMxQzI5NTUiIGQ9Ik0xOTUgMTIwSDgzYy0zIDAtNC0yLTQtNXYxYzAtMyAyLTUgNC01aDExMmMyIDAgNCAyIDQgNSAwIDItMiA0LTQgNHptLTY2IDI0YzAtMi0yLTQtNC00SDgzYy0zIDAtNCAyLTQgNHMyIDQgNCA0aDQyYzIgMCA0LTIgNC00em0xNDEgNDRjMC0zLTItNS00LTVIMTUzYy0yIDEtNCAyLTQgNSAwIDIgMiA0IDQgNGgxMTNjMiAwIDQtMiA0LTR6TTI2OCAzNThIMTUzYy0yIDAtNC0yLTQtNSAwLTIgMi00IDQtNGgxMTVjMyAwIDQgMiA0IDQgMCAzLTIgNS00IDV6Ii8+PHBhdGggZD0iTTIyNSAyNThsLTM3IDM4aC0zdi0zbDM4LTM4aDJ2M3oiLz48cGF0aCBkPSJNMjIzIDI5NmwtMzgtMzh2LTNoM2wzNyAzOHYzaC0yeiIvPjxwYXRoIGZpbGw9IiNFOEY0RkMiIGQ9Ik0yNjEgMzA5YTYzIDYzIDAgMTEtOTctODF2MWMyMi0yNyA2Mi0zMSA4OS05IDI3IDIzIDMwIDYyIDggODl6Ii8+PHBhdGggZmlsbD0iIzFDMjk1NSIgZD0iTTIxMiAzMzRhNjUgNjUgMCAwMS01MC0xMDYgNjUgNjUgMCAxMTEwMSA4MyA2NSA2NSAwIDAxLTUxIDIzem0xLTEyNmgtNmE2MSA2MSAwIDEwNTMgMTAwaC0xYTYxIDYxIDAgMDAtNDYtMTAweiIvPjxwYXRoIGZpbGw9IiM5RENCRUQiIGQ9Ik0yNTYgMzE2bDExLTEzIDI0IDE5LTEyIDE0eiIvPjxwYXRoIGZpbGw9IiMxQzI5NTUiIGQ9Ik0yODAgMzM5bC0yNy0yMiAxNC0xNyAyNyAyMi0xNCAxN3ptLTIxLTIzbDIwIDE3IDktMTAtMjEtMTctOCAxMHoiLz48cGF0aCBmaWxsPSIjRkZFOUM1IiBkPSJNMzY1IDM4MmwtMTMgMTZjLTMgMi03IDMtMTAgMGwtNjMtNTJjLTItMi0zLTYtMS05bDE0LTE2YzItMyA2LTMgOS0xbDYzIDUyYzMgMyAzIDcgMSAxMHoiLz48cGF0aCBmaWxsPSIjMUMyOTU1IiBkPSJNMzQ3IDQwMmwtNi0yLTYzLTUyLTMtNiAyLTYgMTMtMTZjMy00IDktNCAxMi0xbDYzIDUyYzIgMSAzIDMgMyA2IDEgMiAwIDQtMiA2bC0xMyAxNmMtMSAyLTMgMy01IDNoLTF6bS01MC04MWwtNCAxLTEzIDE2LTEgNCAyIDMgNjMgNTIgMyAxIDMtMiAxMy0xNmMxLTEgMi0yIDEtM2wtMS0zLTYzLTUyLTMtMXpNMjQ1IDI0MWE1MCA1MCAwIDAwLTU5LTExbC0yLTNjMC0xIDMzLTE5IDYzIDExbC0yIDN6TTIzMiAyNzBsLTMzIDMyaC0xdi0xbDMyLTMzaDJ2MnptLTIgMzF2LTJsLTMzLTMyaC0ydjFsMzMgMzNoMnoiLz48cGF0aCBmaWxsPSIjQTRBREQ4IiBkPSJNODAgNTFINjVWMzZoMTV2MTV6bS0xMy0yaDExVjM4SDY3djExeiIvPjxwYXRoIGZpbGw9IiNCQUQyRUUiIGQ9Ik0yNzkgMTI5YTcgNyAwIDExMC0xNCA3IDcgMCAxMTAgMTR6bTAtMTJjLTMgMC02IDItNiA1czMgNSA2IDUgNS0yIDUtNS0yLTUtNS01eiIvPjxwYXRoIGZpbGw9IiM5RTlEOUUiIGQ9Ik0zNTQgMjYzbC0zLTUtNS0zIDUtMyAzLTUgMyA1IDUgMy01IDMtMyA1em0tMy04bDIgMSAxIDMgMi0zIDItMS0yLTEtMi0zLTEgMy0yIDF6Ii8+PHBhdGggZmlsbD0iI0NFRDhFRSIgZD0iTTI3MCAxNmwtMy01LTUtMyA1LTMgMy01IDMgNSA1IDMtNSAzLTMgNXptLTQtOGwyIDEgMiAyIDEtMiAyLTEtMi0xLTEtMy0yIDMtMiAxeiIvPjxwYXRoIGZpbGw9IiNGQ0RDRTUiIGQ9Ik0yNSAyNTJIOGw5LTE1IDggMTV6bS0xMy0yaDEwbC01LTktNSA5ek0xNzcgNjloLTJWNTdoMnYxMnptNS03aC0xMnYyaDEydi0yeiIvPjwvc3ZnPg==";var T=n(82166),k=n(85934),S=n(7974);function A(e){var t=e.formID,n=e.entryID,i=(e.allLabels,e.showForm,e.setShowForm),l=e.setFetchData,r=e.data,s=e.setData,o=Boolean(r.noteID),c=(0,a.useState)(!1),d=c[0],u=c[1],f=(0,a.useState)(r.title),m=f[0],p=f[1],h=(0,a.useState)(r.content),y=h[0],b=h[1],g=function(){i(!1),s({title:"",content:""})};return(0,v.jsxs)("div",{className:"mt-2 w-7",children:[(0,v.jsxs)("b",{children:[o?(0,M.__)("Edit Note ","bitform"):(0,M.__)("Create New Note ","bitform"),(0,v.jsx)("button",{type:"button",className:"btn",onClick:function(){return o?g():i(!1)},style:{fontSize:16},children:"x"})]}),(0,v.jsx)("br",{}),(0,v.jsxs)("form",{method:"POST",onSubmit:function(e){if(e.preventDefault(),y)if(u(!0),o){var i={noteID:r.noteID,formID:t,entryID:n,title:m,content:y};(0,N.Z)({},"bitforms_form_entry_update_note","multipart/form-data",i).then((function(e){void 0!==e&&e.success&&(C.ZP.success((0,M.__)("Note Updated Successfully","bitform")),g(),l(!0)),u(!1)}))}else{var a={formID:t,entryID:n,title:m,content:y};(0,N.Z)({},"bitforms_form_entry_create_note","multipart/form-data",a).then((function(e){void 0!==e&&e.success&&(C.ZP.success((0,M.__)("Note Added Successfully","bitform")),g(),l(!0)),u(!1)}))}},onKeyDown:function(e){"Enter"===e.key&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()},children:[(0,v.jsx)("input",{type:"text",name:"title",className:"btcd-paper-inp mt-2",placeholder:"Note Title",value:m,onChange:function(e){return t=e.target.value,void p(t);var t}}),(0,v.jsx)(S.Z,{id:"body-content",value:y,onChangeHandler:function(e){b(e)}}),o&&(0,v.jsx)("button",{type:"button",className:"btn btn-md mr-2",onClick:g,children:(0,M.__)("Cancel","bitform")}),(0,v.jsxs)("button",{type:"submit",className:"btn btn-md blue",disabled:d,children:[o?(0,M.__)("Edit","bitform"):(0,M.__)("Add","bitform")," ",(0,M.__)("Note","bitform"),d&&(0,v.jsx)(I.Z,{size:20,clr:"#fff",className:"ml-2"})]})]})]})}function z(e){var t=e.formID,n=e.entryID,l=e.allLabels,s=e.rowDtl,o=(0,r.sJ)(c.hi),d=o.isPro,u=o.dateFormat+" "+o.timeFormat,f=(0,a.useState)(!1),p=f[0],h=f[1],y=(0,a.useState)({show:!1}),b=y[0],g=y[1],x=(0,a.useState)(!1),j=x[0],D=x[1],_=(0,a.useState)([]),w=_[0],S=_[1],z=(0,a.useState)(!1),E=z[0],O=z[1],F=(0,a.useState)(!1),Z=F[0],R=F[1],Y=(0,a.useState)({title:"",content:""}),B=Y[0],P=Y[1];(0,a.useEffect)((function(){d&&h("allNotes"),O(!0)}),[]),(0,a.useEffect)((function(){Z?R(!1):d&&(0,N.Z)({formID:t,entryID:n},"bitforms_form_entry_get_notes").then((function(e){void 0!==e&&e.success&&S(e.data),h(!1)}))}),[Z]),(0,a.useEffect)((function(){B.content&&D(!0)}),[B]);var K=function(){b.show=!1,g((0,i.Z)({},b))},U=function(e){for(var t=(null==e||null==e.match?void 0:e.match(/\${\w[^ ${}]*}/g))||"",n=(null==t||null==t.filter?void 0:t.filter((function(e,n){return t.indexOf(e)===n})))||[],i=e,a=0;a<n.length;a+=1){var l=n[a].slice(2,-1);i=i.replaceAll(n[a],l in s?s[l]:"[Field Deleted]")}return i},J=function(e){var t=JSON.parse(e.info_details),n="delete"===p&&b.noteID===e.id;return(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{children:[e.updated_at?(0,v.jsxs)("small",{children:[(0,M.__)("updated on:","bitform")," "+(0,m.CI)(e.updated_at,u)]}):(0,v.jsxs)("small",{children:[(0,M.__)("created at:","bitform")," "+(0,m.CI)(e.created_at,u)]}),(0,v.jsx)("button",{type:"button",className:"icn-btn ml-1 tooltip pos-rel",style:{"--tooltip-txt":"'"+(0,M.__)("Edit","bitform")+"'",fontSize:16},onClick:function(){return function(e){D(!1);var t=w.find((function(t){return t.id===e})),n=JSON.parse(t.info_details),i=n.title,a=n.content;P({noteID:e,title:i,content:a}),D(!0)}(e.id)},children:(0,v.jsx)("span",{className:"btcd-icn icn-document-edit"})}),(0,v.jsxs)("button",{type:"button",onClick:function(){return t=e.id,b.noteID=t,b.show=!0,void g((0,i.Z)({},b));var t},className:(n?"btn":"icn-btn")+" ml-1 tooltip pos-rel",style:{"--tooltip-txt":"'"+(0,M.__)("Delete","bitform")+"'",fontSize:16},disabled:n,children:[(0,v.jsx)("span",{className:"btcd-icn icn-trash-fill"}),n&&(0,v.jsx)(I.Z,{size:20,clr:"#000",className:"ml-2"})]})]}),(0,v.jsxs)("div",{children:[t.title&&(0,v.jsx)("h3",{children:t.title}),(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:U(t.content)}})]}),(0,v.jsx)("hr",{className:"btcd-hr"})]},e.id)};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"pos-rel",children:[!d&&(0,v.jsx)("div",{className:"pro-blur mt-4 flx",children:(0,v.jsxs)("div",{className:"pro",children:[(0,M.__)("Available On","bitform"),(0,v.jsx)("a",{href:"https://www.bitapps.pro/bit-form",target:"_blank",rel:"noreferrer",children:(0,v.jsxs)("span",{className:"txt-pro",children:[" ",(0,M.__)("Premium","bitform")]})})]})}),j?(0,v.jsx)(A,{formID:t,entryID:n,allLabels:l,showForm:j,setShowForm:D,setFetchData:R,data:B,setData:P}):(0,v.jsx)("button",{type:"button",className:"btn",onClick:function(){return D(!0)},children:(0,M.__)("create new note","bitform")}),"allNotes"===p?(0,v.jsx)(T.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:70,transform:"scale(0.7)"}}):w.length?w.map((function(e){return J(e)})):E&&(0,v.jsx)("img",{src:L,alt:"no data found",style:{height:150,width:"100%"}})]}),(0,v.jsxs)(k.Z,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"red",btnTxt:"Ok",show:b.show,close:K,action:function(){h("delete"),K(),(0,N.Z)({noteID:b.noteID,formID:t,entryID:n},"bitforms_form_entry_delete_note").then((function(e){void 0!==e&&e.success&&(C.ZP.success((0,M.__)("Note Deleted Successfully","bitform")),R(!0)),h(!1)}))},title:(0,M.__)("Confirmation","bitform"),children:[(0,v.jsx)("div",{className:"txt-center mt-5 mb-4",children:(0,M.__)("Are you sure to delete this note","bitform")}),p&&(0,v.jsx)(T.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}})]})]})}var E=function(e){return null!=e&&e.payment_response?JSON.parse(e.payment_response):null!=e&&e.create_time?e:{}};function O(e){var t,n,i,a,l=e.paymentInfo,s=e.payInfoFound,o=(0,r.sJ)(c.hi),d=o.dateFormat+" "+o.timeFormat,u=E(l),f="subscriber"in u,p=f?u.subscriber:u.payer,h=f?null==u||null==(t=u.billing_info)||null==(n=t.last_payment)?void 0:n.amount:null==u||null==(i=u.purchase_units)||null==(a=i[0])?void 0:a.amount;return(0,v.jsx)("div",{children:1===s.current?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h1",{children:(0,M.__)("PayPal","bitform")}),(0,v.jsxs)("div",{children:[(0,v.jsx)("small",{children:(0,m.CI)(u.create_time,d)}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)("small",{children:(0,M.__)("Type","bitform")+": "+(f?(0,M.__)("Subscription","biform"):(0,M.__)("Order","bitform"))}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)("small",{children:(0,v.jsx)("b",{children:(0,M.__)("Transaction ID","bitform")+": "+u.id})}),(0,v.jsx)("h3",{children:p.name.given_name+" "+p.name.surname}),(0,v.jsx)("small",{children:p.email_address}),f&&(0,v.jsx)("h4",{children:(0,M.__)("Plan ID","bitform")+": "+u.plan_id}),f&&(0,v.jsxs)("small",{children:[(0,M.__)("Next Billing Time","bitform"),":"," ",(0,m.CI)(u.billing_info.next_billing_time,d)]}),(0,v.jsxs)("p",{children:[(0,M.__)("Total Paid","bitform"),":"," ",h.value," ",h.currency_code]})]},u.id)]}):(0,v.jsx)("img",{src:L,alt:(0,M.__)("no data found","bitform"),style:{height:150,width:"100%"}})})}var F=n(64870),Z=function(e){return null!=e&&e.payment_response?JSON.parse(e.payment_response):null!=e&&e.created_at?e:{}};function R(e){var t=e.paymentInfo,n=e.payInfoFound,i=e.fldKey,s=e.transactionID,o=(0,r.sJ)(c.hi),d=(0,l.UO)().formID,u=(0,a.useContext)(F.d).payments,f=(0,r.sJ)(c.AK)[i].options.payIntegID,p=u.find((function(e){return e.id===f})),h=o.dateFormat+" "+o.timeFormat,y=(0,a.useState)(t),b=y[0],g=y[1],x=(0,a.useState)(!1),j=x[0],I=x[1],D=Z(b),_=1e3*D.created_at;return(0,a.useEffect)((function(){2===n.current&&(I(!0),(0,N.Z)({formID:d,transactionID:s,razorpaySettings:p},"bitforms_razorpay_transaction_info").then((function(e){e.success&&(g(e.data),n.current=1)})).finally((function(){I(!1)})))}),[]),(0,v.jsxs)("div",{children:[j&&(0,v.jsx)(T.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:70,transform:"scale(0.7)"}}),1===n.current?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h1",{children:(0,M.__)("Razorpay","bitform")}),(0,v.jsxs)("div",{children:[(0,v.jsx)("small",{children:(0,m.CI)(_,h)}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)("small",{children:(0,M.__)("Status","bitform")+": "+D.status}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)("small",{children:(0,v.jsx)("b",{children:(0,M.__)("Transaction ID","bitform")+": "+D.id})}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)("small",{children:(0,M.__)("Email","bitform")+": "+D.email}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)("small",{children:(0,M.__)("Contact","bitform")+": "+D.contact}),(0,v.jsx)("br",{}),(0,v.jsxs)("p",{children:[(0,M.__)("Total Paid","bitform"),":"," ",D.amount/100," ",D.currency]})]})]}):!j&&(0,v.jsx)("img",{src:L,alt:(0,M.__)("no data found","bitform"),style:{height:150,width:"100%"}})]})}function Y(e){var t=e.formID,n=e.rowDtl,i=(0,r.sJ)(c.z8),l=(0,r.sJ)(c.hi).isPro,s=(0,a.useState)({}),o=s[0],d=s[1],u=(0,a.useState)(!1),f=u[0],m=u[1],p=/paypal|razorpay/,h=i.filter((function(e){return e.type.match(p)})).find((function(e){return n[e.key]}))||{},y=(0,a.useRef)(0);(0,a.useEffect)((function(){if(l){m(!0);var e=null==n?void 0:n[null==h?void 0:h.key];(0,N.Z)({formID:t,transactionID:e},"bitforms_payment_details").then((function(e){e.success&&1===e.data.length?(d(e.data[0]),y.current=1):y.current=2})).finally((function(){m(!1)}))}return function(){return d({})}}),[]);return(0,v.jsxs)("div",{className:"pos-rel",children:[!l&&(0,v.jsx)("div",{className:"pro-blur mt-4 flx",children:(0,v.jsxs)("div",{className:"pro",children:[(0,M.__)("Available On","bitform"),(0,v.jsx)("a",{href:"https://www.bitapps.pro/bit-form",target:"_blank",rel:"noreferrer",children:(0,v.jsxs)("span",{className:"txt-pro",children:[" ",(0,M.__)("Premium","bitform")]})})]})}),f?(0,v.jsx)(T.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:70,transform:"scale(0.7)"}}):function(){switch(null==h?void 0:h.type){case"paypal":return(0,v.jsx)(O,{paymentInfo:o,payInfoFound:y});case"razorpay":return(0,v.jsx)(R,{paymentInfo:o,payInfoFound:y,fldKey:null==h?void 0:h.key,transactionID:null==n?void 0:n[null==h?void 0:h.key]});default:return(0,v.jsx)("h1",{children:(0,M.__)("No Payment Info Found!","bitform")})}}()]})}var B=n(79122);function P(e){var t=e.formID,n=e.entryID,i=e.integrations,l=(0,r.sJ)(c.hi),s=(0,r.sJ)(c.z8),o=l.dateFormat+" "+l.timeFormat,d=(0,a.useState)([]),u=d[0],f=d[1],p=(0,a.useState)([]),h=p[0],y=p[1],b=(0,a.useState)([]),g=b[0],x=b[1],j=(0,a.useState)(!1),I=j[0],D=j[1];(0,a.useEffect)((function(){return D(!0),(0,N.Z)({formID:t,entryID:n},"bitforms_form_log_history").then((function(e){void 0!==e&&e.success&&(f(e.data),y(e.integrations)),D(!1)})),function(){return f([])}}),[]);var _=function(e){var t,n=/\${\w[^ ${}]*}/g,i=(null==(t=e.match(n))?void 0:t[0])||"",a=i?s.find((function(e){return"${"+e.key+"}"===i})):"",l=a?a.adminLbl:"",r=l?e.replace(n,l):"";return r?r.replace(/[\]["]/g,""):"Field Deleted"},w=function(e){g.push(e),x([].concat(g))},C=function(e){var t=[].concat(g);t.splice(t.indexOf(e),1),x([].concat(t))},L=function(e){var t,n=g.find((function(t){return t===e.id})),a={};h.map((function(t){var n,l=null==(n=i.find((function(e){return e.id===t.integration_id})))?void 0:n.name;if(l)a[l]||(a[l]=[]),e.id===t.log_id&&a[l].push(t);else if(Number(t.integration_id)&&e.id===t.log_id){var r=JSON.parse(t.api_type);"ReCaptcha v3"===(l=r.type_name+" "+r.type)&&(a[l]=[t])}}));return(0,v.jsxs)("div",{children:[null===e.content&&"update"===e.action_type?(0,v.jsx)("p",{children:(0,M.__)("No field data change","bitform")}):null===e.content&&"create"===e.action_type?(0,v.jsx)("p",{children:(0,M.__)("Form Submitted","bitform")}):e.content.split("b::f").map((function(e){return(0,v.jsxs)("p",{children:[" ",(0,v.jsx)("span",{className:"btcd-icn icn-document-edit",style:{fontSize:16}}),_(e)]},e)})),!(null==(t=Object.keys(a))||!t.length)&&(0,v.jsxs)(v.Fragment,{children:[!n&&e.integration&&(0,v.jsx)("small",{role:"button",tabIndex:"0",className:"btcd-link cp",onClick:function(){return w(e.id)},onKeyDown:function(){return w(e.id)},children:(0,M.__)("Show Integration Logs","bitform")}),n&&e.integration&&(0,v.jsx)("small",{role:"button",tabIndex:"0",className:"btcd-link cp",onClick:function(){return C(e.id)},onKeyDown:function(){return C(e.id)},children:(0,M.__)("Hide Integration Logs","bitform")}),n&&e.integration&&k(a)]})]})},k=function(e){return Object.keys(e).map((function(t){return(0,v.jsxs)("div",{children:[(0,v.jsx)("h5",{children:t+" - "}),(0,v.jsx)("div",{className:"m-0 ml-6",children:e[t].map((function(e){var t=JSON.parse(e.api_type);return(0,v.jsxs)("div",{className:"flx",children:[(0,v.jsx)("p",{className:"mr-2",children:t.type_name+" "+t.type+" "+e.response_type}),(0,v.jsx)(B.Z,{value:e.response_obj,className:"field-key-cpy w-0 ml-0",readOnly:!0})]})}))})]})}))},S=function(e){var t,n,i=g.find((function(t){return t===e.id})),a=JSON.parse(e.content);return null!==e.content?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("p",{children:[(0,M.__)("Note","bitform")," ","create"===e.action_type&&(0,M.__)("Added","bitform"),"update"===e.action_type&&(0,M.__)("Updated","bitform"),"delete"===e.action_type&&(0,M.__)("Deleted","bitform"),":"]}),a.title&&(0,v.jsx)("h4",{children:a.title}),(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:i?a.content||"":(t=a.content||"",n=20,(null==t?void 0:t.length)>n?t.substr(0,n-1)+"&hellip;":t)}}),!i&&(a.content||"").length>20&&(0,v.jsx)("small",{role:"button",tabIndex:"0",className:"btcd-link cp",onClick:function(){return w(e.id)},onKeyDown:function(){return w(e.id)},children:(0,M.__)("Read More","bitform")}),i&&(0,v.jsx)("small",{role:"button",tabIndex:"0",className:"btcd-link cp",onClick:function(){return C(e.id)},onKeyDown:function(){return C(e.id)},children:(0,M.__)("Show Less","bitform")})]}):null===e.content&&"update"===e.action_type?(0,v.jsx)("p",{children:(0,M.__)("Note no change","bitform")}):void 0};return(0,v.jsx)(v.Fragment,{children:I?(0,v.jsx)(T.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:70,transform:"scale(0.7)"}}):u.map((function(e){return(0,v.jsxs)("div",{children:[(0,v.jsx)("br",{}),(0,v.jsx)("span",{children:(0,m.CI)(e.created_at,o)}),(0,v.jsx)("div",{children:"entry"===e.log_type?L(e):S(e)})]},e.id)}))})}const K=(0,a.memo)(P);function U(e){var t,n,i,l,r,s,o,c,d,u,f,m,p,h,y,b,g=e.rowDtl,x=(0,a.useState)([]),j=x[0],M=x[1],I=(0,a.useState)(!1),D=I[0],_=I[1];return(0,a.useEffect)((function(){_(!0),(0,N.Z)({gclid:null==g?void 0:g.GCLID},"bitforms_get_gclid_info").then((function(e){void 0!==e&&e.success&&e.data[0]&&M(JSON.parse(e.data[0].gclid_response)),_(!1)}))}),[]),(0,v.jsx)(v.Fragment,{children:D?(0,v.jsx)(T.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:70,transform:"scale(0.7)"}}):(0,v.jsx)("div",{children:(0,v.jsx)("table",{className:"btcd-row-detail-tbl",children:(0,v.jsxs)("tbody",{children:[(0,v.jsxs)("tr",{className:"txt-dp",children:[(0,v.jsx)("td",{className:"td",children:"Account"}),(0,v.jsx)("td",{className:"td",children:null==(t=j["@attributes"])?void 0:t.account})]}),(0,v.jsxs)("tr",{className:"txt-dp",children:[(0,v.jsx)("td",{className:"td",children:"Campaign ID"}),(0,v.jsx)("td",{className:"td",children:null==(n=j["@attributes"])?void 0:n.campaignID})]}),(0,v.jsxs)("tr",{className:"txt-dp",children:[(0,v.jsx)("td",{className:"td",children:"AdGroup Id"}),(0,v.jsx)("td",{className:"td",children:null==(i=j["@attributes"])?void 0:i.adGroupID})]}),(0,v.jsxs)("tr",{className:"txt-dp",children:[(0,v.jsx)("td",{className:"td",children:"Ad Id"}),(0,v.jsx)("td",{className:"td",children:null==(l=j["@attributes"])?void 0:l.adID})]}),(0,v.jsxs)("tr",{className:"txt-dp",children:[(0,v.jsx)("td",{className:"td",children:"Keyword Id"}),(0,v.jsx)("td",{className:"td",children:null==(r=j["@attributes"])?void 0:r.keywordID})]}),(0,v.jsxs)("tr",{className:"txt-dp",children:[(0,v.jsx)("td",{className:"td",children:"Keyword"}),(0,v.jsx)("td",{className:"td",children:null==(s=j["@attributes"])?void 0:s.CriteriaParameters})]}),(0,v.jsxs)("tr",{className:"txt-dp",children:[(0,v.jsx)("td",{className:"td",children:"Match type"}),(0,v.jsx)("td",{className:"td",children:null==(o=j["@attributes"])?void 0:o.KeywordMatchType})]}),(0,v.jsxs)("tr",{className:"txt-dp",children:[(0,v.jsx)("td",{className:"td",children:"Click type"}),(0,v.jsx)("td",{className:"td",children:null==(c=j["@attributes"])?void 0:c.clickType})]}),(0,v.jsxs)("tr",{className:"txt-dp",children:[(0,v.jsx)("td",{className:"td",children:"Device Type"}),(0,v.jsx)("td",{className:"td",children:null==(d=j["@attributes"])?void 0:d.device})]}),(0,v.jsxs)("tr",{className:"txt-dp",children:[(0,v.jsx)("td",{className:"td",children:"Search Partner Network"}),(0,v.jsx)("td",{className:"td",children:null==(u=j["@attributes"])?void 0:u.networkWithSearchPartners})]}),(0,v.jsxs)("tr",{className:"txt-dp",children:[(0,v.jsx)("td",{className:"td",children:"Ad Campaign Name"}),(0,v.jsx)("td",{className:"td",children:null==(f=j["@attributes"])?void 0:f.campaign})]}),(0,v.jsxs)("tr",{className:"txt-dp",children:[(0,v.jsx)("td",{className:"td",children:"Ad group Name"}),(0,v.jsx)("td",{className:"td",children:null==(m=j["@attributes"])?void 0:m.adGroup})]}),(0,v.jsxs)("tr",{className:"txt-dp",children:[(0,v.jsx)("td",{className:"td",children:"Ad Network"}),(0,v.jsx)("td",{className:"td",children:null==(p=j["@attributes"])?void 0:p.network})]}),(0,v.jsxs)("tr",{className:"txt-dp",children:[(0,v.jsx)("td",{className:"td",children:"Ad Click Date"}),(0,v.jsx)("td",{className:"td",children:null==(h=j["@attributes"])?void 0:h.day})]}),(0,v.jsxs)("tr",{className:"txt-dp",children:[(0,v.jsx)("td",{className:"td",children:"Customer ID"}),(0,v.jsx)("td",{className:"td",children:null==(y=j["@attributes"])?void 0:y.customerID})]}),(0,v.jsxs)("tr",{className:"txt-dp",children:[(0,v.jsx)("td",{className:"td",children:"GCLID"}),(0,v.jsx)("td",{className:"td",children:null==(b=j["@attributes"])?void 0:b.googleClickID})]})]})})})})}function J(e){var t=e.formID,n=e.entryID,i=e.rowDtl,a=e.setSnackbar,l=e.integrations,s=e.close,o=(0,r.sJ)(c.z8),d=/paypal|razorpay/,u=o.filter((function(e){return e.type.match(d)}));return(0,v.jsx)(D.Z,{lg:!0,show:!0,setModal:s,title:(0,M.__)("Related Info","bitform"),children:(0,v.jsxs)(w.mQ,{selectedTabClassName:"s-t-l-active",children:[(0,v.jsxs)(w.td,{className:"flx m-0",children:[!(null==u||!u.length)&&(0,v.jsx)(w.OK,{className:"btcd-s-tab-link",children:(0,M.__)("Payment","bitform")}),(0,v.jsx)(w.OK,{className:"btcd-s-tab-link",children:(0,M.__)("Timeline","bitform")}),(0,v.jsx)(w.OK,{className:"btcd-s-tab-link",children:(0,M.__)("Notes","bitform")}),!(null==i||!i.GCLID)&&(0,v.jsx)(w.OK,{className:"btcd-s-tab-link",children:(0,M.__)("Google Ads Information","bitform")})]}),!(null==u||!u.length)&&(0,v.jsx)(w.x4,{children:(0,v.jsx)(Y,{formID:t,rowDtl:i})}),(0,v.jsx)(w.x4,{children:(0,v.jsx)(K,{formID:t,entryID:n,integrations:l})}),(0,v.jsx)(w.x4,{children:(0,v.jsx)(z,{formID:t,entryID:n,allLabels:o,setSnackbar:a,rowDtl:i})}),!(null==i||!i.GCLID)&&(0,v.jsx)(w.x4,{children:(0,v.jsx)(U,{rowDtl:i})})]})})}const G=(0,a.memo)(J);n(40125);function H(e){var t=e.size;return(0,v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",children:(0,v.jsx)("path",{stroke:"#4D4D4D",strokeLinecap:"round",strokelinejoin:"round",strokeWidth:"1.5",d:"M16.44 8.9c3.6.31 5.07 2.16 5.07 6.21v.13c0 4.47-1.79 6.26-6.26 6.26H8.74c-4.47 0-6.26-1.79-6.26-6.26v-.13c0-4.02 1.45-5.87 4.99-6.2M12 15V3.62M15.35 5.85L12 2.5 8.65 5.85"})})}var Q=n(15643);function V(e){var t,n,l,r,s=e.showExportMdl,o=e.close,c=e.cols,d=e.formID,u=e.report,f=(0,a.useState)({show:!1}),m=f[0],p=f[1],h=(0,a.useState)(!1),y=h[0],b=h[1],g=(0,a.useState)({fileFormate:"csv",sort:"ASC",sortField:"bitforms_form_entry_id",limit:null,custom:"all",formId:d,selectedField:""}),x=g[0],j=g[1],_=(u&&(null==(t=u[u.length-1])||null==(n=t.details)||n.order),u?null==(l=u[u.length-1])||null==(r=l.details)?void 0:r.hiddenColumns:[]),w=c.filter((function(e){return"#"!==e.Header&&"object"!==typeof e.Header})),C=[],L=[];w.map((function(e,t){null!=_&&_.includes(e.accessor)||(C[t]={key:e.accessor,val:e.Header},L[t]=e.accessor)})),x.selectedField=JSON.stringify(L);var T=function(e,t){var n=(0,i.Z)({},x);n[e]="number"===typeof t?Number(t):t,j(n)};return(0,v.jsxs)("div",{children:[(0,v.jsx)(Q.Z,{snack:m,setSnackbar:p}),(0,v.jsx)(D.Z,{md:!0,show:s,setModal:o,title:"Export Data",style:{overflow:"auto"},children:(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"mt-3 flx",children:[(0,v.jsx)("b",{style:{width:200},children:(0,M.__)("How many rows to export","bitform")}),(0,v.jsxs)("select",{className:"btcd-paper-inp ml-2",name:"custom",style:{width:250},onChange:function(e){return T(e.target.name,e.target.value)},children:[(0,v.jsx)("option",{selected:!0,disabled:!0,children:"Choose option"}),(0,v.jsx)("option",{value:"all",children:"All"}),(0,v.jsx)("option",{value:"custom",children:"Custom"})]})]}),"custom"===x.custom&&(0,v.jsxs)("div",{className:"mt-3 flx",children:[(0,v.jsx)("b",{style:{width:200},children:(0,M.__)("Enter row number","bitform")}),(0,v.jsx)("input",{type:"text",style:{width:250},name:"limit",onChange:function(e){return T(e.target.name,e.target.value)},className:"btcd-paper-inp mt-2",placeholder:"Export Row Number"})]}),(0,v.jsxs)("div",{className:"mt-3 flx",children:[(0,v.jsx)("b",{style:{width:200},children:(0,M.__)("Sort Order","bitform")}),(0,v.jsxs)("select",{className:"btcd-paper-inp ml-2",name:"sort",style:{width:250},defaultValue:null==x?void 0:x.sort,onChange:function(e){return T(e.target.name,e.target.value)},children:[(0,v.jsx)("option",{value:"ASC",children:"Ascending"}),(0,v.jsx)("option",{value:"DESC",children:"Descending"})]})]}),(0,v.jsxs)("div",{className:"mt-3 flx",children:[(0,v.jsx)("b",{style:{width:200},children:(0,M.__)("Sort by","bitform")}),(0,v.jsxs)("select",{className:"btcd-paper-inp ml-2",name:"sortField",defaultValue:null==x?void 0:x.sortField,onChange:function(e){return T(e.target.name,e.target.value)},style:{width:250},children:[(0,v.jsx)("option",{value:"bitforms_form_entry_id",children:"ID"}),C.map((function(e){return(0,v.jsx)("option",{value:e.key,children:e.val},e.key)}))]})]}),(0,v.jsxs)("div",{className:"mt-3 flx",children:[(0,v.jsx)("b",{style:{width:200},children:(0,M.__)("Export File Format","bitform")}),(0,v.jsxs)("select",{className:"btcd-paper-inp ml-2",name:"fileFormate",defaultValue:null==x?void 0:x.fileFormate,style:{width:250},onChange:function(e){return T(e.target.name,e.target.value)},children:[(0,v.jsx)("option",{value:"csv",children:"CSV"}),(0,v.jsx)("option",{value:"xlsx",children:"Xlsx"}),(0,v.jsx)("option",{value:"xls",children:"Xls"}),(0,v.jsx)("option",{value:"fods",children:"Fods"}),(0,v.jsx)("option",{value:"ods",children:"Ods"}),(0,v.jsx)("option",{value:"prn",children:"Prn"}),(0,v.jsx)("option",{value:"txt",children:"Text"}),(0,v.jsx)("option",{value:"html",children:"Html"}),(0,v.jsx)("option",{value:"eth",children:"Eth"})]})]}),(0,v.jsx)("div",{children:(0,v.jsxs)("button",{type:"button",onClick:function(e){return function(e){e.preventDefault(),b(!0),(0,N.Z)({data:x},"bitforms_filter_export_data").then((function(e){var t;if(void 0!==e&&e.success)if(0!==(null==(t=e.data)?void 0:t.count)){var n=[];n[0]="Entry ID",C.map((function(e,t){n[t+1]=e.val}));var a=XLSX.utils.json_to_sheet(e.data),l=XLSX.utils.book_new();XLSX.utils.sheet_add_aoa(a,[n]),XLSX.utils.book_append_sheet(l,a),XLSX.writeFile(l,"bitform "+d+"."+(null==x?void 0:x.fileFormate))}else p((0,i.Z)({},{show:!0,msg:(0,M.__)("no response found","bitform")}));b(!1)}))}(e)},className:"btn btn-md blue btcd-mdl-btn",disabled:y,children:[(0,M.__)("Export","bitform"),y&&(0,v.jsx)(I.Z,{size:20,clr:"#fff",className:"ml-2"})]})})]})})]})}function W(e){var t=e.formID,n=e.cols,i=e.report,l=(0,a.useState)(!1),r=l[0],s=l[1];return(0,v.jsxs)("div",{children:[(0,v.jsx)(V,{showExportMdl:r,close:s,formID:t,cols:n,report:i}),(0,v.jsx)("div",{className:"btcd-menu",children:(0,v.jsxs)("button",{onClick:function(){s(!0)},className:"btn btn-date-range  mb3 tooltip",style:{"--tooltip-txt":"'"+(0,M.__)("Export")+"'"},type:"button",children:[" ",(0,v.jsx)(H,{size:"16"})," "]})})]})}n(67944),n(86911),n(32138);var X=n(4477);var q=n(72317),$=n(41685);n(68108),n(1047),n(27313),n(4955),n(99785);function ee(e){var t=e.size;return(0,v.jsxs)("svg",{width:t,height:t,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,v.jsx)("path",{d:"M6.99999 7.58334C7.32216 7.58334 7.58332 7.32217 7.58332 7.00001C7.58332 6.67784 7.32216 6.41667 6.99999 6.41667C6.67782 6.41667 6.41666 6.67784 6.41666 7.00001C6.41666 7.32217 6.67782 7.58334 6.99999 7.58334Z",fill:"#4D4D4D",stroke:"#4D4D4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,v.jsx)("path",{d:"M6.91666 3.33333C7.1928 3.33333 7.41666 3.10947 7.41666 2.83333C7.41666 2.55719 7.1928 2.33333 6.91666 2.33333C6.64051 2.33333 6.41666 2.55719 6.41666 2.83333C6.41666 3.10947 6.64051 3.33333 6.91666 3.33333Z",fill:"#4C4C4C",stroke:"#4D4D4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,v.jsx)("path",{d:"M6.99999 11.6667C7.32216 11.6667 7.58332 11.4055 7.58332 11.0833C7.58332 10.7612 7.32216 10.5 6.99999 10.5C6.67782 10.5 6.41666 10.7612 6.41666 11.0833C6.41666 11.4055 6.67782 11.6667 6.99999 11.6667Z",fill:"#4D4D4D",stroke:"#4D4D4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}function te(e){var t=e.size;return(0,v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 10 12",fill:"none",children:(0,v.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.87669 4.3875C9.10044 4.40592 9.26731 4.6015 9.24943 4.82525C9.24618 4.86209 8.95254 8.49791 8.78351 10.023C8.67841 10.9695 8.0532 11.5454 7.10944 11.5627C6.38726 11.5752 5.69054 11.5822 5.00954 11.5822C4.27544 11.5822 3.55976 11.5741 2.85166 11.5595C1.94582 11.5416 1.31899 10.9543 1.2166 10.0268C1.04594 8.48816 0.753928 4.86155 0.751219 4.82525C0.732799 4.6015 0.899664 4.40538 1.12342 4.3875C1.34392 4.38154 1.54329 4.53649 1.56117 4.7597C1.56289 4.78321 1.68227 6.26421 1.81236 7.72952L1.83849 8.02194C1.90402 8.75028 1.97043 9.45015 2.02438 9.9374C2.08235 10.4645 2.36678 10.7365 2.86846 10.7468C4.22288 10.7755 5.60494 10.7771 7.09481 10.7501C7.62791 10.7398 7.91613 10.4732 7.97573 9.9336C8.14368 8.4199 8.43623 4.79654 8.43948 4.7597C8.45736 4.53649 8.65511 4.38046 8.87669 4.3875ZM6.1466 0.746964C6.64395 0.746964 7.08116 1.08232 7.20956 1.56287L7.34717 2.24604C7.39164 2.47 7.58817 2.63355 7.81573 2.63714L9.59367 2.6372C9.81797 2.6372 10 2.81924 10 3.04353C10 3.26782 9.81797 3.44986 9.59367 3.44986L7.83161 3.44977C7.82887 3.44983 7.82613 3.44986 7.82338 3.44986L7.81016 3.44931L2.18963 3.44979C2.18526 3.44983 2.18089 3.44986 2.17651 3.44986L2.16817 3.44931L0.406328 3.44986C0.182035 3.44986 0 3.26782 0 3.04353C0 2.81924 0.182035 2.6372 0.406328 2.6372L2.18388 2.63666L2.23861 2.63319C2.44247 2.60675 2.6119 2.45192 2.65327 2.24604L2.78492 1.58725C2.91873 1.08232 3.35594 0.746964 3.85329 0.746964H6.1466ZM6.1466 1.55962H3.85329C3.72326 1.55962 3.60895 1.64684 3.5759 1.77199L3.44967 2.40586C3.43363 2.48615 3.41026 2.56353 3.38037 2.63735H6.61969C6.58975 2.56353 6.56634 2.48615 6.55022 2.40586L6.41857 1.74707C6.39094 1.64684 6.27663 1.55962 6.1466 1.55962Z",fill:"#626262"})})}function ne(e){var t=e.size;return(0,v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 10 11",fill:"none",children:(0,v.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.61539 9.6901C9.8277 9.6901 10 9.8624 10 10.0747C10 10.287 9.8277 10.4593 9.61539 10.4593H5.896C5.68369 10.4593 5.51139 10.287 5.51139 10.0747C5.51139 9.8624 5.68369 9.6901 5.896 9.6901H9.61539ZM7.23894 1.08216C7.26458 1.10216 8.12251 1.76881 8.12251 1.76881C8.43429 1.95444 8.67788 2.28623 8.77018 2.67904C8.86198 3.06775 8.79531 3.46877 8.58147 3.80773C8.58004 3.80999 8.57863 3.81223 8.57367 3.81887L8.56981 3.82401C8.5351 3.86975 8.38421 4.06054 7.62267 5.01467C7.61559 5.02717 7.60758 5.03889 7.59883 5.05027C7.58598 5.06704 7.57201 5.08246 7.55709 5.0965C7.50515 5.1619 7.45028 5.23062 7.3926 5.30287L7.27572 5.44926C7.03454 5.75129 6.74848 6.10944 6.4091 6.53424L6.23493 6.75224C5.57973 7.5723 4.74062 8.62228 3.66569 9.96707C3.43031 10.2604 3.0775 10.4312 2.69854 10.4358L0.832428 10.4594H0.8273C0.649356 10.4594 0.494488 10.3373 0.45295 10.1635L0.0329604 8.38352C-0.0537042 8.01481 0.0324476 7.6343 0.268852 7.33893L5.0995 1.29702C5.10155 1.29497 5.10309 1.29241 5.10514 1.29036C5.63488 0.657039 6.5928 0.563708 7.23894 1.08216ZM4.56091 3.20178L0.86935 7.81943C0.78166 7.92917 0.749353 8.0707 0.78166 8.2066L1.13088 9.68605L2.68931 9.66656C2.83751 9.66502 2.97443 9.59887 3.06519 9.48605C3.53261 8.90124 4.12007 8.16621 4.72405 7.4104L4.93774 7.14299L5.15179 6.87513C5.71823 6.16626 6.27783 5.46586 6.74605 4.87961L4.56091 3.20178ZM5.69744 1.78111L5.04142 2.60076L7.22637 4.27812C7.64693 3.75135 7.9236 3.40441 7.94918 3.37133C8.03328 3.23492 8.0661 3.04211 8.022 2.85647C7.97687 2.66622 7.85841 2.50469 7.68765 2.40161C7.65124 2.37648 6.78715 1.70573 6.76049 1.68471C6.43537 1.4242 5.96102 1.46933 5.69744 1.78111Z",fill:"#626262"})})}function ie(e){var t=e.size,n=void 0===t?15:t,i=e.stroke,a=void 0===i?2:i;return(0,v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:a,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-plus",children:[(0,v.jsx)("line",{className:"svg-icn",strokeWidth:a,x1:"12",y1:"5",x2:"12",y2:"19"}),(0,v.jsx)("line",{className:"svg-icn",strokeWidth:a,x1:"5",y1:"12",x2:"19",y2:"12"})]})}function ae(e){var t=e.size;return(0,v.jsxs)("svg",{width:t,height:t,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,v.jsx)("rect",{width:t,height:t,fill:"url(#pattern0)",fillOpacity:"0.44"}),(0,v.jsxs)("defs",{children:[(0,v.jsx)("pattern",{id:"pattern0",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:(0,v.jsx)("use",{xlinkHref:"#image0_8_22",transform:"scale(0.0104167)"})}),(0,v.jsx)("image",{id:"image0_8_22",width:"96",height:"96",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAGM0lEQVR4nO2dXYhVVRTHf1dwpqGkmVFLp+YpUUmdkh4Lo7GydKyeK0Iqkigo6YOgIKMSpPzoLaggggQTDKqHXhqKnqJILUtnHBSrh9RJrfGhsrnTw7qX0euds9e5Z++z97ln/2BzH87MWf+91rn77r32OetAJBKJRCKRSCQSKRsV3wIMzAdWAkuApcBi4GrgcqCn9glwDjhb+zwBjACHa5/7gD9yVT3N5lorDF3AemAHcACoAlMZ2yTwPfAmsBbozKkvm2v2C8FNwFvAONkdbmpngQ+A23E3AtSdH3QAOoGNwBjunT5TOwRsAGZb7NeFzg8yAF3AJuA3/Dm+sR0DHgc6Mvat0fnBBWAIOIp/h8/UjgBrWuxbM+cHE4B+4GP8O1jbPgQWpOjfTM4PIgD3INNA305N204Cdyn6l+R8YwBcrgM6gK3AUxntnAS+Bg4ic/tR4AzT836AK4BuZG1QXzMsA1Yha4lWqQJbECdPNjm+GXjZcA4va60exGmtXn3fIj/Uy8nWgQpwA/AssiBrVc/nSJAvxHTlexuC+oAfleIubH8B24DrHWpbAexEvjlp9X0DzKudR+v83AOwCJnSpenYaeRr3JujznnAa8CfKbUeAran/J/c6COd86vIivSqPEU2sKCmwUbKw2sAeoAfUogaA27JS5yC1cAvFDQAHaT7wd0DXJmHsJTMBT6jgAHYoRRSRWYjIVNBfo8KE4AhdOPneeBh12IssgHRHHQA+pEZjEnAv0iOv2h8ROAB0OR2qsjVVDTSzPO9BGCd0njoY34zbDrfSQC60KWU97gw7hjbzncSgE0Ko2OEOdVMwoXzrQegE/NOVpWwFlkaXDnfegA2Kgy+Z9uoY1w632oAKpg30E+TLf+eN66dbzUAtyqMmTYnQiIP51sNwLsGQ+eYzpeHTl7OtxaALsy58222jDkmT+dbC8B6hSGXO1ltyyzl3w0ajn8H/JxRSymxFYBdWYVEZmY+5pTzcm/qSsAakp1/gvCfMwgWzRC02HC8vh0ZaQFNAJYajh+0IaSs2PgGjNgQUlY0ATDdJTxqQ0hZ0QRgjuH4uA0hZcVGACZsCInMzD8kT0OzPtZTarQr4UhzOkm+OP82nUATgHOG4433zZeJzMOzJgCmk5hEtDNBBKAomzAuMPXdSgB+Nxw3LdTaGVPfTb5TBcC00l2iOEe7YkrTHDadwEYAypyKXmY4biVLcCfJU62TlDMdPQs4RbJvVtswNA/zhswKG4YKxkqSfTKJPHWTiGYIGkee/0riDsV52g1Tnw+gKBSlXQkPG47frzxPO/GA4fgXNo0NYb4tpUw/xgOY/XG3TYNdSG2GJIPbbRoMnJ0k++I0DkqjvWMwWqRbE7MwF1nhJvnibReGVxmMTgGvuDAcGFsw++FmF4YrSEWpJMNn8Ft6wDULkaIiST4YweG66DGD8SngfVfGA2AX5v4/4lJAJ/CrQUAVGa7ajUHMzj9ODjuETyuF5Fl+xjU96CrBPJGHmC50tT730h45ogrwCeb+jpBfVV7WKgRNAS/kJcghL6Hra+7pmL0KUVWKVaSjkQfRFSPZ7UNcP7pylOeBe30IzMh96CqmnEKqhXlhHbor5D/gUU8aW+EhpMqL5hvu/eLahm6MrCK/CSH/MFeQMV9bQ26rH5kXMxv4Cp3gKaTMTY8Xpcn0opvt1NswdquuZ6Ib2YDQij+GPPgdCoPI2kWrfz8BFiPpI31l9E+Ba32IrdFK2cqjSE4oSBaRPghngVfJN5U9H3gdc2KtmfOvy1FnSywk3XBUbxNIBUaXG/wDtF66eD8BX/mNdANfkr6T9bYPeA64kWx3cM9C7l54HnFgq3qGcTTmu5wSzkY2L57JaGcceRLzJ6R28yiy5desfH0vl5avN94aksAU8AbwIrKWKSRD5PN2JNttHFlotgXXIEX8fDtV23bjMb3gktuQoh6+HTxTO4LutSWFphN4EnfVyltpx5HNlNzy+SHQgSToRvHn+BFkD7f0DxrWX2VoutvYRsvjVYZqvAto4DIkL7O69jlA9ic5q8jCcBi5X3MYefQ2CEILQCNzaf462znIvL/+hGb9dbYTXPw621H8vs42EolEIpFIJBKJRC7hf4bxrwGHXm+EAAAAAElFTkSuQmCC"})]})]})}var le=n(56577),re=n(91286),se=n(83428),oe=(n(69306),n(53189)),ce=n(5736),de=n(84048),ue=n(38467),fe=["empty","not_empty","today","till_today","tomorrow","yesterday","till_yesterday","till_yesterday","last_7_days","last_30_days","last_60_days","last_90_days","last_120_days","next_7_days","next_30_days","next_60_days","next_90_days","next_120_days","current_week","next_week","last_week","current_month","next_month","last_month","current_year","next_year","last_year"],me=[{key:"user_id",lbl:"User",type:"user",typ:"user",name:"User"},{key:"user_ip",lbl:"IP address",type:"text",typ:"text",name:"IP address"},{key:"referer",lbl:"Refer URL",type:"text",typ:"text",name:"Refer URL"},{key:"user_device",lbl:"Device",type:"text",typ:"text",name:"Device"},{key:"status",lbl:"Entry Status",type:"boolean",typ:"boolean",name:"Entry Status"},{key:"created_at",lbl:"IP address",type:"date",typ:"date",name:"Created Time"}],pe=function(e,t,n){var i,a=[{title:"",type:"group",childs:[{label:(0,M.__)("Equal"),value:"equal"},{label:(0,M.__)("Not equal"),value:"not_equal"}]}];return e.match(/^(boolean)$/)||a[0].childs.push({label:(0,M.__)("Empty"),value:"empty"},{label:(0,M.__)("Not empty"),value:"not_empty"}),e.match(/^(number|color|url|password|date|time|datetime|month|week|boolean)$/)||a[0].childs.push({label:(0,M.__)("Start With"),value:"start_with"},{label:(0,M.__)("End With"),value:"end_with"},{label:(0,M.__)("Not Start With"),value:"not_start_with"},{label:(0,M.__)("Not End With"),value:"not_end_with"}),e.match(/^(number|date|time|datetime|month|week|boolean)$/)||e.match(/^(check|radio)$/)||(a[0].childs.push({label:(0,M.__)("Not contains"),value:"not_contain"}),a[0].childs.push({label:(0,M.__)("Contains"),value:"contain"})),("select"===e&&null!=t&&null!=(i=t[n])&&i.mul||"check"===e)&&a[0].childs.push({label:(0,M.__)("Contain All"),value:"contain_all"}),e.match(/^(number|date|time|datetime|month|week)$/)&&(a[0].childs.push({label:(0,M.__)("Greater Than"),value:"greater_than"}),a[0].childs.push({label:(0,M.__)("Less Than"),value:"less_than"}),a[0].childs.push({label:(0,M.__)("Greater Than or Equal"),value:"greater_than_equal"}),a[0].childs.push({label:(0,M.__)("Less Than or Equal"),value:"less_than_equal"})),e.match(/^(date|datetime)$/)&&(a.push({title:"Day",type:"group",childs:[{label:(0,M.__)("Today"),value:"today"},{label:(0,M.__)("Till Today"),value:"till_today"},{label:(0,M.__)("Tomorrow"),value:"tomorrow"},{label:(0,M.__)("Yesterday"),value:"yesterday"},{label:(0,M.__)("Till Yesterday"),value:"till_yesterday"},{label:(0,M.__)("Last 7 Days"),value:"last_7_days"},{label:(0,M.__)("Last 30 Days"),value:"last_30_days"},{label:(0,M.__)("Last 60 Days"),value:"last_60_days"},{label:(0,M.__)("Last 90 Days"),value:"last_90_days"},{label:(0,M.__)("Last 120 Days"),value:"last_120_days"},{label:(0,M.__)("Next 7 Days"),value:"next_7_days"},{label:(0,M.__)("Next 30 Days"),value:"next_30_days"},{label:(0,M.__)("Next 60 Days"),value:"next_60_days"},{label:(0,M.__)("Next 90 Days"),value:"next_90_days"},{label:(0,M.__)("Next 120 Days"),value:"next_120_days"}]}),a.push({title:"Week",type:"group",childs:[{label:(0,M.__)("Current Week"),value:"current_week"},{label:(0,M.__)("Next Week"),value:"next_week"},{label:(0,M.__)("Last Week"),value:"last_week"}]}),a.push({title:"Month",type:"group",childs:[{label:(0,M.__)("Current Month"),value:"current_month"},{label:(0,M.__)("Next Month"),value:"next_month"},{label:(0,M.__)("Last Month"),value:"last_month"}]}),a.push({title:"Year",type:"group",childs:[{label:(0,M.__)("Current Year"),value:"current_year"},{label:(0,M.__)("Next Year"),value:"next_year"},{label:(0,M.__)("Last Year"),value:"last_year"}]})),a};const he=function(e){var t,n=e.fieldVal,i=e.delLogic,a=e.lgcInd,l=e.subLgcInd,s=e.subSubLgcInd,o=e.value,d=e.changeLogic,u=e.logicValue,f=e.changeValue,m=e.changeFormField,p=(0,r.sJ)(c.AK),h=(0,r.sJ)(c.uJ).concat(me),y=(0,r.sJ)(c.hi),b=(y.isPro,y.userMail),g=fe,x="",j="",N="";return null==h||null==h.find||h.find((function(e){if(e.key===n)return x=e.type.match(/^(check|radio)$/)?"text":e.type,j=e.type,N=e.key,!0})),(0,v.jsxs)("div",{className:"flx pos-rel btcd-logic-blk",children:[(0,v.jsx)("span",{className:"btcd-logic-chip logic-chip-custom mr-2",children:"IF"}),(0,v.jsxs)(ue.Z,{label:"Form Fields",value:n||"",style:{width:720},onChange:function(e){return m(e.target.value,a,l,s)},className:"mt-0",children:[(0,v.jsx)("option",{value:"",children:(0,M.__)("Select Form Field")}),h.map((function(e){return!e.type.match(/^(file-up|recaptcha)$/)&&(0,v.jsx)("option",{value:e.key,children:e.name},"ff-lb-"+e.key)}))]}),(0,v.jsx)("svg",{height:"35",width:"100",children:(0,v.jsx)("line",{x1:"0",y1:"20",x2:"40",y2:"20",style:{stroke:"#b9c5ff",strokeWidth:1}})}),(0,v.jsx)(ce.Z,{action:function(e){return d(e,a,l,s)},placeholder:(0,M.__)("Logic"),value:u||"",titleClassName:"w-7 ml-2 ",className:"mr-2 report-drpdwn w-10",options:pe(x,p,N)}),!g.includes(u)&&(0,v.jsx)("svg",{height:"35",width:"100",children:(0,v.jsx)("line",{x1:"0",y1:"20",x2:"40",y2:"20",style:{stroke:"#b9c5ff",strokeWidth:1}})}),!g.includes(u)&&(j.match(/select|check|radio|user|boolean/g)?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(se.Z,{className:"msl-wrp-options btcd-paper-drpdwn w-10",defaultValue:o.toString()||"",onChange:function(e){return f(e,a,j)},options:function(){var e,t,n,i=[];"select"===j?i=null==p||null==(e=p[N])?void 0:e.opt:i=null==p||null==(t=p[N])||null==(n=t.opt)?void 0:n.map((function(e){return{label:e.lbl,value:e.val||e.lbl}}));return"user"===j&&(i=null==b?void 0:b.map((function(e){return{label:e.label,value:e.id}}))),"boolean"===j&&(i=[{label:(0,M.__)("Read entries"),value:"0"},{label:(0,M.__)("Unread entries"),value:"1"},{label:(0,M.__)("Confirmed entries"),value:"3"},{label:(0,M.__)("Unconfirmed entries"),value:"2"}]),i}(),customValue:!0,singleSelect:"select"===j?!(null!=p&&null!=(t=p[N])&&t.mul):"check"!==j&&(j.match(/radio|boolean/g)&&!0),fldType:j})}):(0,v.jsx)(de.Z,{label:"Value",type:x,onChange:function(e){return f(e.target.value,a)},value:o||""})),(0,v.jsx)("div",{className:"w-1",children:(0,v.jsx)(re.Z,{onClick:function(){return i(a)},icn:!0,className:"ml-2 white mr-2 sh-sm abc",children:(0,v.jsx)(oe.Z,{size:"16"})})})]})};var ye=n(61933);const be=function(e){var t,n,i,a=e.formFields,l=e.dataConf,r=e.setDataConf,s=e.reportInd,o=fe,c=function(e,t){r((function(n){var i=(0,m.p$)(n);return i[s].details.conditions[t]=e,i}))},d=function(e,t){r((function(n){var i=(0,m.p$)(n);return i[s].details.conditions[t].field=e,i[s].details.conditions[t].val="",i}))},u=function(e,t,n){void 0===n&&(n=null),r((function(i){var a=(0,m.p$)(i);return a[s].details.conditions[t].val=function(e,t){return["user","select","check"].includes(e)?""===t?[]:t.split(","):t}(n,e),a}))},f=function(e,t){r((function(n){var i=(0,m.p$)(n);return i[s].details.conditions[t].val="",o.includes(e)&&(i[s].details.conditions[t].val=e),i[s].details.conditions[t].logic=e,i}))},p=function(e){var t,n,i;(null==(t=l[s])||null==(n=t.details)||null==(i=n.conditions)?void 0:i.length)>1&&r((function(t){var n=(0,m.p$)(t);return 0!==e?n[s].details.conditions.splice(e-1,2):n[s].details.conditions.splice(e,2),n}))},h=function(e){"and"===e?r((function(e){var t=(0,m.p$)(e);return t[s].details.conditions.push("and"),t[s].details.conditions.push({field:"",logic:"",val:""}),t})):"or"===e&&r((function(e){var t=(0,m.p$)(e);return t[s].details.conditions.push("or"),t[s].details.conditions.push({field:"",logic:"",val:""}),t}))},y=function(e,t){"and"===e?r((function(e){var n=(0,m.p$)(e);return n[s].details.conditions[t].push("and"),n[s].details.conditions[t].push({field:"",logic:"",val:""}),n})):"or"===e&&r((function(e){var n=(0,m.p$)(e);return n[s].details.conditions[t].push("or"),n[s].details.conditions[t].push({field:"",logic:"",val:""}),n}))},b=function(e,t,n){"and"===e?r((function(e){var i=(0,m.p$)(e);return i[s].details.conditions[t][n].push("and"),i[s].details.conditions[t][n].push({field:"",logic:"",val:""}),i})):"or"===e&&r((function(e){var i=(0,m.p$)(e);return i[s].details.conditions[t][n].push("or"),i[s].details.conditions[t][n].push({field:"",logic:"",val:""}),i}))},g=function(e,t){r((function(n){var i=(0,m.p$)(n);return i[s].details.conditions[t].val=e,i}))};return(0,v.jsxs)("div",{style:{width:800},children:[(0,v.jsx)("div",{children:null==(t=l[s])||null==(n=t.details)||null==(i=n.conditions)?void 0:i.map((function(e,t){return(0,v.jsxs)("span",{children:["object"===typeof e&&!Array.isArray(e)&&(0,v.jsx)(he,{fieldVal:e.field,changeFormField:d,changeValue:u,logicValue:e.logic,changeLogic:f,delLogic:p,lgcInd:t,value:e.val,formFields:a,setValue:g}),"string"===typeof e&&(0,v.jsx)(ye.Z,{logic:e,onChange:function(e){return c(e.target.value,t)},className:"logic-chip-custom"}),Array.isArray(e)&&(0,v.jsxs)("div",{className:"p-2 pl-6 br-10 btcd-logic-grp",children:[e.map((function(e,n){return(0,v.jsxs)("span",{children:["object"===typeof e&&!Array.isArray(e)&&(0,v.jsx)(he,{fieldVal:e.field,changeFormField:d,changeValue:u,logicValue:e.logic,changeLogic:f,delLogic:p,lgcInd:t,subLgcInd:n,value:e.val,formFields:a,setValue:g}),"string"===typeof e&&(0,v.jsx)(ye.Z,{logic:e,nested:!0,onChange:function(e){return c(e.target.value,t)},className:"logic-chip-custom"}),Array.isArray(e)&&(0,v.jsxs)("div",{className:"p-2 pl-6 br-10 btcd-logic-grp",children:[e.map((function(e,i){return(0,v.jsxs)("span",{children:["object"===typeof e&&!Array.isArray(e)&&(0,v.jsx)(he,{fieldVal:e.field,changeFormField:d,changeValue:u,logicValue:e.logic,changeLogic:f,delLogic:p,lgcInd:t,subLgcInd:n,subSubLgcInd:i,value:e.val,formFields:a,setValue:g}),"string"===typeof e&&(0,v.jsx)(ye.Z,{logic:e,nested:!0,onChange:function(e){return c(e.target.value,t)},className:"logic-chip-custom"})]},"subsubLogic-"+(i+90))})),(0,v.jsx)("div",{className:"btcd-workFlows-btns",children:(0,v.jsxs)("div",{className:"flx",children:[(0,v.jsx)(re.Z,{icn:!0,className:"blue",children:(0,v.jsx)(X.Z,{size:"14",className:"icn-rotate-45"})}),(0,v.jsxs)(re.Z,{onClick:function(){return b("and",t,n)},className:"blue ml-2",children:[(0,v.jsx)(X.Z,{size:"10",className:"icn-rotate-45 mr-1"}),"AND"," "]}),(0,v.jsxs)(re.Z,{onClick:function(){return b("or",t,n)},className:"blue ml-2",children:[(0,v.jsx)(X.Z,{size:"10",className:"icn-rotate-45 mr-1"}),"OR"," "]})]})})]})]},"subLogic-"+7*n)})),(0,v.jsx)("div",{className:" btcd-workFlows-btns",children:(0,v.jsxs)("div",{className:"flx",children:[(0,v.jsx)(re.Z,{icn:!0,className:"blue sh-sm",children:(0,v.jsx)(X.Z,{size:"14",className:"icn-rotate-45"})}),(0,v.jsxs)(re.Z,{onClick:function(){return y("and",t)},className:"gray ml-2",children:[(0,v.jsx)(X.Z,{size:"10",className:"icn-rotate-45 mr-1"}),"AND"]}),(0,v.jsxs)(re.Z,{onClick:function(){return y("or",t)},className:"gray ml-2",children:[(0,v.jsx)(X.Z,{size:"10",className:"icn-rotate-45 mr-1"}),"OR"]})]})})]})]},"logic-"+(t+44))}))}),(0,v.jsx)("div",{className:"btcd-workFlows-btns",children:(0,v.jsxs)("div",{className:"flx",children:[(0,v.jsxs)(re.Z,{onClick:function(){return h("and")},className:"blue ml-2",children:[(0,v.jsx)(X.Z,{size:"10",className:"icn-rotate-45 mr-1"}),"AND"]}),(0,v.jsxs)(re.Z,{onClick:function(){return h("or")},className:"blue ml-2",children:[(0,v.jsx)(X.Z,{size:"10",className:"icn-rotate-45 mr-1"}),"OR"]})]})})]})};function ve(e){e.fetchData;var t,n,s,d,u,f,p=e.setRefreshResp,h=(0,r.sJ)(c.F8),y=(0,r.FV)(c.TR),b=y[0],g=y[1],x=(0,r.FV)(c.VM),j=x[0],_=x[1],w=j.findIndex((function(e){var t;return(null==e?void 0:e.id)&&e.id.toString()===(null==b||null==(t=b.id)?void 0:t.toString())})),L=(0,r.sJ)(c.uJ),T=(0,a.useState)(!1),S=T[0],A=T[1],z=(0,a.useState)(w||0),E=z[0],O=z[1],F=(0,l.UO)().formID,Z=(0,a.useState)({show:!1}),R=Z[0],Y=Z[1],B=(0,a.useState)([]),P=B[0],K=B[1],U=(0,a.useState)(!1),J=U[0],G=U[1],H=(0,a.useState)({show:!1,msg:""}),V=H[0],W=H[1],X=(0,r.sJ)(c.hi).isPro,re=(0,a.useState)(!1),se=re[0],oe=re[1],ce=(0,a.useState)({show:!1}),de=ce[0],ue=ce[1];(0,a.useEffect)((function(){O(w)}),[b]),(0,a.useEffect)((function(){me()}),[j]),(0,a.useEffect)((function(){var e,t,n;if(j[E]&&null!=(e=j[E])&&e.details&&(null==(t=j[E])||null==(n=t.details)||!n.conditions)){var i=(0,m.p$)([].concat(j));i[E]&&(i[E].details.conditions=[{field:"",logic:"",val:""},"or",{field:"",logic:"",val:""}],_(i))}}),[]);var fe=function(e){var t=j.find((function(t){var n;return(null==t||null==(n=t.id)?void 0:n.toString())===e.toString()}));g({id:e,isDefault:"1"===(null==t?void 0:t.isDefault)})},me=function(){var e=[];return j.forEach((function(t){var n;return t.id&&e.push({label:(null==t||null==(n=t.details)?void 0:n.report_name)||"",value:t.id.toString(),isDefault:t.isDefault})})),K([].concat(e)),e},pe=function(e){var t=(0,N.Z)({report_id:e},"bitforms_delete_report").then((function(t){if(null!=t&&t.success){var n=j.findIndex((function(t){return t.id===e})),i=(0,m.p$)([].concat(j));i.splice(n,1),_(i)}else if(null==t||!t.success)return"Error occured";return t}));C.ZP.promise(t,{loading:(0,M.__)("Deleting ..."),success:function(e){var t;return(null==e||null==(t=e.data)?void 0:t.message)||(null==e?void 0:e.data)},error:(0,M.__)("Error occurred, Please try again.")})},he=function(){R.show=!1,Y((0,i.Z)({},R))};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Q.Z,{snack:de,setSnackbar:ue}),(0,v.jsxs)("div",{className:"flx w-10",children:[(0,v.jsxs)("div",{className:"flx btcd-custom-report-dpdw mr-2",children:[(0,v.jsx)("div",{className:"w-9",children:(null==h||null==(t=h.details)||null==(n=t.report_name)?void 0:n.length)>11?(null==(s=h.details.report_name)?void 0:s.slice(0,11))+"...":null==h||null==(d=h.details)?void 0:d.report_name}),(0,v.jsx)("button",{className:"sm b-none tooltip pos-rel",title:"Refresh",onClick:function(){return p(1)},type:"button",style:{"--tooltip-txt":"'"+(0,M.__)("Refresh")+"'"},children:(0,v.jsx)(ae,{size:"15"})})]}),(0,v.jsxs)("div",{className:"mr-2",children:[(0,v.jsx)(k.Z,{show:R.show,close:he,btnTxt:R.btnTxt,btnClass:R.btnClass,body:R.body,action:R.action}),(0,v.jsx)(q.ZP,{animation:"shift-away-extreme",theme:"light-border",trigger:"click",arrow:$.ki,interactive:"true",placement:"bottom",appendTo:"parent",className:"report-tippy-box",content:(0,v.jsxs)("div",{style:{height:250},children:[(0,v.jsx)("div",{className:"ml-1 mb-2",style:{color:"#rgb(63, 63, 63)"},children:"All Reports"}),(0,v.jsxs)("div",{className:"report-search mb-3",children:[(0,v.jsx)("span",{children:(0,v.jsx)(le.Z,{size:"16"})}),(0,v.jsx)("input",{type:"text",placeholder:"Search reports",onChange:function(e){var t=e.target.value,n=me().filter((function(e){var n;return null==(n=e.label)?void 0:n.toLowerCase().includes(t.toLowerCase())}));K(n)},className:"dpdw-input-box"})]}),0===P.length&&(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{style:{color:"#000"},children:"No matching report found"})}),(0,v.jsx)(o.ZP,{style:{height:"70%"},autoHide:!0,children:(0,v.jsx)("div",{children:null==P?void 0:P.map((function(e){var t,n;return(0,v.jsxs)("div",{className:"mt-1  report-content-item flx "+(e.value===(null==h?void 0:h.id)?"report-dpdw-active":""),children:[(0,v.jsx)("button",{type:"button",className:"report-content-btn-item",disabled:e.value===(null==h?void 0:h.id),title:null==e?void 0:e.label,onClick:function(){return t=e.value,void fe(t);var t},children:(null==e||null==(t=e.label)?void 0:t.length)>14?(null==e||null==(n=e.label)?void 0:n.slice(0,14))+"...":null==e?void 0:e.label}),"0"===e.isDefault.toString()&&(0,v.jsxs)("div",{className:"show_tippy_action",children:[(0,v.jsx)("button",{className:"icn-btn sm",title:"Edit",onClick:function(){return function(e){if(X){G(!0);var t=P.findIndex((function(t){return t.value===e}));setTimeout((function(){O(t),A(!0)}),1)}else W({show:!0,msg:"Edit option available in the pro version!"})}(e.value)},type:"button",children:(0,v.jsx)(ne,{size:12})}),e.value!==(null==h?void 0:h.id)&&(0,v.jsx)("button",{className:"icn-btn sm",title:"Delete",onClick:function(){return t=e.value,R.btnTxt=(0,M.__)("Delete","bitform"),R.body=(0,M.__)("Are you sure to delete this report","bitform"),R.btnClass="",R.action=function(){pe(t),he()},R.show=!0,void Y((0,i.Z)({},R));var t},type:"button",children:(0,v.jsx)(te,{size:12})})]})]})}))})})]}),children:(0,v.jsx)("div",{children:(0,v.jsx)("button",{className:"btn btcd-btn-sm br-15",type:"button",children:(0,v.jsx)(ee,{size:"14"})})})}),(0,v.jsx)(D.Z,{md:!0,show:S,setModal:A,title:"Report",style:{overflow:"auto"},onCloseMdl:function(){A(!1);var e=(0,m.p$)([].concat(j));e[E].id||(e.splice(E,1),_(e))},children:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"flx mt-4",children:[(0,v.jsx)("label",{children:" Name  "}),(0,v.jsx)("input",{type:"text",name:"report_name",value:(null==(u=j[E])||null==(f=u.details)?void 0:f.report_name)||"",onChange:function(e){var t=e.target,n=t.value,i=t.name,a=(0,m.p$)([].concat(j));a[E].details[i]=n,_(a)},placeholder:"Please enter report name",className:"ml-2 btcd-paper-inp w-6"})]}),(0,v.jsx)("div",{className:"mt-4",children:(0,v.jsx)(be,{formFields:L,dataConf:j,setDataConf:_,reportInd:E||0})}),(0,v.jsx)("div",{className:"mt-2 f-left",children:(0,v.jsxs)("button",{type:"button",className:"btn-md btn blue f-right",onClick:function(){var e,t,n=j[E].id;if(J||(n=0),""!==(null==(e=j[E])||null==(t=e.details)?void 0:t.report_name)){oe(!0);var i=(0,N.Z)({report:j[E].details,formId:F,reportId:n},"bitforms_save_report").then((function(e){if(null!=e&&e.success){var t,i=e.data;J&&b.id===n&&fe(i.report_id);var a=(0,m.p$)(j);a[E].id=null==i||null==(t=i.report_id)?void 0:t.toString(),_(a)}else if(null==e||!e.success)return"Error occured";return oe(!1),A(!1),e}));C.ZP.promise(i,{loading:(0,M.__)("Saving...","biform"),success:function(e){var t;return(null==e||null==(t=e.data)?void 0:t.message)||(null==e?void 0:e.data)},error:(0,M.__)("Error occurred, Please try again.","bitform")})}else ue({show:!0,msg:(0,M.__)("report name cann't be empty","bitform")})},children:["Save",se&&(0,v.jsx)(I.Z,{size:20,clr:"#fff",className:"ml-2"})]})})]})})]}),(0,v.jsx)("div",{className:"w-1 mt-2",children:(0,v.jsx)("button",{className:"btn btcd-btn-sm mt-0 br-15 tooltip pos-rel",style:{"--tooltip-txt":"'"+(0,M.__)("Create New Report")+"'"},onClick:function(){if(X){G(!1);var e=(0,m.p$)([].concat(j)),t=e.push({isDefault:"0",type:"table",details:{report_name:"new report ",hiddenColumns:[],pageSize:10,sortBy:[],filters:[],globalFilter:"",order:[],conditions:[{field:"",logic:"",val:""},"or",{field:"",logic:"",val:""}]}})-1;_(e),setTimeout((function(){O(t),A(!0)}),1)}else W({show:!0,msg:"Only the default report is available in the free version!"})},type:"button",children:(0,v.jsx)(ie,{size:14})})}),(0,v.jsx)("div",{children:(0,v.jsxs)(D.Z,{sm:!0,show:V.show,setModal:function(){return W({show:!1})},title:(0,M.__)("Premium Feature","bitform"),className:"pro-modal",children:[(0,v.jsx)("h4",{className:"txt-center mt-5",children:V.msg}),(0,v.jsx)("div",{className:"txt-center",children:(0,v.jsx)("a",{href:"https://www.bitapps.pro/bit-form",target:"_blank",rel:"noreferrer",children:(0,v.jsx)("button",{className:"btn btn-lg blue",type:"button",children:(0,M.__)("Buy Premium","bitform")})})})]})})]})]})}const ge=function(e){return(0,v.jsxs)("div",{className:"btcd-drawer",style:{right:e.show?0:-420},children:[(0,v.jsxs)("div",{className:"flx flx-between",children:[(0,v.jsx)("div",{className:"btcd-drawer-title",children:e.title}),(0,v.jsxs)("div",{className:"flx",children:[(0,v.jsx)("button",{onClick:e.relatedinfo,className:"icn-btn btcd-icn-lg tooltip",style:{"--tooltip-txt":'"Related Info"'},"aria-label":"icon-btn",type:"button",children:(0,v.jsx)("span",{className:"btcd-icn icn-information-outline",style:{fontSize:16}})}),(0,v.jsx)("button",{onClick:e.editData,className:"icn-btn btcd-icn-lg tooltip",style:{"--tooltip-txt":'"Edit"'},"aria-label":"icon-btn",type:"button",children:(0,v.jsx)("span",{className:"btcd-icn icn-document-edit",style:{fontSize:16}})}),(0,v.jsx)("button",{onClick:e.delConfMdl,className:"icn-btn btcd-icn-lg tooltip",style:{"--tooltip-txt":'"Delete"'},"aria-label":"icon-btn",type:"button",children:(0,v.jsx)("span",{className:"btcd-icn icn-trash-fill",style:{fontSize:16}})}),(0,v.jsx)("button",{onClick:function(){return e.close(!1)},className:"icn-btn btcd-icn-lg tooltip",style:{"--tooltip-txt":'"Close"'},"aria-label":"modal-close",type:"button",children:(0,v.jsx)(X.Z,{size:"14",stroke:"3"})})]})]}),(0,v.jsx)("small",{className:"btcd-mdl-subtitle",children:e.subTitle}),(0,v.jsx)("div",{className:"btcd-mdl-div"}),e.children]})};var xe=n(6875);const je=function(e){return(0,v.jsx)("div",{className:"btcd-t-action-wrp flx",children:(0,v.jsxs)("div",{className:"btcd-t-action",children:["dup"in e&&(0,v.jsx)("button",{onClick:e.dup,className:"icn-btn btcd-hid-icn tooltip",style:{"--tooltip-txt":'"Duplicate"'},"aria-label":"action btn",type:"button",children:(0,v.jsx)("span",{className:"btcd-icn btcd-icn-sm icn-file_copy"})}),"del"in e&&(0,v.jsx)("button",{onClick:e.del,className:"icn-btn btcd-hid-icn tooltip",style:{"--tooltip-txt":'"Delete"'},"aria-label":"action btn",type:"button",children:(0,v.jsx)("span",{className:"btcd-icn btcd-icn-sm icn-trash-fill"})}),"edit"in e&&(0,v.jsx)("button",{onClick:e.edit,className:"icn-btn btcd-hid-icn tooltip",style:{"--tooltip-txt":'"Edit"'},"aria-label":"action btn",type:"button",children:(0,v.jsx)("span",{className:"btcd-icn btcd-icn-sm icn-document-edit"})}),(0,v.jsx)("button",{className:"icn-btn btcd-ph-btn","aria-label":"action btn",type:"button",children:(0,v.jsx)("span",{className:"btcd-icn btcd-icn-sm icn-dots-three-horizontal"})})]})})};const Ne=function(e){return(0,v.jsxs)("div",{className:"btcd-t-link flx mr-2 prevent-drawer",children:[(0,v.jsx)("div",{className:"tooltip",style:{"--tooltip-txt":'"'+e.fname+'"',width:(e.width?e.width:"80")+"px"},children:(0,v.jsxs)("a",{href:""+e.link,rel:"noopener noreferrer",target:"_blank",className:"prevent-drawer",children:[(0,v.jsx)("span",{className:"btcd-icn icn-file"})," ",e.fname]})}),(0,v.jsx)("a",{target:"_blank",href:e.link+"&download",download:!0,rel:"noopener noreferrer","aria-label":"Download",className:"icn-btn icn-btn-sm flx prevent-drawer",children:(0,v.jsx)("span",{className:"btcd-icn icn-file_download"})})]})};var Me=n(89165);function Ie(e){var t=e.allResp,n=e.setAllResp,s=e.integrations,o=(0,r.sJ)(c.z8),d=(0,a.useState)({show:!1,msg:""}),u=d[0],f=d[1],p=(0,a.useState)(!1),h=p[0],y=p[1],b=(0,l.UO)().formID,g=(0,a.useRef)(0),x=(0,a.useState)(0),j=x[0],I=x[1],D=(0,a.useState)(!1),w=D[0],C=D[1],T=(0,a.useState)(!1),S=T[0],A=T[1],z=(0,a.useState)(null),E=z[0],O=z[1],F=(0,a.useState)({show:!1,data:{}}),Z=F[0],R=F[1],Y=(0,a.useState)({show:!1}),B=Y[0],P=Y[1],K=(0,a.useState)([]),U=K[0],J=K[1],H=(0,a.useState)([]),V=H[0],X=H[1],q=(0,r.Zl)(c.pH),$=(0,a.useState)(0),ee=$[0],te=$[1],ne=(0,a.useState)(0),ie=ne[0],ae=ne[1],le=(0,r.sJ)(c.hi),re=(0,r.sJ)(c.F8),se=(0,r.sJ)(c.TR),oe=(0,r.sJ)(c.VM),ce=oe.findIndex((function(e){var t;return(null==e?void 0:e.id)&&e.id.toString()===(null==se||null==(t=se.id)?void 0:t.toString())})),de=(0,a.useRef)(0);(0,a.useEffect)((function(){if(re){var e,t,n={};o.map((function(e){n[e.key]=e}));var i=[];null==(e=re.details)||null==(t=e.order)||t.forEach((function(e){e&&"sl"!==e&&"selection"!==e&&"table_ac"!==e&&void 0!==n[e]&&i.push(n[e])})),be(i.length?i:o)}else o.length&&be(o)}),[o]);var ue=(0,a.useCallback)((function(){B.show=!1,P((0,i.Z)({},B))}),[B]),fe=(0,a.useCallback)((function(e,t,i){var a=[],l=[];if("object"===typeof e[0])for(var r=0;r<e.length;r+=1)a[e[r].original.entry_id]=e[r].id,l.push(e[r].original.entry_id);else a[e.original.entry_id]=e.id,l.push(e.original.entry_id);var s=(0,m.p$)(t),o={formID:b,entries:l};(0,N.Z)(o,"bitforms_duplicate_form_entries").then((function(e){if(e.success&&"undefined"!==e.data.message){var t,l,r;if(i&&i.fetchData&&i.data)i.fetchData(i.data);else null==(t=Object.entries((null==e||null==(l=e.data)?void 0:l.details)||{}))||t.forEach((function(e){var t=e[0],n=e[1];(r=JSON.parse(JSON.stringify(s[a[t]]))).entry_id=n,s[a[t]].entry_id=t,s.unshift(r),s.pop()})),n(s);f({show:!0,msg:e.data.message})}}))}),[]),me=(0,a.useCallback)((function(e,t,n){B.btnTxt=(0,M.__)("Duplicate","bitform"),B.btnClass="blue",B.body=(0,M.__)("Are you sure to duplicate this entry?","bitform"),B.action=function(){fe(e,t,n),ue()},B.show=!0,P((0,i.Z)({},B))}),[fe,ue,B]),pe=(0,a.useCallback)((function(){Z.show=!1,R((0,i.Z)({},Z))}),[Z]),he=(0,a.useCallback)((function(e,t){var n=[],i=[];if("object"===typeof e[0])for(var a=0;a<e.length;a+=1)n.push(e[a].id),i.push(e[a].original.entry_id);else n.push(e.id),i.push(e.original.entry_id);var l={formID:b,entries:i};(0,N.Z)(l,"bitforms_bulk_delete_form_entries").then((function(e){e.success&&(t&&t.fetchData&&t.data&&t.fetchData(t.data),f({show:!0,msg:e.data.message}))}))}),[]),ye=(0,a.useCallback)((function(e,t){void 0!==e.idx&&(e.id=e.idx,e.original=e.data[0].row.original),B.btnTxt="Delete",B.body="Are you sure to delete this entry",B.btnClass="",B.action=function(){he(e,t),ue(),pe()},B.show=!0,P((0,i.Z)({},B))}),[ue,pe,B,he]),be=function(e){var t;void 0===e&&(e=[]);var n=null==(t=e)?void 0:t.map((function(e){return(0,i.Z)({Header:e.adminLbl||e.name||e.key,accessor:e.key,fieldType:e.type,minWidth:50},"type"in e&&e.type.match(/^(file-up|check|select|sys)$/)&&{Cell:function(t){if(null!==t.cell.value&&void 0!==t.cell.value&&""!==t.cell.value){if("file-up"===e.type)return Ce(t.cell.value).map((function(e,n){return(0,v.jsx)(Ne,{fname:Le(e),link:le.baseDLURL+"formID="+b+"&entryID="+t.cell.row.original.entry_id+"&fileID="+Te(e)},"file-n-"+(t.cell.row.index+n))}));if("check"===e.type||"select"===e.type)try{var n="string"===typeof t.cell.value&&t.cell.value.length>0&&"["===t.cell.value[0]?JSON.parse(t.cell.value):void 0!==t.cell.value&&t.cell.value.split(",");return n.map((function(e,t){return t<n.length-1?e+",":e}))}catch(l){return t.cell.value}var i;if("__user_id"===e.key)return null!=le&&null!=(i=le.user[t.cell.value])&&i.url?(0,v.jsx)("a",{href:le.user[t.cell.value].url,children:le.user[t.cell.value].name}):null;if("__entry_status"===e.key){var a=Number(t.cell.value);return Ie(a)}return"__user_ip"===e.key&&isFinite(Number(t.cell.value))?(0,m.x_)(t.cell.value):t.cell.value}return null}})}));n.unshift({Header:"#",accessor:"sl",Cell:function(e){return(0,v.jsx)(v.Fragment,{children:Number(e.state.pageIndex*e.state.pageSize)+Number(e.row.id)+1})},width:40}),n.push({id:"t_action",width:70,maxWidth:70,minWidth:70,sticky:"right",Header:(0,v.jsx)("span",{className:"btcd-icn btcd-icn-sm icn-settings ml-2",title:(0,M.__)("Settings","bitform")}),accessor:"table_ac",Cell:function(e){return(0,v.jsx)(je,{edit:function(){return De(e.row)},del:function(){return ye(e.row,{fetchData:e.fetchData,data:{pageIndex:e.state.pageIndex,pageSize:e.state.pageSize,sortBy:e.state.sortBy,filters:e.state.filters,globalFilter:e.state.globalFilter}})},dup:function(){return me(e.row,e.data,{fetchData:e.fetchData,data:{pageIndex:e.state.pageIndex,pageSize:e.state.pageSize,sortBy:e.state.sortBy,filters:e.state.filters,globalFilter:e.state.globalFilter}})}})}});var a=Se(n);J(a),X(n)},Ie=function(e){return 0===e?"Read":1===e?"Unread":2===e?"Unconfirmed":3===e?"Confirmed":void 0},De=(0,a.useCallback)((function(e){void 0!==e.idx&&(e.id=e.idx,e.original=e.data[0].row.original),O(e.original.entry_id),C(!0)}),[]),_e=(0,a.useCallback)((function(e){var i=e.pageSize,a=e.pageIndex,l=e.sortBy,r=e.filters,s=e.globalFilter,o=e.conditions,c=e.entriesFilterByDate;if(ie)return ae(0),void y(!0);var d=++g.current;if(t.length<1&&y(!0),d===g.current){var u=i*a;(0,N.Z)({id:b,offset:u,pageSize:i,sortBy:l,filters:r,globalFilter:s,conditions:o,entriesFilterByDate:c},"bitforms_get_form_entries").then((function(e){null!=e&&e.success&&(I(Math.ceil(e.data.count/i)),te(e.data.count),n(e.data.entries)),q((function(t){return(0,Me.U)(t,{type:"update",data:{formID:b,entries:e.data.count}})})),y(!1)}))}}),[ye,me,De,b,ie]),we=(0,a.useCallback)((function(e,a,l,r){var s=e.target.parentElement.children[1].textContent;if(de.current=s,!e.target.classList.contains("prevent-drawer")){var o=(0,i.Z)({},Z);o.show&&Z.idx===l?o.show=!1:(o.data=a,o.idx=l,o.show=!0),R((0,i.Z)({},o));var c=a.find((function(e){return"__entry_status"===e.column.id}));if(c&&"1"===c.value){var d=t[l].entry_id;(0,N.Z)({formId:b,entryId:d},"bitforms_entry_status_update").then((function(e){if(e.success){var i,a=[].concat(t);a[l].__entry_status="0",a[l].__updated_at=null==e||null==(i=e.data)?void 0:i.update_at_time,n(a)}}))}}}),[Z]),Ce=function(e){try{var t=e?JSON.parse(e):[];return Array.isArray(t)?t:"[object Object]"===Object.prototype.toString.call(t)?Object.values(t):t}catch(n){return[]}},Le=function(e){var t=null==e?void 0:e.split("_");return t.length>1?t[1]:e},Te=function(e){var t=null==e?void 0:e.split("_");return t.length>1?t[0]:e},ke=function(e){var n,i,a,l,r,s,o,c,d,u;if("file-up"===e.fieldType)return null==(a=Ce(null==(l=t[Z.idx])?void 0:l[e.accessor]))?void 0:a.map((function(e,n){return(0,v.jsx)(Ne,{fname:Le(e),width:"100",link:le.baseDLURL+"formID="+b+"&entryID="+t[Z.idx].entry_id+"&fileID="+Te(e)},"file-n-"+(n+1.1))}));if("color"===e.fieldType)return(0,v.jsxs)("div",{className:"flx",children:[t[Z.idx][e.accessor],(0,v.jsx)("span",{style:{background:t[Z.idx][e.accessor],height:20,width:20,borderRadius:5,display:"inline-block",marginLeft:10}})]});if("check"===e.fieldType)return(null==(r=t[Z.idx])?void 0:r[e.accessor])&&t[Z.idx][e.accessor].replace(/\[|\]|"/g,"");if("__user_id"===e.accessor)return null!=le&&null!=(s=le.user[null==(o=t[Z.idx])?void 0:o[e.accessor]])&&s.url?(0,v.jsx)("a",{href:le.user[null==(c=t[Z.idx])?void 0:c[e.accessor]].url,children:le.user[null==(d=t[Z.idx])?void 0:d[e.accessor]].name}):null;if("__user_ip"===e.accessor&&isFinite(null==(n=t[Z.idx])?void 0:n[e.accessor]))return(0,m.x_)(null==(u=t[Z.idx])?void 0:u[e.accessor]);if("__entry_status"===e.accessor){var f,p=Number(null==(f=t[Z.idx])?void 0:f[e.accessor]);return Ie(p)}return null==t||null==(i=t[Z.idx])?void 0:i[e.accessor]},Se=function(e){return e.filter((function(e){return!["__user_id","__user_ip","__referer","__user_device","__created_at","__updated_at"].includes(e.accessor)}))};return(0,v.jsxs)("div",{id:"form-res",children:[(0,v.jsx)(Q.Z,{snack:u,setSnackbar:f}),(0,v.jsx)(k.Z,{show:B.show,close:ue,btnTxt:B.btnTxt,btnClass:B.btnClass,body:B.body,action:B.action}),w&&(0,v.jsx)(_,{close:C,formID:b,entryID:E,allResp:t,setAllResp:n,setSnackbar:f}),S&&(0,v.jsx)(G,{close:A,formID:b,entryID:E,setSnackbar:f,rowDtl:t[Z.idx],integrations:s}),(0,v.jsx)(ge,{title:(0,M.__)("Response Details #"+de.current,"bitform"),show:Z.show,close:pe,relatedinfo:function(){return void 0!==(e=Z).idx&&(e.id=e.idx,e.original=e.data[0].row.original),O(e.original.entry_id),void A(!0);var e},delConfMdl:function(){return ye(Z,Z.fetchData)},editData:function(){return De(Z)},children:(0,v.jsx)("table",{className:"btcd-row-detail-tbl",children:(0,v.jsxs)("tbody",{children:[(0,v.jsxs)("tr",{className:"txt-dp",children:[(0,v.jsx)("th",{children:(0,M.__)("Title","")}),(0,v.jsx)("th",{children:(0,M.__)("Value","")})]}),Z.show&&V.filter((function(e){return"sl"!==e.accessor&&"table_ac"!==e.accessor})).map((function(e,t){return(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:e.Header}),(0,v.jsx)("td",{children:ke(e)})]},"rw-d-"+(t+2))}))]})})}),(0,v.jsxs)("div",{className:"forms",children:[(0,v.jsx)(xe.Z,{className:"f-table btcd-entries-f",height:"76vh",columns:U,data:t,loading:h,countEntries:ee,rowSeletable:!0,resizable:!0,columnHidable:!0,hasAction:!0,rowClickable:!0,rightHeader:(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(W,{data:t,cols:V,formID:b,report:oe})}),leftHeader:(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(ve,{fetchData:_e,setRefreshResp:ae})}),formID:b,setTableCols:J,fetchData:_e,setBulkDelete:he,duplicateData:fe,pageCount:j,edit:De,onRowClick:we,refreshResp:ie,report:ce||0}),!h&&0===t.length&&(0,v.jsxs)("div",{className:"btcd-no-data txt-center",children:[(0,v.jsx)("img",{src:L,alt:"no data found"}),(0,v.jsx)("div",{className:"mt-2",children:(0,M.__)("No Response Found.","bitform")})]})]})]})}const De=(0,a.memo)(Ie)},82661:(e,t,n)=>{n.r(t),n.d(t,{delItem:()=>o,handleFile:()=>d,setPrevData:()=>c});var i=n(91924),a={files:[]},l=null,r=null;function s(e){for(var t=0;e>900;)e/=1024,t+=1;return Math.round(100*e)/100+" "+["Bytes","KB","MB","GB"][t]}function o(e){a={files:[]};for(var t=e.parentNode.parentNode.parentNode.querySelector('input[type="file"]'),n=0;n<t.files.length;n+=1)a.files.push(t.files[n]);a.files.splice(e.getAttribute("data-index"),1),t.files=i.Z.apply(void 0,a.files),t.files.length>0?e.parentNode.parentNode.parentNode.querySelector(".btcd-f-title").innerHTML=t.files.length+" File Selected":e.parentNode.parentNode.parentNode.querySelector(".btcd-f-title").innerHTML="No File Chosen",e.parentNode.remove()}function c(e){if(e.target.hasAttribute("multiple")&&l!==e.target.name&&(a={files:[]},e.target.files.length>0))for(var t=0;t<e.target.files.length;t+=1)a.files.push(e.target.files[t])}function d(e){var t=[],n=e.target.files.length;if(r=null!=(r=e.target.parentNode.querySelector(".f-max"))&&Number(r.innerHTML.replace(/\D/g,""))*Math.pow(1024,2),e.target.hasAttribute("multiple"))for(var l=0;l<n;l+=1)a.files.push(e.target.files[l]);else a.files.push(e.target.files[0]);if(e.target.hasAttribute("accept")){for(var o=[],c=new RegExp(e.target.getAttribute("accept").split(",").join("$|")+"$","gi"),d=0;d<a.files.length;d+=1)a.files[d].name.match(c)?o.push(a.files[d]):t.push("Wrong File Type Selected");a.files=o}if(r>0){for(var u=[],f=0;f<a.files.length;f+=1)a.files[f].size<r?(u.push(a.files[f]),r-=a.files[f].size):t.push("Max Upload Size Exceeded");a.files=u}if(t.length?(a={files:[]},e.target.files=(0,i.Z)([])):e.target.hasAttribute("multiple")?e.target.files=i.Z.apply(void 0,a.files):(e.target.files=(0,i.Z)(a.files[a.files.length-1]),a={files:[]}),e.target.files.length>0){e.target.parentNode.querySelector(".btcd-f-title").innerHTML=e.target.files.length+" File Selected",e.target.parentNode.parentNode.querySelector(".btcd-files").innerHTML="";for(var m=0;m<e.target.files.length;m+=1){var p=null;p=e.target.files[m].type.match(/image-*/)?window.URL.createObjectURL(e.target.files[m]):"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAzNTIgNDI5LjEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM1MiA0MjkuMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkuc3Qwe2ZpbGw6IzAwNEJCNzt9DQo8L3N0eWxlPg0KPHBhdGggZD0iTTQwOC44LDY2Ljh2MzI3LjRjMCwyNy40LDIyLjgsNDkuOCw1MC4zLDQ5LjhoMjM5LjNjMjcuNSwwLDQ5LjgtMjIuMyw0OS44LTQ5LjhWMTE2Yy0wLjEtMi42LTEuMi01LjItMy4xLTdsLTg4LjktODkuMQ0KCWMtMS45LTEuOS00LjQtMi45LTcuMS0yLjloLTE5MEM0MzEuNiwxNyw0MDguOCwzOS40LDQwOC44LDY2Ljh6IE03MTMuOCwxMDUuOUg2ODNjLTYuMywwLTEyLjQtMi41LTE2LjgtNi45DQoJYy00LjUtNC41LTctMTAuNS02LjktMTYuOHYtMzFMNzEzLjgsMTA1Ljl6IE00MjguOCw2Ni44YzAtMTYuNSwxMy45LTI5LjgsMzAuMy0yOS44aDE4MC4ydjQ1LjFjMCwxMS42LDQuNiwyMi43LDEyLjgsMzENCgljOC4yLDguMiwxOS4zLDEyLjgsMzAuOSwxMi44aDQ1LjF2MjY4LjVjMCwxNi41LTEzLjksMjkuOC0zMC4zLDI5LjhINDU5LjFjLTE2LjYsMC0zMC4zLTEzLjQtMzAuMy0yOS44VjY2Ljh6Ii8+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjc3LjIsMTY2LjlIMTMwLjZjLTUuMSwwLTkuMiw0LjEtOS4yLDkuMnM0LjEsOS4yLDkuMiw5LjJoMTQ2LjVjNS4xLDAsOS4yLTQuMSw5LjItOS4xDQoJQzI4Ni40LDE3MSwyODIuMywxNjYuOSwyNzcuMiwxNjYuOXoiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik05My41LDE2Ni45SDY2LjRjLTUuMSwwLTkuMiw0LjEtOS4yLDkuMnM0LjEsOS4yLDkuMiw5LjJoMjcuMWM1LjEsMCw5LjItNC4xLDkuMi05LjJTOTguNiwxNjYuOSw5My41LDE2Ni45eiINCgkvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI3Ny4yLDI0MC4zSDEzMC42Yy01LjEsMC05LjIsNC4xLTkuMiw5LjJjMCw1LjEsNC4xLDkuMiw5LjIsOS4yaDE0Ni41YzUuMSwwLDkuMi00LjEsOS4yLTkuMQ0KCVMyODIuMywyNDAuNCwyNzcuMiwyNDAuM3oiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik05My41LDI0MC4zSDY2LjRjLTUuMSwwLTkuMiw0LjEtOS4yLDkuMmMwLDUuMSw0LjEsOS4yLDkuMiw5LjJoMjcuMWM1LjEsMCw5LjItNC4xLDkuMi05LjINCglDMTAyLjcsMjQ0LjQsOTguNiwyNDAuMyw5My41LDI0MC4zeiIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI3Ny4yLDMxMy44SDEzMC42Yy01LjEsMC05LjIsNC4xLTkuMiw5LjJjMCw1LjEsNC4xLDkuMiw5LjIsOS4yaDE0Ni41YzUuMSwwLDkuMi00LjEsOS4yLTkuMQ0KCUMyODYuNCwzMTgsMjgyLjMsMzEzLjgsMjc3LjIsMzEzLjh6Ii8+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNOTMuNSwzMTMuOEg2Ni40Yy01LjEsMC05LjIsNC4xLTkuMiw5LjJjMCw1LjEsNC4xLDkuMiw5LjIsOS4yaDI3LjFjNS4xLDAsOS4yLTQuMSw5LjItOS4yDQoJQzEwMi43LDMxNy45LDk4LjYsMzEzLjgsOTMuNSwzMTMuOHoiLz4NCjxnPg0KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yNjMsNDEyLjFIODljLTQxLjQsMC03NS0zMy42LTc1LTc1di0yNDVjMC00MS40LDMzLjYtNzUsNzUtNzVoMTQ3LjVjOCwwLDE1LjcsMywyMS42LDguNWw2OSw2My42DQoJCWM2LjksNi4zLDEwLjgsMTUuMywxMC44LDI0Ljd2MjIzLjJDMzM4LDM3OC40LDMwNC40LDQxMi4xLDI2Myw0MTIuMXogTTg5LDM3LjNjLTMwLjIsMC01NC43LDI0LjYtNTQuNyw1NC43djI0NQ0KCQljMCwzMC4yLDI0LjYsNTQuNyw1NC43LDU0LjdoMTc0YzMwLjIsMCw1NC43LTI0LjYsNTQuNy01NC43VjExMy44YzAtMy43LTEuNi03LjMtNC4zLTkuOGwtNjktNjMuNmMtMi4yLTItNS0zLjEtNy45LTMuMUg4OXoiLz4NCjwvZz4NCjwvc3ZnPg0K",e.target.parentNode.parentNode.querySelector(".btcd-files").insertAdjacentHTML("beforeend",'<div>\n                      <img src="'+p+'" alt="img"  title="'+e.target.files[m].name+'">\n                      <div style="display:inherit">\n                          <span title="'+e.target.files[m].name+'">'+e.target.files[m].name+"</span>\n                          <br/>\n                          <small>"+s(e.target.files[m].size)+'</small>\n                      </div>\n                      <button type="button" data-index="'+m+'" title="Remove This File"><span style="pointer-events:none">&times;</span></button>\n                  </div>')}}if(t.length>0){for(var h=0;h<t.length;h+=1)e.target.parentNode.parentNode.querySelector(".btcd-files").insertAdjacentHTML("afterbegin",'\n              <div style="background: #fff2f2;color: darkred;display:none" class="btcd-f-err">\n                  <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjg2LjA1NCIgaGVpZ2h0PSIyODYuMDU0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgoKIDxnPgogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4KICA8cmVjdCBmaWxsPSJub25lIiBpZD0iY2FudmFzX2JhY2tncm91bmQiIGhlaWdodD0iNDAyIiB3aWR0aD0iNTgyIiB5PSItMSIgeD0iLTEiLz4KIDwvZz4KIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8ZyBzdHJva2U9Im51bGwiIGlkPSJzdmdfMSI+CiAgIDxwYXRoIHN0cm9rZT0ibnVsbCIgaWQ9InN2Z18yIiBmaWxsPSIjOTEwNjAxIiBkPSJtMTQzLjAyNjk5Nyw1Ni4wMDAwMDVjLTQ4LjA2MDg2NSwwIC04Ny4wMjY5OTcsMzguOTY2MTMxIC04Ny4wMjY5OTcsODcuMDI2OTk3YzAsNDguMDY2MzQyIDM4Ljk2NjEzMSw4Ny4wMjY5OTcgODcuMDI2OTk3LDg3LjAyNjk5N2M0OC4wNjYzNDIsMCA4Ny4wMjY5OTcsLTM4Ljk1NTE3OSA4Ny4wMjY5OTcsLTg3LjAyNjk5N2MwLC00OC4wNjA4NjUgLTM4Ljk2MTI2NCwtODcuMDI2OTk3IC04Ny4wMjY5OTcsLTg3LjAyNjk5N3ptMCwxNTcuNzM2MTY2Yy0zOS4wNTMxNDIsMCAtNzAuNzA5MTY5LC0zMS42NTYwMjcgLTcwLjcwOTE2OSwtNzAuNzA5MTY5czMxLjY1NjAyNywtNzAuNzA5MTY5IDcwLjcwOTE2OSwtNzAuNzA5MTY5czcwLjcwOTE2OSwzMS42NTYwMjcgNzAuNzA5MTY5LDcwLjcwOTE2OXMtMzEuNjU2MDI3LDcwLjcwOTE2OSAtNzAuNzA5MTY5LDcwLjcwOTE2OXptMC4wMDU0NzYsLTExOS41Njk1NThjLTYuMjMzMTIxLDAgLTEwLjk0OTMzNywzLjI1Mjg1NyAtMTAuOTQ5MzM3LDguNTA2OTU2bDAsNDguMTkxMDc3YzAsNS4yNTk1NzYgNC43MTU2MDgsOC41MDE0OCAxMC45NDkzMzcsOC41MDE0OGM2LjA4MTAwNCwwIDEwLjk0OTMzNywtMy4zNzc1OTIgMTAuOTQ5MzM3LC04LjUwMTQ4bDAsLTQ4LjE5MTA3N2MtMC4wMDA2MDgsLTUuMTI5MzY0IC00Ljg2ODMzMywtOC41MDY5NTYgLTEwLjk0OTMzNywtOC41MDY5NTZ6bTAsNzYuMDU2MzY0Yy01Ljk4ODUxOCwwIC0xMC44NjIzMjYsNC44NzM4MDkgLTEwLjg2MjMyNiwxMC44NjcxOTRjMCw1Ljk4MzA0MSA0Ljg3MzgwOSwxMC44NTY4NSAxMC44NjIzMjYsMTAuODU2ODVzMTAuODU2ODUsLTQuODczODA5IDEwLjg1Njg1LC0xMC44NTY4NWMtMC4wMDA2MDgsLTUuOTkzOTk0IC00Ljg2ODMzMywtMTAuODY3MTk0IC0xMC44NTY4NSwtMTAuODY3MTk0eiIvPgogIDwvZz4KICA8ZyBpZD0ic3ZnXzMiLz4KICA8ZyBpZD0ic3ZnXzQiLz4KICA8ZyBpZD0ic3ZnXzUiLz4KICA8ZyBpZD0ic3ZnXzYiLz4KICA8ZyBpZD0ic3ZnXzciLz4KICA8ZyBpZD0ic3ZnXzgiLz4KICA8ZyBpZD0ic3ZnXzkiLz4KICA8ZyBpZD0ic3ZnXzEwIi8+CiAgPGcgaWQ9InN2Z18xMSIvPgogIDxnIGlkPSJzdmdfMTIiLz4KICA8ZyBpZD0ic3ZnXzEzIi8+CiAgPGcgaWQ9InN2Z18xNCIvPgogIDxnIGlkPSJzdmdfMTUiLz4KICA8ZyBpZD0ic3ZnXzE2Ii8+CiAgPGcgaWQ9InN2Z18xNyIvPgogPC9nPgo8L3N2Zz4=" alt="img">\n                  <span>'+t[h]+"</span>\n              </div>");for(var y=e.target.parentNode.parentNode.querySelectorAll(".btcd-files>.btcd-f-err"),b=function(e){!function(e){var t=.01;e.style.opacity=t,e.style.display="flex";var n=setInterval((function(){t>=1&&clearInterval(n),e.style.opacity=t,e.style.filter="alpha(opacity="+100*t+")",t+=.1*t}),13)}(y[e]),setTimeout((function(){!function(e){var t=1,n=setInterval((function(){t<=.1&&(clearInterval(n),e.style.display="none"),e.style.opacity=t,e.style.filter="alpha(opacity="+100*t+")",t-=.1*t}),50)}(y[e])}),3e3),setTimeout((function(){y[e].remove()}),4e3)},v=0;v<y.length;v+=1)b(v);t=[]}}},21463:(e,t,n)=>{function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var l,r;function s(e){var t,n=e.form,i=e.input;if(n)l=n;else if(null!=i&&null!=(t=i.form)&&t.id){var a=i.form.id.split("form-");l=a[1]}if("undefined"===typeof window[l])return!1;var s={};if(r=window[l].fields,n)s=c();else if(i){var u,f;if(!window[l].validateFocusLost)return!0;var m=o(i.name);(u={})[m]=i.value,s=u,(f={})[m]=r[m],r=f}for(var N=!0,M=Object.entries(r),I=M.length;I--;){var D,_=M[I],w=_[0],C=_[1],L=C.typ,T="string"===typeof s[w]?s[w].trim():s[w],k=document.querySelector("#form-"+l+" ."+w);if("none"!==window.getComputedStyle(k).display){var S,A="";if(T)"number"===L?A=p(T,C):"email"===L?A=h(T,C):"url"===L?A=y(T,C):"decision-box"===L?A=b(T,C):"check"===L||"select"===L?A=j(T,C):"file-up"===L&&(A=g(T,C)),null!=C&&null!=(D=C.valid)&&D.regexr&&(A=x(T,C))?(d(A,w,C),N=!1):(d(A,w,C),A&&(N=!1));else"check"===L&&(A=v(T,C)),null!=C&&null!=(S=C.valid)&&S.req&&(A="req"),d(A,w,C),A&&(N=!1)}else d("",w)}return N}n.r(t),n.d(t,{default:()=>s});var o=function(e){return"[]"===e.slice(-2)?e.slice(0,e.length-2):e},c=function(){for(var e,t={},n=i(new FormData(document.getElementById("form-"+l)).entries());!(e=n()).done;){var a=e.value,s=a[0],c=a[1],d=o(s);d in r&&(t[d]?(Array.isArray(t[d])||(t[d]=[t[d]]),t[d].push(c)):t[d]=c)}return t},d=function(e,t,n){var i,a,r=document.querySelector("#form-"+l+" #"+t+"-error");r&&"err"in(n||{})&&(e&&null!=n&&null!=(i=n.err)&&null!=(a=i[e])&&a.show?(r.innerHTML=n.err[e].custom?n.err[e].msg:n.err[e].dflt,r.parentElement.style.marginTop="5px",r.parentElement.style.height=r.offsetHeight+"px",u(t)):(r.parentElement.style.marginTop=0,r.parentElement.style.height=0))},u=function(e){var t=document.querySelector("#form-"+l+" .btcd-fld-itm."+e),n=document.body.getBoundingClientRect(),i=t.getBoundingClientRect().top-n.top;f(t)||window.scroll({top:i,behavior:"smooth"})},f=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},m=function(e){return(e||"").split("$_bf_$").join("\\")},p=function(e,t){return t.mn&&Number(e)<Number(t.mn)?"mn":t.mx&&Number(e)>Number(t.mx)?"mx":""},h=function(e,t){return t.err.invalid.show?new RegExp(m(t.pattern)).test(e)?"":"invalid":""},y=function(e,t){return t.err.invalid.show?new RegExp(m(t.attr.pattern)).test(e)?"":"invalid":""},b=function(e,t){return t.valid.req&&e!==t.msg.checked?"req":""},v=function(e,t){var n;return null!=t&&null!=(n=t.opt)&&n.find((function(t){return t.req&&!(e||[]).includes(t.lbl)}))?"req":""},g=function(e,t){return!t.valid.req||Array.isArray(e)||e.name?"":"req"},x=function(e,t){return new RegExp(m(t.valid.regexr),t.valid.flags||"").test(e)?"":"regexr"},j=function(e,t){var n=Array.isArray(e)?e:(e||"").split(","),i=Number(t.mn)||0,a=Number(t.mx)||t.opt.length;return n.length<i?"mn":n.length>a?"mx":"check"===t.typ?v(e,t):""}},85902:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMCA2czEuNzk2LS4wMTMgNC42Ny0zLjYxNUM1Ljg1MS45IDYuOTMuMDA2IDggMGMxLjA3LS4wMDYgMi4xNDguODg3IDMuMzQzIDIuMzg1QzE0LjIzMyA2LjAwNSAxNiA2IDE2IDZIMHoiIGZpbGw9InJnYmEoMCwgOCwgMTYsIDAuMikiLz48L3N2Zz4="},63517:e=>{e.exports="data:image/svg+xml;utf8,<svg width=%279px%27 height=%276px%27 viewBox=%270 0 9 6%27 version=%271.1%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27><g id=%27Artboard%27 stroke=%27none%27 stroke-width=%271%27 fill=%27none%27 fill-rule=%27evenodd%27 transform=%27translate%28-636.000000, -171.000000%29%27 fill-opacity=%270.368716033%27><g id=%27input%27 transform=%27translate%28172.000000, 37.000000%29%27 fill=%27%230E242F%27 fill-rule=%27nonzero%27><g id=%27Group-9%27 transform=%27translate%28323.000000, 127.000000%29%27><path d=%27M142.280245,7.23952813 C141.987305,6.92353472 141.512432,6.92361662 141.219585,7.23971106 C140.926739,7.5558055 140.926815,8.06821394 141.219755,8.38420735 L145.498801,13 L149.780245,8.38162071 C150.073185,8.0656273 150.073261,7.55321886 149.780415,7.23712442 C149.487568,6.92102998 149.012695,6.92094808 148.719755,7.23694149 L145.498801,10.7113732 L142.280245,7.23952813 Z%27 id=%27arrow%27></path></g></g></g></svg>"}}]);