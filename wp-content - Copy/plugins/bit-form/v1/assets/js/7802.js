"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[7802],{81625:(e,t,n)=>{n.d(t,{I:()=>s});var s=[{key:"post_title",name:"Post Title",required:!0},{key:"post_name",name:"Post Name"},{key:"post_content",name:"Post Content"},{key:"post_excerpt",name:"Post Excerpt"},{key:"_thumbnail_id",name:"Featured Image"}]},7802:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var s=n(665),i=n(14866),l=n(59496),a=n(87230),r=n(77111),o=n(53132),d=n(1450),c=n(46568),m=n(65194),u=n(81625),p=n(4637);const f=function(e){var t=e.formFields,n=e.setIntegration,f=e.integrations,h=e.allIntegURL,x=(0,l.useState)([]),b=x[0],v=x[1],j=(0,l.useState)([]),_=j[0],g=j[1],N=(0,a.UO)().id,F=(0,a.k6)(),y=(0,l.useState)((0,s.Z)({},f[N])),C=y[0],k=y[1],P=(0,l.useState)([]),S=P[0],Z=P[1],w=(0,l.useState)({show:!1}),I=w[0],q=w[1];(0,l.useEffect)((function(){(0,r.Z)({},"bitforms_get_pod_type").then((function(e){var t,n;null!=e&&e.success&&void 0!==e&&(v(Object.values(null==(t=e.data)?void 0:t.post_types)),g(null==(n=e.data)?void 0:n.users))})),(0,r.Z)({pod_type:null==C?void 0:C.post_type},"bitforms_get_pod_field").then((function(e){null!=e&&e.success&&void 0!==e&&Z(Object.values(null==e?void 0:e.data))}))}),[]);var O=function(e,t,n){var i=(0,s.Z)({},C);i[e]=n?Number(t):t,k(i)};return(0,p.jsxs)("div",{style:{width:900},children:[(0,p.jsx)(m.Z,{snack:I,setSnackbar:q}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,i.__)("Integration Name ","bitform")})}),(0,p.jsx)("input",{className:"btcd-paper-inp w-5 mt-1",onChange:function(e){return O(e.target.name,e.target.value)},name:"name",value:C.name,type:"text",placeholder:(0,i.__)("Integration Name...","bitform")}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,i.__)("Post Type","bitform")})}),(0,p.jsxs)("select",{name:"post_type",onChange:function(e){return function(e,t){var n=(0,s.Z)({},C);n[e]=t,(0,r.Z)({pod_type:t},"bitforms_get_pod_field").then((function(e){var t;null!=e&&e.success&&void 0!==e&&(Z(Object.values(null==e?void 0:e.data)),null!=e&&e.data&&(n.pod_map=Object.values(e.data).filter((function(e){return e.required})).map((function(e){return{formField:"",podFormField:e.key,required:e.required}})),(null==n||null==(t=n.pod_map)?void 0:t.length)<1&&(n.pod_map=[{}])),k(n))}))}(e.target.name,e.target.value)},value:null==C?void 0:C.post_type,className:"btcd-paper-inp w-5 mt-1",children:[(0,p.jsx)("option",{disabled:!0,selected:!0,children:"Select Type"}),b.map((function(e,t){return(0,p.jsx)("option",{value:e.name,children:e.label},"pod-"+2*t)}))]}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,i.__)("Post Status","bitform")})}),(0,p.jsxs)("select",{name:"post_status",onChange:function(e){return O(e.target.name,e.target.value)},value:null==C?void 0:C.post_status,className:"btcd-paper-inp w-5 mt-1",children:[(0,p.jsx)("option",{disabled:!0,selected:!0,children:(0,i.__)("Select Status","bitform")}),(0,p.jsx)("option",{value:"publish",children:"Publish"}),(0,p.jsx)("option",{value:"draft",children:"Draft"}),(0,p.jsx)("option",{value:"inherit",children:"Inherit"}),(0,p.jsx)("option",{value:"auto-draft",children:"Auto-Draft"}),(0,p.jsx)("option",{value:"private ",children:"Private"}),(0,p.jsx)("option",{value:"pending",children:"Pending"})]}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,i.__)("Comment Status","bitform")})}),(0,p.jsxs)("select",{name:"comment_status",onChange:function(e){return O(e.target.name,e.target.value)},value:null==C?void 0:C.comment_status,className:"btcd-paper-inp w-5 mt-1",children:[(0,p.jsx)("option",{disabled:!0,selected:!0,children:(0,i.__)("Select Status","bitform")}),(0,p.jsx)("option",{value:"open",children:"Open"}),(0,p.jsx)("option",{value:"closed",children:"Closed"})]}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,i.__)("Author","bitform")})}),(0,p.jsxs)("select",{name:"post_author",onChange:function(e){return O(e.target.name,e.target.value)},value:null==C?void 0:C.post_author,className:"btcd-paper-inp w-5 mt-1",children:[(0,p.jsx)("option",{disabled:!0,selected:!0,children:"Logged In User"}),_.map((function(e,t){return(0,p.jsx)("option",{value:e.ID,children:e.display_name},"pod-"+2*t)}))]}),(0,p.jsx)("div",{children:(0,p.jsxs)("p",{className:"p-1 f-m",children:[(0,p.jsx)("strong",{children:"Note"})," ",": All your taxonomies will be mapped automatically from your form fields."]})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"mt-3 mb-1",children:(0,p.jsx)("b",{children:"Pod Fields Mapping"})}),(0,p.jsx)("div",{className:"btcd-hr"}),(0,p.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,i.__)("Form Fields","bitform")})}),(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,i.__)("Pod Fields","bitform")})})]})]}),C.pod_map.map((function(e,n){return(0,p.jsx)(c.Z,{i:n,type:"pod",field:e,formFields:t,dataConf:C,setDataConf:k,podFields:S},"analytics-m-"+(n+9))})),(0,p.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,p.jsx)("button",{onClick:function(){return(0,d.FP)("pod_map",C.pod_map.length,C,k)},className:"icn-btn sh-sm",type:"button",children:"+"})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"mt-3 mb-1",children:(0,p.jsx)("b",{children:"Post Fields Mapping"})}),(0,p.jsx)("div",{className:"btcd-hr"}),(0,p.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,i.__)("Form Fields","bitform")})}),(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,i.__)("Post Fields","bitform")})})]})]}),C.post_map.map((function(e,n){return(0,p.jsx)(c.Z,{i:n,type:"post",field:e,formFields:t,dataConf:C,setDataConf:k,podFields:u.I},"analytics-m-"+(n+9))})),(0,p.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,p.jsx)("button",{onClick:function(){return(0,d.FP)("post_map",C.post_map.length,C,k)},className:"icn-btn sh-sm",type:"button",children:"+"})}),(0,p.jsxs)("button",{className:"btn f-left btcd-btn-lg green sh-sm flx",type:"button",onClick:function(){(0,d.aJ)(C)&&(0,d.UW)(C)?(0,o.Mm)(f,n,h,C,F,N,"edit"):q({show:!0,msg:(0,i.__)("Please map mandatory fields","bitform")})},children:[(0,i.__)("Save","bitform")," "]})]})}},46568:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(44084),i=n(84448),l=n(94557),a=n(73305),r=n(2699),o=n(1450),d=n(4637);function c(e){var t=e.i,n=e.type,c=e.formFields,m=e.field,u=e.dataConf,p=e.setDataConf,f=e.podFields,h=(0,s.sJ)(i.hi).isPro,x={pod:{propName:"pod_map",fldName:"podFormField"},post:{propName:"post_map",fldName:"postFormField"}}[n],b=x.propName,v=x.fldName,j=!!f.find((function(e){return e.key===m[v]&&e.required}));return(0,d.jsxs)("div",{className:"flx mt-2 mr-1",children:[(0,d.jsxs)("div",{className:"flx integ-fld-wrp",children:[(0,d.jsxs)("select",{className:"btcd-paper-inp mr-2",name:"formField",value:m.formField||"",onChange:function(e){return(0,o.wX)(b,e,t,u,p)},children:[(0,d.jsx)("option",{value:"",children:(0,a.__)("Select Field","bitform")}),(0,d.jsx)("optgroup",{label:"Form Fields",children:c.map((function(e){return"file-up"!==e.type&&(0,d.jsx)("option",{value:e.key,children:e.name},"ff-zhcrm-"+e.key)}))}),(0,d.jsx)("option",{value:"custom",children:(0,a.__)("Custom...","bitform")}),(0,d.jsx)("optgroup",{label:"General Smart Codes "+(h?"":"(PRO)"),children:h&&(null==r.C?void 0:r.C.map((function(e){return(0,d.jsx)("option",{value:e.name,children:e.label},"ff-rm-"+e.name)})))})]}),(0,d.jsxs)("select",{className:"btcd-paper-inp",name:v,value:m[v]||"",onChange:function(e){return(0,o.wX)(b,e,t,u,p)},disabled:j,children:[(0,d.jsx)("option",{value:"",children:(0,a.__)("Select Field","bitform")}),null==f?void 0:f.map((function(e){return(0,d.jsx)("option",{value:e.key,children:""+e.name},e.key+"-1")}))]})]}),j?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("button",{onClick:function(){return(0,o.FP)(b,t,u,p)},className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{onClick:function(){return(0,o.FP)(b,t,u,p)},className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),(0,d.jsx)("button",{onClick:function(){return(0,o.T5)(b,t,u,p)},className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:(0,d.jsx)(l.Z,{})})]})]})}},1450:(e,t,n)=>{n.d(t,{FP:()=>i,T5:()=>l,wX:()=>a,aJ:()=>r,UW:()=>o});var s=n(665),i=function(e,t,n,i){var l=(0,s.Z)({},n);l[e].splice(t,0,{}),i((0,s.Z)({},l))},l=function(e,t,n,i){var l=(0,s.Z)({},n);l[e].length>1&&l[e].splice(t,1),i((0,s.Z)({},l))},a=function(e,t,n,i,l){var a=(0,s.Z)({},i);a[e][n][t.target.name]=t.target.value,l((0,s.Z)({},a))},r=function(e){return!((null!=e&&e.post_map?e.post_map.filter((function(e){return!e.formField&&e.postFormField&&e.required})):[]).length>0)},o=function(e){return!((null!=e&&e.pod_map?e.pod_map.filter((function(e){return!e.formField&&e.podFormField&&e.required})):[]).length>0)}}}]);