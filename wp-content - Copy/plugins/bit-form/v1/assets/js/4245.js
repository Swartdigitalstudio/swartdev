"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[4245],{39184:(e,t,n)=>{n.d(t,{I:()=>a});var a=[{key:"post_title",name:"Post Title",required:!0},{key:"post_name",name:"Post Name"},{key:"post_content",name:"Post Content"},{key:"post_excerpt",name:"Post Excerpt"},{key:"_thumbnail_id",name:"Featured Image"}]},22788:(e,t,n)=>{n.d(t,{FP:()=>c,Mm:()=>s,P_:()=>o,T5:()=>m,WK:()=>r,mG:()=>p,wX:()=>u});var a=n(60795),i=n(88226),l=n(97719),s=function(e,t,n,i,l,s,r){var o=[].concat(e);if(r)o[s]=(0,a.Z)({},e[s],i),o.push({editItegration:!0}),t([].concat(o)),l.push(n);else{var d=[].concat(o);d.push(i),d.push({newItegration:!0}),t(d),l.push(n)}},r=function(e){var t={},n=window.location.href.replace(window.opener.location.href+"/redirect","").split("&");n&&n.forEach((function(e){var n=e.split("=");n[1]&&(t[n[0]]=n[1])})),localStorage.setItem("__bitforms_"+e,JSON.stringify(t)),window.close()},o=function(e,t,n,l,s,r,o,c,m){if(l.dataCenter&&l.clientId&&l.clientSecret){c(!0);var u="https://accounts.zoho."+l.dataCenter+"/oauth/v2/auth?scope="+n+"&response_type=code&client_id="+l.clientId+"&prompt=Consent&access_type=offline&state="+encodeURIComponent(window.location.href)+"/redirect&redirect_uri="+encodeURIComponent(bits.zohoRedirectURL),p=window.open(u,e,"width=400,height=609,toolbar=off"),f=setInterval((function(){if(p.closed){clearInterval(f);var n={},r=!1,u=localStorage.getItem("__bitforms_"+e);if(u&&(r=!0,n=JSON.parse(u),localStorage.removeItem("__bitforms_"+e)),n.code&&!n.error&&n&&r){var h=(0,a.Z)({},l);h.accountServer=n["accounts-server"],d(t,n,h,s,o,c,m)}else{var _=n.error?"Cause: "+n.error:"";m({show:!0,msg:(0,i.__)("Authorization failed","bitform")+" "+_+". "+(0,i.__)("please try again","bitform")}),c(!1)}}}),500)}else r({dataCenter:l.dataCenter?"":(0,i.__)("Data center cann't be empty","bitform"),clientId:l.clientId?"":(0,i.__)("Client ID cann't be empty","bitform"),clientSecret:l.clientSecret?"":(0,i.__)("Secret key cann't be empty","bitform")})},d=function(e,t,n,s,r,o,d){var c=(0,a.Z)({},t);c.dataCenter=n.dataCenter,c.clientId=n.clientId,c.clientSecret=n.clientSecret,c.redirectURI=bits.zohoRedirectURL,(0,l.Z)(c,"bitforms_"+e+"_generate_token").then((function(e){return e})).then((function(e){if(e&&e.success){var t=(0,a.Z)({},n);t.tokenDetails=e.data,s(t),r(!0),d({show:!0,msg:(0,i.__)("Authorized Successfully","bitform")})}else e&&e.data&&e.data.data||!e.success&&"string"===typeof e.data?d({show:!0,msg:""+(0,i.__)("Authorization failed Cause:","bitform")+(e.data.data||e.data)+". "+(0,i.__)("please try again","bitform")}):d({show:!0,msg:(0,i.__)("Authorization failed. please try again","bitform")});o(!1)}))},c=function(e,t,n,i,l){var s=(0,a.Z)({},t);l?i?s.relatedlists[l-1].upload_field_map.splice(e,0,{}):s.relatedlists[l-1].field_map.splice(e,0,{}):i?s.upload_field_map.splice(e,0,{}):s.field_map.splice(e,0,{}),n((0,a.Z)({},s))},m=function(e,t,n,i,l){var s=(0,a.Z)({},t);l?i?s.relatedlists[l-1].upload_field_map.length>1&&s.relatedlists[l-1].upload_field_map.splice(e,1):s.relatedlists[l-1].field_map.length>1&&s.relatedlists[l-1].field_map.splice(e,1):i?s.upload_field_map.length>1&&s.upload_field_map.splice(e,1):s.field_map.length>1&&s.field_map.splice(e,1),n((0,a.Z)({},s))},u=function(e,t,n,i,l,s){var r=(0,a.Z)({},n);s?l?r.relatedlists[s-1].upload_field_map[t][e.target.name]=e.target.value:r.relatedlists[s-1].field_map[t][e.target.name]=e.target.value:l?r.upload_field_map[t][e.target.name]=e.target.value:r.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(s?r.relatedlists[s-1].field_map[t].customValue="":r.field_map[t].customValue=""),i((0,a.Z)({},r))},p=function(e,t,n,i,l){var s=(0,a.Z)({},n);l?s.relatedlists[l-1].field_map[t].customValue=e.target.value:s.field_map[t].customValue=e.target.value,i((0,a.Z)({},s))}},64245:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var a=n(60795),i=n(74320),l=n(59496),s=n(83442),r=n(97719),o=n(22788),d=n(22780),c=n(30763),m=n(34834),u=n(39184),p=n(4637);const f=function(e){var t=e.formFields,n=e.setIntegration,f=e.integrations,h=e.allIntegURL,_=(0,l.useState)([]),v=_[0],b=_[1],x=(0,l.useState)([]),g=x[0],j=x[1],y=(0,s.UO)().id,N=(0,s.k6)(),F=(0,l.useState)((0,a.Z)({},f[y])),C=F[0],w=F[1],S=(0,l.useState)([]),Z=S[0],k=S[1],I=(0,l.useState)({show:!1}),P=I[0],R=I[1];(0,l.useEffect)((function(){(0,r.Z)({},"bitforms_get_pod_type").then((function(e){var t,n;null!=e&&e.success&&void 0!==e&&(b(Object.values(null==(t=e.data)?void 0:t.post_types)),j(null==(n=e.data)?void 0:n.users))})),(0,r.Z)({pod_type:null==C?void 0:C.post_type},"bitforms_get_pod_field").then((function(e){null!=e&&e.success&&void 0!==e&&k(Object.values(null==e?void 0:e.data))}))}),[]);var U=function(e,t,n){var i=(0,a.Z)({},C);i[e]=n?Number(t):t,w(i)};return(0,p.jsxs)("div",{style:{width:900},children:[(0,p.jsx)(m.Z,{snack:P,setSnackbar:R}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,i.__)("Integration Name ","bitform")})}),(0,p.jsx)("input",{className:"btcd-paper-inp w-5 mt-1",onChange:function(e){return U(e.target.name,e.target.value)},name:"name",value:C.name,type:"text",placeholder:(0,i.__)("Integration Name...","bitform")}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,i.__)("Post Type","bitform")})}),(0,p.jsxs)("select",{name:"post_type",onChange:function(e){return function(e,t){var n=(0,a.Z)({},C);n[e]=t,(0,r.Z)({pod_type:t},"bitforms_get_pod_field").then((function(e){var t;null!=e&&e.success&&void 0!==e&&(k(Object.values(null==e?void 0:e.data)),null!=e&&e.data&&(n.pod_map=Object.values(e.data).filter((function(e){return e.required})).map((function(e){return{formField:"",podFormField:e.key,required:e.required}})),(null==n||null==(t=n.pod_map)?void 0:t.length)<1&&(n.pod_map=[{}])),w(n))}))}(e.target.name,e.target.value)},value:null==C?void 0:C.post_type,className:"btcd-paper-inp w-5 mt-1",children:[(0,p.jsx)("option",{disabled:!0,selected:!0,children:"Select Type"}),v.map((function(e,t){return(0,p.jsx)("option",{value:e.name,children:e.label},"pod-"+2*t)}))]}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,i.__)("Post Status","bitform")})}),(0,p.jsxs)("select",{name:"post_status",onChange:function(e){return U(e.target.name,e.target.value)},value:null==C?void 0:C.post_status,className:"btcd-paper-inp w-5 mt-1",children:[(0,p.jsx)("option",{disabled:!0,selected:!0,children:(0,i.__)("Select Status","bitform")}),(0,p.jsx)("option",{value:"publish",children:"Publish"}),(0,p.jsx)("option",{value:"draft",children:"Draft"}),(0,p.jsx)("option",{value:"inherit",children:"Inherit"}),(0,p.jsx)("option",{value:"auto-draft",children:"Auto-Draft"}),(0,p.jsx)("option",{value:"private ",children:"Private"}),(0,p.jsx)("option",{value:"pending",children:"Pending"})]}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,i.__)("Comment Status","bitform")})}),(0,p.jsxs)("select",{name:"comment_status",onChange:function(e){return U(e.target.name,e.target.value)},value:null==C?void 0:C.comment_status,className:"btcd-paper-inp w-5 mt-1",children:[(0,p.jsx)("option",{disabled:!0,selected:!0,children:(0,i.__)("Select Status","bitform")}),(0,p.jsx)("option",{value:"open",children:"Open"}),(0,p.jsx)("option",{value:"closed",children:"Closed"})]}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsx)("b",{children:(0,i.__)("Author","bitform")})}),(0,p.jsxs)("select",{name:"post_author",onChange:function(e){return U(e.target.name,e.target.value)},value:null==C?void 0:C.post_author,className:"btcd-paper-inp w-5 mt-1",children:[(0,p.jsx)("option",{disabled:!0,selected:!0,children:"Logged In User"}),g.map((function(e,t){return(0,p.jsx)("option",{value:e.ID,children:e.display_name},"pod-"+2*t)}))]}),(0,p.jsx)("div",{children:(0,p.jsxs)("p",{className:"p-1 f-m",children:[(0,p.jsx)("strong",{children:"Note"})," ",": All your taxonomies will be mapped automatically from your form fields."]})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"mt-3 mb-1",children:(0,p.jsx)("b",{children:"Pod Fields Mapping"})}),(0,p.jsx)("div",{className:"btcd-hr"}),(0,p.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,i.__)("Form Fields","bitform")})}),(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,i.__)("Pod Fields","bitform")})})]})]}),C.pod_map.map((function(e,n){return(0,p.jsx)(c.Z,{i:n,type:"pod",field:e,formFields:t,dataConf:C,setDataConf:w,podFields:Z},"analytics-m-"+(n+9))})),(0,p.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,p.jsx)("button",{onClick:function(){return(0,d.FP)("pod_map",C.pod_map.length,C,w)},className:"icn-btn sh-sm",type:"button",children:"+"})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"mt-3 mb-1",children:(0,p.jsx)("b",{children:"Post Fields Mapping"})}),(0,p.jsx)("div",{className:"btcd-hr"}),(0,p.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,i.__)("Form Fields","bitform")})}),(0,p.jsx)("div",{className:"txt-dp",children:(0,p.jsx)("b",{children:(0,i.__)("Post Fields","bitform")})})]})]}),C.post_map.map((function(e,n){return(0,p.jsx)(c.Z,{i:n,type:"post",field:e,formFields:t,dataConf:C,setDataConf:w,podFields:u.I},"analytics-m-"+(n+9))})),(0,p.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,p.jsx)("button",{onClick:function(){return(0,d.FP)("post_map",C.post_map.length,C,w)},className:"icn-btn sh-sm",type:"button",children:"+"})}),(0,p.jsxs)("button",{className:"btn f-left btcd-btn-lg green sh-sm flx",type:"button",onClick:function(){(0,d.aJ)(C)&&(0,d.UW)(C)?(0,o.Mm)(f,n,h,C,N,y,"edit"):R({show:!0,msg:(0,i.__)("Please map mandatory fields","bitform")})},children:[(0,i.__)("Save","bitform")," "]})]})}},30763:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(48291),i=n(28566),l=n(52052),s=n(88226),r=n(30400),o=n(22780),d=n(4637);function c(e){var t=e.i,n=e.type,c=e.formFields,m=e.field,u=e.dataConf,p=e.setDataConf,f=e.podFields,h=(0,a.sJ)(i.hi).isPro,_={pod:{propName:"pod_map",fldName:"podFormField"},post:{propName:"post_map",fldName:"postFormField"}}[n],v=_.propName,b=_.fldName,x=!!f.find((function(e){return e.key===m[b]&&e.required}));return(0,d.jsxs)("div",{className:"flx mt-2 mr-1",children:[(0,d.jsxs)("div",{className:"flx integ-fld-wrp",children:[(0,d.jsxs)("select",{className:"btcd-paper-inp mr-2",name:"formField",value:m.formField||"",onChange:function(e){return(0,o.wX)(v,e,t,u,p)},children:[(0,d.jsx)("option",{value:"",children:(0,s.__)("Select Field","bitform")}),(0,d.jsx)("optgroup",{label:"Form Fields",children:c.map((function(e){return"file-up"!==e.type&&(0,d.jsx)("option",{value:e.key,children:e.name},"ff-zhcrm-"+e.key)}))}),(0,d.jsx)("option",{value:"custom",children:(0,s.__)("Custom...","bitform")}),(0,d.jsx)("optgroup",{label:"General Smart Codes "+(h?"":"(PRO)"),children:h&&(null==r.C?void 0:r.C.map((function(e){return(0,d.jsx)("option",{value:e.name,children:e.label},"ff-rm-"+e.name)})))})]}),(0,d.jsxs)("select",{className:"btcd-paper-inp",name:b,value:m[b]||"",onChange:function(e){return(0,o.wX)(v,e,t,u,p)},disabled:x,children:[(0,d.jsx)("option",{value:"",children:(0,s.__)("Select Field","bitform")}),null==f?void 0:f.map((function(e){return(0,d.jsx)("option",{value:e.key,children:""+e.name},e.key+"-1")}))]})]}),x?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("button",{onClick:function(){return(0,o.FP)(v,t,u,p)},className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{onClick:function(){return(0,o.FP)(v,t,u,p)},className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),(0,d.jsx)("button",{onClick:function(){return(0,o.T5)(v,t,u,p)},className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:(0,d.jsx)(l.Z,{})})]})]})}},22780:(e,t,n)=>{n.d(t,{FP:()=>i,T5:()=>l,UW:()=>o,aJ:()=>r,wX:()=>s});var a=n(60795),i=function(e,t,n,i){var l=(0,a.Z)({},n);l[e].splice(t,0,{}),i((0,a.Z)({},l))},l=function(e,t,n,i){var l=(0,a.Z)({},n);l[e].length>1&&l[e].splice(t,1),i((0,a.Z)({},l))},s=function(e,t,n,i,l){var s=(0,a.Z)({},i);s[e][n][t.target.name]=t.target.value,l((0,a.Z)({},s))},r=function(e){return!((null!=e&&e.post_map?e.post_map.filter((function(e){return!e.formField&&e.postFormField&&e.required})):[]).length>0)},o=function(e){return!((null!=e&&e.pod_map?e.pod_map.filter((function(e){return!e.formField&&e.podFormField&&e.required})):[]).length>0)}}}]);