"use strict";(self.webpackChunk_bitforms=self.webpackChunk_bitforms||[]).push([[8727],{99521:(e,t,a)=>{a.d(t,{Rx:()=>l,uL:()=>r,Jq:()=>c,in:()=>d,Pd:()=>o});var i=a(665),n=a(14866),s=a(77111),l=function(e,t,a){var n=(0,i.Z)({},t);n.name=e.target.value,a((0,i.Z)({},n))},r=function(e,t,a,l){var r={api_key:e.api_key,api_url:e.api_url};(0,s.Z)(r,"bitforms_aCampaign_lists").then((function(s){if(s&&s.success){var r=(0,i.Z)({},e);s.data.activeCampaignLists?(r.default||(r.default={}),r.default.activeCampaignLists=s.data.activeCampaignLists,l({show:!0,msg:(0,n.__)("ActiveCampaign lists refreshed","bitform")})):l({show:!0,msg:(0,n.__)("No ActiveCampaign lists found. Try changing the header row number or try again","bitform")}),t((0,i.Z)({},r))}else l({show:!0,msg:(0,n.__)("ActiveCampaign lists refresh failed. please try again","bitform")});a(!1)})).catch((function(){return a(!1)}))},c=function(e,t,a,l){var r={api_key:e.api_key,api_url:e.api_url};(0,s.Z)(r,"bitforms_aCampaign_tags").then((function(s){if(s&&s.success){var r=(0,i.Z)({},e);s.data.activeCampaignTags?(r.default||(r.default={}),r.default.activeCampaignTags=s.data.activeCampaignTags,l({show:!0,msg:(0,n.__)("ActiveCampaign tags refreshed","bitform")})):l({show:!0,msg:(0,n.__)("No ActiveCampaign tags found. Try changing the header row number or try again","bitform")}),t((0,i.Z)({},r))}else l({show:!0,msg:(0,n.__)("ActiveCampaign tags refresh failed. please try again","bitform")});a(!1)})).catch((function(){return a(!1)}))},d=function(e,t,a,l){var r={api_key:e.api_key,api_url:e.api_url};(0,s.Z)(r,"bitforms_aCampaign_headers").then((function(s){if(s&&s.success){var r=(0,i.Z)({},e);if(s.data.activeCampaignField){r.default||(r.default={}),r.default.fields=s.data.activeCampaignField;var c=r.default.fields;r.field_map=Object.values(c).filter((function(e){return e.required})).map((function(e){return{formField:"",activeCampaignField:e.fieldId,required:!0}})),l({show:!0,msg:(0,n.__)("ActiveCampaign fields refreshed","bitform")})}else l({show:!0,msg:(0,n.__)("No ActiveCampaign fields found. Try changing the header row number or try again","bitform")});t((0,i.Z)({},r))}else l({show:!0,msg:(0,n.__)("ActiveCampaign fields refresh failed. please try again","bitform")});a(!1)})).catch((function(){return a(!1)}))},o=function(e){return!((null!=e&&e.field_map?e.field_map.filter((function(e){return!e.formField&&e.activeCampaignField&&e.required})):[]).length>0)}},24013:(e,t,a)=>{a.d(t,{Z:()=>_});var i=a(665),n=a(14866),s=a(59496),l=a(19753),r=a(67860),c=a(53132),d=a(2598),o=a(4637);function m(e){var t,a=e.activeCampaingConf,s=e.setActiveCampaingConf;return(0,o.jsx)("div",{className:"pos-rel d-flx w-8",children:(0,o.jsx)(d.Z,{checked:(null==(t=a.actions)?void 0:t.update)||!1,onChange:function(e){return function(e,t){var n=(0,i.Z)({},a);"update"===t&&(e.target.checked?n.actions.update=!0:delete n.actions.update),s((0,i.Z)({},n))}(e,"update")},className:"wdt-200 mt-4 mr-2",value:"user_share",title:(0,n.__)("Update ActiveCampaign","bitform"),subTitle:(0,n.__)("Update Responses with ActiveCampaign existing email?","bitform")})})}var u=a(99521),f=a(44084),p=a(84448),g=a(94557),v=a(2699),h=a(37029);function b(e){var t,a,s,l=e.i,r=e.formFields,c=e.field,d=e.activeCampaingConf,m=e.setActiveCampaingConf,u=c.required,b=(0,f.sJ)(p.hi).isPro,_=(null==d||null==(t=d.default)?void 0:t.fields)&&Object.values(null==d||null==(a=d.default)?void 0:a.fields).filter((function(e){return!e.required})),C=function(e,t){var a=(0,i.Z)({},d);a.field_map[t][e.target.name]=e.target.value,"custom"===e.target.value&&(a.field_map[t].customValue=""),m(a)};return(0,o.jsxs)("div",{className:"flx mt-2 mr-1",children:[(0,o.jsxs)("div",{className:"flx integ-fld-wrp",children:[(0,o.jsxs)("select",{className:"btcd-paper-inp mr-2",name:"formField",value:c.formField||"",onChange:function(e){return C(e,l)},children:[(0,o.jsx)("option",{value:"",children:(0,n.__)("Select Field","bitform")}),(0,o.jsx)("optgroup",{label:"Form Fields",children:r.map((function(e){return"file-up"!==e.type&&(0,o.jsx)("option",{value:e.key,children:e.name},"ff-zhcrm-"+e.key)}))}),(0,o.jsx)("option",{value:"custom",children:(0,n.__)("Custom...","bitform")}),(0,o.jsx)("optgroup",{label:"General Smart Codes "+(b?"":"(PRO)"),children:b&&(null==v.C?void 0:v.C.map((function(e){return(0,o.jsx)("option",{value:e.name,children:e.label},"ff-rm-"+e.name)})))})]}),"custom"===c.formField&&(0,o.jsx)(h.Z,{onChange:function(e){return function(e,t){var a=(0,i.Z)({},d);a.field_map[t].customValue=e.target.value,m(a)}(e,l)},label:(0,n.__)("Custom Value","bitform"),className:"mr-2",type:"text",value:c.customValue,placeholder:(0,n.__)("Custom Value","bitform")}),(0,o.jsxs)("select",{className:"btcd-paper-inp",name:"activeCampaignField",value:c.activeCampaignField,onChange:function(e){return C(e,l)},disabled:u,children:[(0,o.jsx)("option",{value:"",children:(0,n.__)("Select Field","bitform")}),u?(null==d||null==(s=d.default)?void 0:s.fields)&&Object.values(d.default.fields).map((function(e){return(0,o.jsx)("option",{value:e.fieldId,children:e.fieldName},e.fieldId+"-1")})):_&&_.map((function(e){return(0,o.jsx)("option",{value:e.fieldId,children:e.fieldName},e.fieldId+"-1")}))]})]}),!u&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:function(){return function(e){var t=(0,i.Z)({},d);t.field_map.splice(e,0,{}),m(t)}(l)},className:"icn-btn sh-sm ml-2",type:"button",children:"+"}),(0,o.jsx)("button",{onClick:function(){return function(e){var t=(0,i.Z)({},d);t.field_map.length>1&&t.field_map.splice(e,1),m(t)}(l)},className:"icn-btn sh-sm ml-2",type:"button","aria-label":"btn",children:(0,o.jsx)(g.Z,{})})]})]})}function _(e){e.formID;var t,a,d,f,p=e.formFields,g=e.activeCampaingConf,v=e.setActiveCampaingConf,h=e.isLoading,_=e.setIsLoading,C=e.setSnackbar,x=null==g||null==(t=g.default)?void 0:t.activeCampaignLists;return(0,s.useEffect)((function(){x&&(0,u.Jq)(g,v,_,C)}),[x]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("br",{}),(0,o.jsx)("b",{className:"wdt-200 d-in-b",children:(0,n.__)("List:","bitform")}),(0,o.jsxs)("select",{value:null==g?void 0:g.listId,name:"listId",id:"",className:"btcd-paper-inp w-5",onChange:function(e){var t=e.target.value,a=(0,i.Z)({},g);t?a.listId=t:delete a.listId,(0,u.in)(a,v,_,C)},children:[(0,o.jsx)("option",{value:"",children:(0,n.__)("Select List","bitform")}),(null==g||null==(a=g.default)?void 0:a.activeCampaignLists)&&Object.keys(g.default.activeCampaignLists).map((function(e){return(0,o.jsx)("option",{value:g.default.activeCampaignLists[e].listId,children:g.default.activeCampaignLists[e].listName},""+(e+1))}))]}),(0,o.jsx)("button",{onClick:function(){return(0,u.uL)(g,v,_,C)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":'"Refresh Activecapmaign list"'},type:"button",disabled:h,children:"↻"}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsxs)("div",{className:"d-flx",children:[(0,o.jsx)("b",{style:{marginTop:"15px"},className:"wdt-200 d-in-b",children:(0,n.__)("Tags: ","bitform")}),(0,o.jsx)(l.Z,{defaultValue:null==g?void 0:g.tagIds,className:"btcd-paper-drpdwn w-5",options:(null==g||null==(d=g.default)?void 0:d.activeCampaignTags)&&Object.keys(g.default.activeCampaignTags).map((function(e){return{label:g.default.activeCampaignTags[e].tagName,value:g.default.activeCampaignTags[e].tagId}})),onChange:function(e){return function(e){var t=(0,i.Z)({},g);e?t.tagIds=e?e.split(","):[]:delete t.tagIds,v((0,i.Z)({},t))}(e)}}),(0,o.jsx)("button",{onClick:function(){return(0,u.Jq)(g,v,_,C)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,n.__)("Refresh Activecapmaign Tags","bitform")+"'"},type:"button",disabled:h,children:"↻"})]}),(0,o.jsx)("br",{}),h&&(0,o.jsx)(r.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsx)("b",{className:"wdt-100",children:(0,n.__)("Map Fields","bitform")}),(0,o.jsx)("button",{onClick:function(){return(0,u.in)(g,v,_,C)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,n.__)("Refresh Activecapmaign Field","bitform")+"'"},type:"button",disabled:h,children:"↻"})]}),((null==g?void 0:g.listId)||(null==g||null==(f=g.default)?void 0:f.fields))&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"btcd-hr mt-1"}),(0,o.jsxs)("div",{className:"flx flx-around mt-2 mb-1",children:[(0,o.jsx)("div",{className:"txt-dp",children:(0,o.jsx)("b",{children:(0,n.__)("Form Fields","bitform")})}),(0,o.jsx)("div",{className:"txt-dp",children:(0,o.jsx)("b",{children:(0,n.__)("ActiveCampaign Fields","bitform")})})]}),g.field_map.map((function(e,t){return(0,o.jsx)(b,{i:t,field:e,activeCampaingConf:g,formFields:p,setActiveCampaingConf:v},"Activecampaign-m-"+(t+9))})),(0,o.jsx)("div",{className:"txt-center  mt-2",style:{marginRight:85},children:(0,o.jsx)("button",{onClick:function(){return(0,c.FP)(g.field_map.length,g,v)},className:"icn-btn sh-sm",type:"button",children:"+"})}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("div",{className:"mt-4",children:(0,o.jsx)("b",{className:"wdt-100",children:(0,n.__)("Actions","bitform")})}),(0,o.jsx)("div",{className:"btcd-hr mt-1"}),(0,o.jsx)(m,{activeCampaingConf:g,setActiveCampaingConf:v})]})]})}},8940:(e,t,a)=>{a.d(t,{Z:()=>s});var i=a(73305),n=a(4637);function s(e){var t=e.step,a=e.saveConfig,s=e.edit,l=e.disabled;return s?(0,n.jsx)("div",{className:"txt-center w-9 mt-3",children:(0,n.jsx)("button",{onClick:a,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:l,children:(0,i.__)("Update","bitform")})}):(0,n.jsxs)("div",{className:"btcd-stp-page txt-center",style:{width:3===t&&"90%",height:3===t&&"100%"},children:[(0,n.jsx)("h2",{className:"ml-3",children:(0,i.__)("Successfully Integrated","bitform")}),(0,n.jsxs)("button",{onClick:a,id:"secondary-update-btn",className:"btn btcd-btn-lg green sh-sm",type:"button",children:[(0,i.__)("Finish & Save ","bitform")," ✔"]})]})}}}]);