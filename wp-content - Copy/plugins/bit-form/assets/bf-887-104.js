var $=(s,n,a)=>new Promise((r,l)=>{var m=t=>{try{o(a.next(t))}catch(c){l(c)}},d=t=>{try{o(a.throw(t))}catch(c){l(c)}},o=t=>t.done?r(t.value):Promise.resolve(t.value).then(m,d);o((a=a.apply(s,n)).next())});import{r as y,d1 as v,_ as T,j as _}from"./main-398.js";import{S as x}from"./bf-404-116.js";function I({formFields:s,id:n,value:a,onChangeHandler:r,toolbarMnu:l,menubar:m,height:d,width:o,disabled:t,plugins:c}){const[f,C]=y.useState(0);y.useEffect(()=>{h()},[]);const h=()=>$(this,null,function*(){typeof tinymce=="undefined"?(yield v({src:"https://cdnjs.cloudflare.com/ajax/libs/tinymce/4.9.11/tinymce.min.js",integrity:"sha256-SnRzknLClR3GaNw9oN4offMGFiPbXQTP7q0yFLPPwgY=",id:"tinymceCDN",scriptInGrid:!1}))||(console.warn("Is your internet working properly to load script?"),h()):C(1)});y.useEffect(()=>{var e;typeof tinymce=="undefined"||t?document.getElementById(`${n}-settings`).value=a||"":(tinymce.remove(`textarea#${n}-settings`),k(),(e=tinymce.get(`${n}-settings`))==null||e.setContent(a||""))},[s,n,t,f]);const b=e=>e.typ==="signature"?`<img width="250" src="\${${e.key}}" alt="${e.key}" />`:`\${${e.key}}`,k=()=>{typeof tinymce!="undefined"&&tinymce.init({selector:`textarea#${n}-settings`,menubar:m,min_height:d||260,width:o||"100%",branding:!1,resize:"verticle",convert_urls:!1,theme:"modern",plugins:c||`directionality fullscreen image link media charmap hr lists textcolor colorpicker ${f?"wordpress":""}`,toolbar:l||"formatselect | fontsizeselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat toogleCode wp_code | addFormField | addSmartField",image_advtab:!0,default_link_target:"_blank",setup(e){var g;e.on("Paste Change input Undo Redo",()=>{r(e.getContent())}),s&&e.addButton("addFormField",{text:"Form Fields ",tooltip:"Add Form Field Value in Message",type:"menubutton",icon:!1,menu:s==null?void 0:s.map(i=>!i.type.match(/^(file-up|recaptcha|section|divider|image|advanced-file-up|)$/)&&{text:i.name,onClick(){e.insertContent(b(i))}})}),x&&e.addButton("addSmartField",{text:"Smart Tag Fields",tooltip:"Add Smart Tag Field Value in Message",type:"menubutton",icon:!1,menu:(g=x)==null?void 0:g.map(i=>({text:i.label,onClick(){e.insertContent(`\${${i.name}}`)}}))}),e.addButton("toogleCode",{text:"</>",tooltip:T("Toggle preview"),icon:!1,onclick(i){const{$:u}=i.control,p=u(`#${n}-settings`),w=u(e.iframeElement);p.value=e.getContent({source_view:!0}),w.toggleClass("btcd-mce-tinymce-hidden"),p.toggleClass("btcd-mce-tinymce-visible"),u("iframe.btcd-mce-tinymce-hidden").length>0?p.prependTo(".mce-edit-area"):e.setContent(document.getElementById(`${n}-settings`).value)}})}})};return _.jsx("textarea",{id:`${n}-settings`,className:"btcd-paper-inp mt-1 w-10",rows:"5",value:a,onChange:e=>r(e.target.value),style:{width:"95.5%",height:"auto"},disabled:t})}export{I as T};
