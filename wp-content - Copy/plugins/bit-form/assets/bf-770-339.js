var M=Object.defineProperty;var g=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var j=(e,n,t)=>n in e?M(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,m=(e,n)=>{for(var t in n||(n={}))A.call(n,t)&&j(e,t,n[t]);if(g)for(var t of g(n))P.call(n,t)&&j(e,t,n[t]);return e};import{c as b,d as v,_ as p,u as S,j as o,w as T,$ as V}from"./main-398.js";import{S as w}from"./bf-404-116.js";import{M as C}from"./bf-305-112.js";const q=(e,n,t,l)=>{const s=m({},t);s[e].splice(n,0,{}),l(m({},s))},O=(e,n,t,l)=>{const s=m({},t);s[e].length>1&&s[e].splice(n,1),l(m({},s))},_=(e,n,t,l,s)=>{const c=m({},l);c[e][t][n.target.name]=n.target.value,s(m({},c))},L=e=>!((e!=null&&e.post_map?e.post_map.filter(t=>!t.formField&&t.postField&&t.required):[]).length>0),G=e=>!((e!=null&&e.acf_map?e.acf_map.filter(t=>!t.formField&&t.acfField&&t.required):[]).length>0),U=(e,n,t)=>{const l=b({post_type:e==null?void 0:e.post_type},"bitforms_get_custom_field").then(s=>{var c,i,r,u;return s!==void 0&&s.success&&((c=s==null?void 0:s.data)!=null&&c.acfFields&&n(s.data.acfFields),(i=s==null?void 0:s.data)!=null&&i.acfFile&&t(s.data.acfFile)),((r=s==null?void 0:s.data)==null?void 0:r.acfFields.length)!==0||((u=s==null?void 0:s.data)==null?void 0:u.acfFile.length)!==0?"Successfully refresh ACF Fields.":"ACF Fields not found"});v.promise(l,{success:s=>s,error:p("Error Occured"),loading:p("Loading ACF Fields...")})},B=(e,n)=>{const t=b({},"bitforms_get_post_type").then(l=>{var s,c,i;if(l&&l.success){let r=m({},e);return(s=l==null?void 0:l.data)!=null&&s.post_types&&(r=Object.values((c=l==null?void 0:l.data)==null?void 0:c.post_types),n(r)),((i=l==null?void 0:l.data)==null?void 0:i.post_types.length)!==0?"Successfully refresh Post Types.":" Post Types not found"}});v.promise(t,{success:l=>l,error:p("Error Occured"),loading:p("Loading Post Types...")})};function H({i:e,type:n,formFields:t,field:l,dataConf:s,setDataConf:c,customFields:i,fieldType:r}){var x;const u={acf:{propName:"acf_map",fldName:"acfField"},post:{propName:"post_map",fldName:"postField"},acfFile:{propName:"acf_file_map",fldName:"acfFileUpload"}},N=S(V),{isPro:h}=N,{propName:d,fldName:f}=u[n],k=(a,$)=>{const y=m({},s);y[d][$].customValue=a.target.value,c(y)},F=!!i.find(a=>a.key===l[f]&&a.required);return o.jsxs("div",{className:"flx mt-2 mr-1",children:[o.jsxs("div",{className:"flx integ-fld-wrp",children:[o.jsxs("select",{className:"btcd-paper-inp mr-2",name:"formField",value:l.formField||"",onChange:a=>_(d,a,e,s,c),children:[o.jsx("option",{value:"",children:p("Select Field")}),o.jsx("optgroup",{label:"Form Fields",children:n==="post"?o.jsxs(o.Fragment,{children:[t.map(a=>a.type!=="file-up33"&&o.jsx("option",{value:a.key,children:a.name},`ff-zhcrm-${a.key}`)),o.jsx("option",{value:"custom",children:p("Custom...")})]}):o.jsxs(o.Fragment,{children:[r==="file"?t.map(a=>a.type==="file-up"&&o.jsx("option",{value:a.key,children:a.name},`ff-zhcrm-${a.key}`)):t.map(a=>a.type!=="file-up"&&o.jsx("option",{value:a.key,children:a.name},`ff-zhcrm-${a.key}`)),r!=="file"&&o.jsx("option",{value:"custom",children:p("Custom...")})]})}),o.jsx("optgroup",{label:`General Smart Codes ${h?"":"(PRO)"}`,children:h&&((x=w)==null?void 0:x.map(a=>o.jsx("option",{value:a.name,children:a.label},`ff-rm-${a.name}`)))})]}),l.formField==="custom"&&o.jsx(C,{onChange:a=>k(a,e),label:p("Custom Value"),className:"mr-2",type:"text",value:l.customValue,placeholder:p("Custom Value")}),o.jsxs("select",{className:"btcd-paper-inp",name:f,value:l[f]||"",onChange:a=>_(d,a,e,s,c),disabled:F,defaultValue:"0",children:[o.jsx("option",{value:"0",children:p("Select Field")}),i==null?void 0:i.map(a=>o.jsx("option",{value:a.key,children:`${a.name}`},`${a.key}-1`))]})]}),!F&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>q(d,e,s,c),className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),o.jsx("button",{onClick:()=>O(d,e,s,c),className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:o.jsx(T,{})})]})]})}export{H as F,q as a,G as b,L as c,B as d,U as r};
