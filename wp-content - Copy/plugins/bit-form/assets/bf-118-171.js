import{o as le,p as ne,e as re,u as me,a as ce,j as e,cw as de,N as oe,b as j,_ as s,B as pe,l as g,af as he,bM as ge,y as xe}from"./main-398.js";import{B as je}from"./bf-354-65.js";import{p as be,f as Q}from"./bf-312-78.js";import{C as c}from"./bf-288-71.js";import{T as ue}from"./bf-887-104.js";import"./bf-491-73.js";import"./bf-404-116.js";function Te(){var N,f,w,k,F,y,C,T,z,$,S,P,B,O,I,Y,L,M,W,D,U,X,_,H,A,E,R,J,V,q,G,K;const{formType:b,formID:d,id:m}=le(),Z=ne(),[x,p]=re(he),ee=me(ge),{css:l}=ce(),a=x[m],u=()=>{const t=g(x,n=>{n.push({updateTem:1})});p(t),Z(`/form/settings/${b}/${d}/pdf-templates`)},te=t=>{p(n=>g(n,r=>{t.target.checked?r[m].setting.override=!0:r[m].setting.override=!1}))},i=(t,n)=>{let r=n;p(h=>g(h,se=>{t==="setting->font"&&(r=Q.find(ie=>ie.name===r)),xe(se[m],t,r)}))},v=(t,n)=>{p(r=>g(r,h=>{t.target.checked?h[m].setting.watermark.active=n:delete h[m].setting.watermark.active}))},ae=()=>{if(typeof wp!="undefined"&&wp.media){const t=wp.media({title:"Media",button:{text:"Select picture"},library:{type:"image"},multiple:!1});t.on("select",()=>{const{url:n}=t.state().get("selection").first().toJSON();i("setting->watermark->img->src",n)}),t.open()}};return x.length<1?e.jsx(de,{to:`/form/settings/edit/${d}/pdf-templates`,replace:!0}):e.jsxs("div",{style:{width:900},children:[e.jsxs(oe,{to:`/form/settings/${b}/${d}/pdf-templates`,className:`${l(j.btn)} btcd-btn-o-gray`,children:[e.jsx(je,{className:"mr-1"}),s("Back")]}),e.jsx("button",{id:"secondary-update-btn",onClick:u,className:`${l(j.btn)} blue f-right`,type:"button",children:s("Update Template")}),e.jsxs("div",{className:"mt-3 flx",children:[e.jsx("b",{className:"w-2",children:s("Template Name:")}),e.jsx("input",{onChange:t=>i(t.target.name,t.target.value),type:"text",className:"btcd-paper-inp w-9",placeholder:"Name",value:a.title,name:"title"})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{children:e.jsx("b",{children:s("Body:")})}),e.jsx("label",{htmlFor:`t-m-e-${m}-${d}`,className:"mt-2 w-10",children:e.jsx(ue,{id:`mail-tem-${d}`,formFields:ee,value:a.body,onChangeHandler:t=>i("body",t),width:"100%"})})]}),e.jsx("div",{className:l(o.checkbox),children:e.jsx(c,{onChange:t=>te(t),checked:a.setting.override,title:"Override global PDF setting"})}),a.setting.override&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"paper_size",children:[e.jsx("b",{children:s("Paper Size")}),e.jsx("select",{id:"paper_size",name:"paperSize",onChange:t=>i("setting->paperSize",t.target.value),value:a.setting.paperSize,className:"btcd-paper-inp mt-1",children:be.map((t,n)=>e.jsx("option",{value:t.value,children:t.label},`${n}-${t.val}`))})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"orientation",children:[e.jsx("b",{children:s("Orientation")}),e.jsxs("select",{id:"orientation",name:"orientation",onChange:t=>i("setting->orientation",t.target.value),value:a.setting.orientation,className:"btcd-paper-inp mt-1",children:[e.jsx("option",{value:"p",children:s("Portrait")}),e.jsx("option",{value:"l",children:s("Landscape")})]})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"font",children:[e.jsx("b",{children:s("Font Family")}),e.jsx("select",{id:"font",name:"font",onChange:t=>i("setting->font",t.target.value),value:a.setting.font.name,className:"btcd-paper-inp mt-1",children:Q.map((t,n)=>e.jsx("option",{value:t.name,children:t.name},`${n}-${t.name}`))})]})}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"fontSize",children:[e.jsx("b",{children:s("Font Size (Pixels)")}),e.jsx("input",{id:"fontSize",name:"fontSize",onChange:t=>i("setting->fontSize",t.target.value),value:a.setting.fontSize,className:"btcd-paper-inp mt-1",placeholder:"Font Size",type:"number"})]})}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"pdfFileName",children:[e.jsx("b",{children:s("PDF File Name")}),e.jsx("input",{id:"pdfFileName",name:"pdfFileName",onChange:t=>i("setting->pdfFileName",t.target.value),value:(N=a.setting)==null?void 0:N.pdfFileName,className:"btcd-paper-inp mt-1",placeholder:"PDF File Name",type:"text"})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"active",children:[e.jsx("b",{children:s("Watermark")}),e.jsx(c,{name:"active",onChange:t=>v(t,"txt"),checked:((w=(f=a.setting)==null?void 0:f.watermark)==null?void 0:w.active)==="txt",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"Text"})})}),e.jsx(c,{name:"active",onChange:t=>v(t,"img"),checked:((F=(k=a.setting)==null?void 0:k.watermark)==null?void 0:F.active)==="img",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"Image"})})})]})}),((y=a.setting.watermark)==null?void 0:y.active)&&e.jsxs("div",{className:l(o.bdr),children:[a.setting.watermark.active==="txt"&&e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"watermarkText",children:[e.jsx("b",{children:s("Watermark Text")}),e.jsx("input",{id:"watermarkText",name:"watermarkText",onChange:t=>i("setting->watermark->txt",t.target.value),value:(T=(C=a.setting)==null?void 0:C.watermark)==null?void 0:T.txt,className:"btcd-paper-inp mt-1",placeholder:"Watermark Text",type:"text"})]})}),a.setting.watermark.active==="img"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"watermarkImg",className:l({flx:"align-center"}),children:[e.jsx("b",{children:s("Watermark Image")}),e.jsx(pe,{className:"ml-2",onClick:ae,children:"Upload"}),(($=(z=a.setting.watermark)==null?void 0:z.img)==null?void 0:$.src)&&e.jsx("img",{className:l(o.img),src:(P=(S=a.setting.watermark)==null?void 0:S.img)==null?void 0:P.src,alt:""})]})}),e.jsxs("div",{className:l(o.size),children:[e.jsxs("label",{htmlFor:"width",className:l({w:300}),children:[e.jsx("b",{children:s("Width")}),e.jsx("input",{id:"width",onChange:t=>i("setting->watermark->img->width",t.target.value),value:(I=(O=(B=a.setting)==null?void 0:B.watermark)==null?void 0:O.img)==null?void 0:I.width,className:"btcd-paper-inp mt-1",placeholder:"Image width",type:"number"})]}),e.jsxs("label",{htmlFor:"height",className:l({w:300}),children:[e.jsx("b",{children:s("Height")}),e.jsx("input",{id:"height",onChange:t=>i("setting->watermark->img->height",t.target.value),value:(M=(L=(Y=a.setting)==null?void 0:Y.watermark)==null?void 0:L.img)==null?void 0:M.height,className:"btcd-paper-inp mt-1",placeholder:"Image height",type:"number"})]})]}),e.jsxs("div",{className:l(o.size),children:[e.jsxs("label",{htmlFor:"posX",className:l({w:300}),children:[e.jsx("b",{children:s("Position X (Units in millimeters)")}),e.jsx("input",{id:"posX",onChange:t=>i("setting->watermark->img->posX",t.target.value),value:(U=(D=(W=a.setting)==null?void 0:W.watermark)==null?void 0:D.img)==null?void 0:U.posX,className:"btcd-paper-inp mt-1",placeholder:"Position x",type:"number"})]}),e.jsxs("label",{htmlFor:"posY",className:l({w:300}),children:[e.jsx("b",{children:s("Position Y (Units in millimeters)")}),e.jsx("input",{id:"posY",onChange:t=>i("setting->watermark->img->posY",t.target.value),value:(H=(_=(X=a.setting)==null?void 0:X.watermark)==null?void 0:_.img)==null?void 0:H.posY,className:"btcd-paper-inp mt-1",placeholder:"Position Y",type:"number"})]})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"imgBehind",children:[e.jsx("b",{children:s("Show watermark behind the page content")}),e.jsx(c,{radio:!0,onChange:t=>i("setting->watermark->img->imgBehind",t.target.value),checked:((R=(E=(A=a.setting)==null?void 0:A.watermark)==null?void 0:E.img)==null?void 0:R.imgBehind)==="true",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"Yes"})}),value:"true"}),e.jsx(c,{radio:!0,onChange:t=>i("setting->watermark->img->imgBehind",t.target.value),checked:((q=(V=(J=a.setting)==null?void 0:J.watermark)==null?void 0:V.img)==null?void 0:q.imgBehind)==="false",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"No"})}),value:"false"})]})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"opacity",children:[e.jsx("b",{children:s("Opacity (0-100)")}),e.jsx("input",{id:"opacity",onChange:t=>i("setting->watermark->alpha",t.target.value),value:(K=(G=a.setting)==null?void 0:G.watermark)==null?void 0:K.alpha,className:"btcd-paper-inp mt-1",placeholder:"Opacity",max:"100",type:"number"})]})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"direction",children:[e.jsx("b",{children:s("Language Direction")}),e.jsx(c,{radio:!0,onChange:t=>i("setting->direction",t.target.value),checked:a.setting.direction==="ltr",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"LTR"})}),value:"ltr"}),e.jsx(c,{radio:!0,onChange:t=>i("setting->direction",t.target.value),checked:a.setting.direction==="rtl",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"RTL"})}),value:"rtl"})]})}),e.jsx("button",{id:"secondary-update-btn",onClick:u,className:`${l(j.btn)} blue f-right`,type:"button",children:s("Update Template")})]})]})}const o={checkbox:{mt:10},font:{flx:"align-center"},color:{b:"1px solid rgb(239 239 239) !important",w:30,h:30,ml:20},bdr:{pl:15},size:{flx:"align-center",mt:20,gp:40},img:{w:50,ml:20,b:"1px solid var(--white-0-89)",bs:"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px",brs:5}};export{Te as default};
